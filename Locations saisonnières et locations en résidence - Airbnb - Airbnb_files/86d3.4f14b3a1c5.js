__d((function(g,r,i,a,m,e,d){"use strict";function t(){const _=r(d[0]);return t=function(){return _},_}Object.defineProperty(e,"__esModule",{value:!0}),e.SAVE_TO_LIST_LOCALSTORAGE_UPDATE_KEY=void 0,e.broadcastSaveToListUpdate=function(){const n=(0,t().v4)();if((0,_.default)()){try{var s;null===(s=window.sessionStorage)||void 0===s||s.setItem(o.LAST_UPDATE_SESSION_STORAGE_KEY,n)}catch(t){}try{window.localStorage.setItem("save_to_list_update",n)}catch(t){}}};var _=babelHelpers.interopRequireDefault(r(d[1])),o=r(d[2]);e.SAVE_TO_LIST_LOCALSTORAGE_UPDATE_KEY="save_to_list_update"}),"039bde",["f2cf32","864e67","457701"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{location:{search:n}}=window,{adults:c=1,infants:f=0,children:s=0,pets:o=0,checkin:Y,checkout:h,check_in:p,check_out:D,flexible_date_search_filter_type:_,flexible_days:M}=t.default.parse(n,{ignoreQueryPrefix:!0}),b=u?null:p||Y,k=u?null:D||h;return{adults:Math.max(parseInt(c,10),1),infants:parseInt(f,10),children:parseInt(s,10),pets:parseInt(o,10),checkin:b&&(0,l.default)(b).isValid()?(0,l.default)(b).format("YYYY-MM-DD"):null,checkout:k&&(0,l.default)(k).isValid()?(0,l.default)(k).format("YYYY-MM-DD"):null,checkIn:b&&(0,l.default)(b).isValid()?(0,l.default)(b).format("YYYY-MM-DD"):null,checkOut:k&&(0,l.default)(k).isValid()?(0,l.default)(k).format("YYYY-MM-DD"):null,flexibleDateSearchFilterType:_,flexibleDays:M}};var l=babelHelpers.interopRequireDefault(r(d[0])),t=babelHelpers.interopRequireDefault(r(d[1]))}),"06cd78",["415764","d2b390"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,o,f,s){if(!s)return(0,t.airdogCount)('saves_entity_map_undefined',1,{stack:(new Error).stack}),(function(t,u,o){return!!o&&o.some(o=>(0,n.default)(t,u,o))})(u,o,f);return s(o,u)};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1]))}),"0bf563",["08b665","cc9314"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){const f=(0,t.default)().add(1,'days');let{checkin:n,checkout:c}=l.search_params;if(n)return n=(0,t.default)(n,t.default.ISO_8601),(0,u.default)(n,f);if(c)return c=(0,t.default)(c,t.default.ISO_8601),(0,u.default)(c,f);return!0};var t=babelHelpers.interopRequireDefault(r(d[0])),u=babelHelpers.interopRequireDefault(r(d[1]))}),"10fb02",["415764","e9407f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isM23SimpleSaveEnabled=function(){var t;return null!==(t=(0,s.getTreatmentOverride)('wishlist_m23_simple_save_webs'))&&void 0!==t?t:u.default.getBootstrap('wishlist_m23_global')&&u.default.getBootstrap('wishlist_m23_simple_save_webs')},e.shouldAllowMultipleSaves=function(){if(u.default.getBootstrap('show_multiple_saves_force_in'))return!0;const s=(0,l.default)().show_save_action_iteration;if('in'===s||'multi'===s)return!0;if('false'===s)return!1;if(u.default.getBootstrap('show_multiple_saves'))return t.default.deliverExperiment('gs_plan_wishlist_multiple_saves_v2',{control:()=>!1,treatment:()=>!0,treatment_unknown:()=>!1});return!1},e.shouldUseAcpId=function(){if(u.default.getBootstrap('should_use_acp_id_force'))return!0;if(u.default.getBootstrap('should_use_acp_id'))return t.default.deliverExperiment('should_use_acp_id',{control:()=>!1,treatment:()=>!0,treatment_unknown:()=>!1});return!1};var t=babelHelpers.interopRequireDefault(r(d[0])),l=babelHelpers.interopRequireDefault(r(d[1])),s=r(d[2]),u=babelHelpers.interopRequireDefault(r(d[3]))}),"1164da",["52d64b","99e500","597519","6b945b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./StaysPdpSections-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'StaysPdpSections',type:'query',operationId:'a237ab8b9fa596d486fedef01ce88c72df39100c34a2c5339090f3126a0d2c23'};e.default=t}),"263d9b",["d1d879","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){const{display_extensions:n}=(0,t.default)(l.search);if(null==n||!Array.isArray(n))return null;return n.map(t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"2954b7",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.activityHeartClicked=function(t,s,n,l,o){const u=f.default.getListIdForCurrentSavedSearch(),{id:c}=t,p=u&&!n&&!(function(t,s,n){const l=s&&s.find(({id:s})=>s===t);return(0,_.isListFull)(l,n)})(u,s,v.default.ACTIVITY);return(s,n)=>{if(l)if(p){const{saveToListModal:{addWishlistItem:t}}=n();s(W({addWishlistItem:t,entityId:c,entityType:v.default.ACTIVITY,listId:u,savingFrom:o}))}else s((function(t,s,n){return{type:O.OPENED_FROM_ACTIVITY_HEART_LOGGED_IN,payload:{activity:t,activityId:s,savingFrom:n}}})(t,c,o));else s((function(t,s,n){return{type:O.OPENED_FROM_ACTIVITY_HEART_LOGGED_OUT,payload:{activity:t,activityId:s,savingFrom:n}}})(t,c,o))}},e.closed=function(){return t=>{t({type:O.CLOSED})}},e.createListClicked=function(t,s,l,u,c,_,v,S,L){return(b,w)=>{b((function({listName:t,entity:s,entityId:l,entityType:u,savingFrom:c,getState:_,dispatch:v,saveWithoutDates:S,filters:L,finishCreating:b,categoryTag:w,placeId:W}){const H=new Promise((f,O)=>{const{saveToListModal:{addWishlistItem:N,deleteWishlistItem:w,createWishlist:R,getWishlist:W}}=_(),H=o=>{if(!o)return;const _=(0,p.logSessionStart)({schema:n().WishlistAddToListApiSession,event_data:{product_id:l.toString(),wishlist_id:o.toString(),vertical_type:D.WishlistEntityTypeToVerticalType[u]}});N({variables:{savedItemId:l,savedItemType:D.WishlistEntityTypeToItemType[u],wishlistId:(0,E.createGlobalId)('Wishlist',o.toString())}}).then(()=>{(n=>{W({variables:{wishlistId:(0,E.createGlobalId)('Wishlist',n.toString())}}).then(o=>{const{endDate:p,imageUrl:_,ownerUserId:h,startDate:S,wishlistUser:E}=o.presentation.wishlistDetailPage.wishlistDetailHeader;v(G({id:n,name:t},()=>{n&&((0,F.shouldAllowMultipleSaves)()?(0,I.pushToHistory)("/wishlists/"+n):(v(M({deleteWishlistItem:w,entityId:l,entityType:u,listId:n,savingFrom:c})),v(C(s,l,u,c))),v(Y({newToastVisible:!1})))})),b&&b(),(0,T.shouldShowSaveNotificationDot)()&&y.default.emit('simpleHeader:refetchContent'),f({entityType:u,list:{checkin:S,checkout:p,created_by:'USER',id:n,name:t,image_url:_,thumbnail_image_url:_,user:{first_name:E.firstName,has_profile_pic:!!E.thumbnailUrl,id:parseInt(h,10),picture_url:E.thumbnailUrl,smart_name:E.firstName,thumbnail_url:E.thumbnailUrl},user_id:h,[A.EntityTypeToPropertyName[u]]:[l]}})}).catch(O)})(o)}).catch(O).finally(()=>(0,p.logSessionEnd)({sessionId:_}))};let P;if(L){const{checkin:t,checkout:s}=L;P={checkin:t,checkout:s}}P=(0,h.default)(S);const U=(0,p.logSessionStart)({schema:o().WishlistCreateNewApiSession});R({variables:{...P,name:t,isPrivate:!0}}).then(t=>H(t.data.createWishlist.wishlistId)).catch(O).finally(()=>(0,p.logSessionEnd)({sessionId:U}))});return{type:O.CREATE_AND_SAVE_TO_LIST,promise:H,meta:{onSuccess({list:t}){(0,F.isM23SimpleSaveEnabled)()&&v(R(t,u,w,W)),(0,N.broadcastSaveToListUpdate)();const{id:s}=t;f.default.putListIdForCurrentSavedSearch(s)},onFailure(t){t&&v(P(t))},optimisticSaveListingId:l}}})({listName:t,entity:s,entityId:l,entityType:u,savingFrom:c,dispatch:b,saveWithoutDates:_,getState:w,finishCreating:v,categoryTag:S,placeId:L}))}},e.experienceHeartClicked=function(t,s,n,l,o){const u=String(t.id);V("saves.heart.experienceHeart");const c=(s||[]).filter(({mt_template_ids:t=[]})=>t.some(t=>String(t)===u));return(s,n)=>{if(l)if(c.length>0&&!(0,F.shouldAllowMultipleSaves)()){const{saveToListModal:{deleteWishlistItem:l}}=n();c.forEach(t=>{t.id&&s(M({deleteWishlistItem:l,entityId:u,entityType:v.default.EXPERIENCE,listId:t.id,savingFrom:o}))}),s(k(c[0],()=>{s(U(c[0],t,u,v.default.EXPERIENCE,o))}))}else s((function(t,s,n){return{type:O.OPENED_FROM_EXPERIENCE_HEART_LOGGED_IN,payload:{experience:t,experienceId:s,savingFrom:n}}})(t,u,o));else s((function(t,s,n){return{type:O.OPENED_FROM_EXPERIENCE_HEART_LOGGED_OUT,payload:{experience:t,experienceId:s,savingFrom:n}}})(t,u,o))}},e.listClicked=function(t,s,n,l,o,u,c,p){return(y,I)=>{const{saveToListModal:{visible:T,addWishlistItem:_,deleteWishlistItem:h}}=I();t.id&&(o?(y(M({deleteWishlistItem:h,entityId:n,entityType:l,listId:t.id,savingFrom:u})),T||(0,F.shouldAllowMultipleSaves)()||y(k(t,()=>{y(U(t,s,n,l,u))}))):y(W({addWishlistItem:_,entity:s,entityId:n,entityType:l,list:t,listId:t.id,savingFrom:u,categoryTag:c,placeId:p})))}},e.listingHeartClicked=function(t,s,n,l,o,u,c,p){const y=String(t.id);V("saves.heart.listingHeart");const I=(s||[]).filter(({listing_ids_str:t=[]})=>t.some(t=>t===y));return(s,n)=>{if(l)if(I.length>0&&!(0,F.shouldAllowMultipleSaves)()){const{saveToListModal:{deleteWishlistItem:l}}=n();I.forEach(t=>{t.id&&s(M({listId:t.id,entityId:y,entityType:v.default.LISTING,savingFrom:o,deleteWishlistItem:l}))}),s(k(I[0],()=>{s(U(I[0],t,y,v.default.LISTING,o))}))}else{var T;const{saveToListModal:{addWishlistItem:l,savedToList:I}}=n();null!=I&&null!==(T=I.list)&&void 0!==T&&T.id&&(function({savedToList:t,savingFrom:s,categoryTag:n,placeId:l}){var o;if(!(0,F.isM23SimpleSaveEnabled)())return!1;if(null==t||null===(o=t.list)||void 0===o||!o.id)return!1;if(s===L.default.HOMES_SEARCH)return n&&(null==t?void 0:t.categoryTag)&&(null==t?void 0:t.categoryTag)===n;if(s===L.default.LOCATION_SEARCH)return l&&(null==t?void 0:t.placeId)&&(null==t?void 0:t.placeId)===l})({savedToList:I,savingFrom:o,categoryTag:c,placeId:p})?s(W({addWishlistItem:l,entity:t,entityId:y,entityType:v.default.LISTING,list:I.list,listId:I.list.id,savingFrom:o,categoryTag:c,placeId:p})):s((function(t,s,n,l){return{type:O.OPENED_FROM_LISTING_HEART_LOGGED_IN,payload:{listing:t,listingId:s,savingFrom:n,saveWithoutDates:l}}})(t,y,o,u||!1))}else s((function(t,s,n,l){return{type:O.OPENED_FROM_LISTING_HEART_LOGGED_OUT,payload:{listing:t,listingId:s,savingFrom:n,saveWithoutDates:l}}})(t,y,o,u||!1))}},e.newToastUpdated=Y,e.placeHeartClicked=function(t,s,n,l,o){const c=String(t.primary_place.id),p=JSON.stringify({placeId:c}),y=JSON.stringify({defaultProps:{},propTypes:{placeId:u().default.string}});V("saves.heart.placeHeart",p,y);const I=(s||[]).filter(({place_ids:t=[],airbnb_canonical_place_ids:s=[]})=>t.some(t=>String(t)===c)||s.some(t=>String(t)===c));return(s,n)=>{if(l)if(I.length>0&&!(0,F.shouldAllowMultipleSaves)()){const{saveToListModal:{deleteWishlistItem:l}}=n();I.forEach(t=>{t.id&&s(M({deleteWishlistItem:l,entityId:c,entityType:(0,w.isAcpId)(c)?v.default.AIRBNB_CANONICAL_PLACE:v.default.PLACE,listId:t.id,savingFrom:o}))}),s(k(I[0],()=>{s(U(I[0],t,c,(0,w.isAcpId)(c)?v.default.AIRBNB_CANONICAL_PLACE:v.default.PLACE,o))}))}else s((function(t,s,n){return{type:O.OPENED_FROM_PLACE_HEART_LOGGED_IN,payload:{place:t,placeId:s,savingFrom:n}}})(t,c,o));else s((function(t,s,n){return{type:O.OPENED_FROM_PLACE_HEART_LOGGED_OUT,payload:{place:t,placeId:s,savingFrom:n}}})(t,c,o))}},e.prefillListName=function(t){return{payload:{newListName:t},type:O.PREFILL_LIST_NAME}},e.refetchLists=H,e.setEntityMap=function(t){return{payload:t,type:O.SET_ENTITY_MAP}},e.setLastError=function(t){return{type:O.SET_LAST_ERROR,payload:t||null}},e.setLists=function(t){return{payload:t,type:O.SET_LISTS}},e.setListsCacheValidity=function({isValid:t,shouldAlertOtherTabs:s=!1}){!t&&s&&(0,N.broadcastSaveToListUpdate)();return{payload:{isValid:t},type:O.SET_LISTS_CACHE_VALIDITY}},e.setMutations=function(t){return{payload:t,type:O.SET_MUTATIONS}},e.signupModalFinished=function(t){return s=>{s(H(t)),s({type:O.SIGNUP_MODAL_FINISHED})}},e.storyHeartClicked=function(t,s,n,l,o){const u=String(t.id),c=(s||[]).filter(({article_ids:t=[]})=>t.some(t=>String(t)===u));return(s,n)=>{if(l)if(c.length>0&&!(0,F.shouldAllowMultipleSaves)()){const{saveToListModal:{deleteWishlistItem:t}}=n();c.forEach(n=>{n.id&&s(M({listId:n.id,entityId:u,entityType:v.default.STORY,savingFrom:o,deleteWishlistItem:t}))})}else s((function(t,s,n){return{type:O.OPENED_FROM_STORY_HEART_LOGGED_IN,payload:{story:t,storyId:s,savingFrom:n}}})(t,u,o));else s((function(t,s,n){return{type:O.OPENED_FROM_STORY_HEART_LOGGED_OUT,payload:{story:t,storyId:s,savingFrom:n}}})(t,u,o))}};var t=babelHelpers.interopRequireDefault(r(d[0]));function s(){const t=r(d[1]);return s=function(){return t},t}function n(){const t=r(d[2]);return n=function(){return t},t}function l(){const t=r(d[3]);return l=function(){return t},t}function o(){const t=r(d[4]);return o=function(){return t},t}function u(){const t=babelHelpers.interopRequireDefault(r(d[5]));return u=function(){return t},t}var c=babelHelpers.interopRequireDefault(r(d[6])),p=r(d[7]),y=babelHelpers.interopRequireDefault(r(d[8])),I=r(d[9]),T=r(d[10]),_=r(d[11]),h=babelHelpers.interopRequireDefault(r(d[12])),f=babelHelpers.interopRequireDefault(r(d[13])),v=babelHelpers.interopRequireDefault(r(d[14])),S=babelHelpers.interopRequireDefault(r(d[15])),E=r(d[16]),L=babelHelpers.interopRequireDefault(r(d[17])),A=r(d[18]),O=r(d[19]),b=r(d[20]),N=r(d[21]),F=r(d[22]),w=r(d[23]),D=r(d[24]);function R(t,s,n,l){return{type:O.SET_SAVED_TO_LIST,payload:{list:t,entityType:s,categoryTag:n,placeId:l}}}function W({addWishlistItem:t,entity:s,entityId:l,entityType:o,list:u,listId:c,savingFrom:_,categoryTag:h,placeId:v}){const S=(0,p.logSessionStart)({schema:n().WishlistAddToListApiSession,event_data:{product_id:l.toString(),wishlist_id:c.toString(),vertical_type:D.WishlistEntityTypeToVerticalType[o]}}),L=t({variables:{checkIn:s.checkIn,checkOut:s.checkOut,savedItemId:l,savedItemType:D.WishlistEntityTypeToItemType[o],wishlistId:(0,E.createGlobalId)('Wishlist',c.toString())}}).finally(()=>(0,p.logSessionEnd)({sessionId:S}));return(t,n)=>{t({type:O.SAVE_TO_LIST,promise:L,meta:{listId:c,entityId:l,entityType:o,onFailure(s){u&&s&&t(P(s))},onSuccess(){(0,N.broadcastSaveToListUpdate)(),f.default.putListIdForCurrentSavedSearch(c),u&&((0,F.isM23SimpleSaveEnabled)()&&t(R(u,o,h,v)),t(G(u,()=>{if(u.id){if((0,F.shouldAllowMultipleSaves)())(0,I.pushToHistory)("/wishlists/"+u.id);else{const{saveToListModal:{deleteWishlistItem:c}}=n();t(M({deleteWishlistItem:c,entityId:l,entityType:o,listId:u.id,savingFrom:_})),t(C(s,l,o,_))}t(Y({newToastVisible:!1}))}})),(0,T.shouldShowSaveNotificationDot)()&&y.default.emit('simpleHeader:refetchContent'))}}})}}function M({deleteWishlistItem:t,entityId:s,entityType:n,listId:o,savingFrom:u}){let c=Promise.resolve();const y=(0,p.logSessionStart)({schema:l().WishlistDeleteFromListApiSession,event_data:{product_id:s.toString(),wishlist_id:o.toString(),vertical_type:D.WishlistEntityTypeToVerticalType[n]}});return c=t({variables:{savedItemId:s,savedItemType:D.WishlistEntityTypeToItemType[n],wishlistId:(0,E.createGlobalId)('Wishlist',o.toString())}}).finally(()=>(0,p.logSessionEnd)({sessionId:y})),(t,l)=>{t({type:O.REMOVE_FROM_LIST,promise:c,meta:{listId:o,entityId:s,entityType:n,onSuccess(){(0,N.broadcastSaveToListUpdate)();const{saveToListModal:{lastListSavedTo:c,entity:p}}=l();(0,F.shouldAllowMultipleSaves)()&&o===(null==c?void 0:c.id)&&t(k(c,()=>{t(U(c,p,s,n,u||''))}))},onFailure(s){s&&t(P(s))}}})}}function C(t,s,n,l){return{type:O.OPENED_FROM_ANY_TYPE_LOGGED_IN,payload:{entity:t,entityId:s,entityType:n,savingFrom:l}}}function H(t){return{type:O.REFETCH_LISTS,promise:t()}}function P(t){var s;return Y({message:null==t||null===(s=t.responseJSON)||void 0===s?void 0:s.error_message,subtitle:void 0,actionText:void 0,onActionPress:void 0,newToastVisible:!0,status:void 0,listHref:void 0})}function G(s,n){return Y({message:t.default.t('wish_list.button.saved_to_wish_list_name',{wish_list:s.name}),subtitle:(0,S.default)(s.checkin,s.checkout,{forSaveToList:!0}),actionText:(0,F.shouldAllowMultipleSaves)()?t.default.t('wish_list.button.open_list'):t.default.t('wish_list.button.change_wish_list'),onActionPress:n,newToastVisible:!0,status:(0,F.shouldAllowMultipleSaves)()?void 0:b.TOAST_STATUS.CHANGE,listHref:"/wishlists/"+s.id})}function U(t,s,n,l,o){return(u,c)=>{const{saveToListModal:{visible:p,addWishlistItem:y,deleteWishlistItem:T}}=c();t.id&&(u(W({addWishlistItem:y,entity:s,entityId:n,entityType:l,list:t,listId:t.id,savingFrom:o})),p||u(G(t,()=>{t.id&&((0,F.shouldAllowMultipleSaves)()?(0,I.pushToHistory)("/wishlists/"+t.id):(u(M({deleteWishlistItem:T,entityId:n,entityType:l,listId:t.id,savingFrom:o})),u(C(s,n,l,o))),u(Y({newToastVisible:!1})))})))}}function k(s,n){return Y({message:t.default.t('wish_list.button.removed_from_wish_list_name',{wish_list:s.name}),actionText:t.default.t('wish_list.button.undo_remove_from_wish_list'),subtitle:(0,S.default)(s.checkin,s.checkout,{forSaveToList:!0}),onActionPress:n,status:b.TOAST_STATUS.UNDO,newToastVisible:!0,listHref:"/wishlists/"+s.id})}function V(t,n="",l=""){c.default.logJitneyEvent({schema:s().UniversalComponentActionEvent,event_data:{logging_id:t,method:'onPress',uuid:'',operation:2,ancestor_logging_ids:[],ancestor_uuids:[],event_data:n,event_data_schema:l}})}function Y(t){return{payload:t,type:O.NEW_TOAST_UPDATED}}}),"2c067a",["6898d5","3c2344","f254f9","60b30d","40dcd8","590f40","4cdbd9","36111c","762bdc","f5aa86","6a4bde","67df00","06cd78","9fe1a0","b22b3b","3d8220","685055","3c65ef","da43ba","98d696","0d1463","039bde","1164da","480317","47044e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findMatch=function(t){return null==t?void 0:t.find(({match:t})=>t.isExact)},e.isPrefetchEnabled=function(){if(t.default.getBootstrap('prefetch_disabled')||(0,n.isInChinaFlow)())return!1;const o=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},{effectiveType:c,saveData:f}=o,u=!c&&t.default.getBootstrap('enable_prefetch_on_safari')||'4g'===c;return!f&&u},e.prefetchDefaultStrategy=function({formFactor:t,href:n,prefetch:o,scheduler:c}){if('compact'!==t)return;return c.postTask(()=>o({path:n}),{delay:250,event:'TTFMP'})};var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1])}),"35dcae",["6b945b","cb7601"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeroSectionType=void 0,e.prefetchStaysPdpRouteStrategy=function(n){const{formFactor:o}=n;if(o===t.FORM_FACTOR.WIDE)return;if(v(o))return;S(n)},e.prefetchStaysPdpSectionsAndHeroStrategy=function(t){const{formFactor:n}=t;if(v(n))return;S({...t,shouldPrefetchSectionsAndHero:!0})};var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=babelHelpers.interopRequireDefault(r(d[3])),c=babelHelpers.interopRequireDefault(r(d[4])),l=r(d[5]),u=babelHelpers.interopRequireWildcard(r(d[6])),f=babelHelpers.interopRequireDefault(r(d[7])),p=babelHelpers.interopRequireDefault(r(d[8])),h=babelHelpers.interopRequireDefault(r(d[9]));let b;function R({getMatchedRoute:t,href:n,niobeClients:o}){const s=(0,l.findMatch)(t(n,{matchAll:!0}));return s?(0,h.default)(o.niobeMinimalistClient,null==s?void 0:s.match,n):null}function _(t,n){if(t&&n)try{return(0,s.default)({baseSrc:t,...n})}catch(t){(0,o.reportError)(new Error('Failed to preload responsive images'),{extra:t})}}function H({data:t,formFactor:o}){var s,l;const f=(0,u.default)(null==t||null===(s=t.presentation)||void 0===s||null===(l=s.stayProductDetailPage)||void 0===l?void 0:l.sections),p=null==f?void 0:f.find(t=>{const n=(0,u.getSectionComponentKey)(t);return n&&Object.values(b).includes(n)}),h=null==p?void 0:p.section;if(h&&null!=h&&h.previewImages&&null!=h&&h.previewImages[0]){const t=(function({baseUrls:t,imageCount:n,formFactor:o}){if(t.length>0){const s=t[0],l=(0,c.default)(n,o);if(l)return{srcsets:_(s,l[0])}}})({baseUrls:h.previewImages.map(t=>t.baseUrl),imageCount:h.previewImages.length,formFactor:o});if(!t)return;if(t.srcsets)return(0,n.preloadImage)({sourceSets:t.srcsets,usePrefetch:!0})}}function P(t,n){return t?(H({data:t,formFactor:n}),Promise.resolve()):Promise.resolve()}function S({formFactor:n,getMatchedRoute:o,href:s,niobeClients:c,prefetch:l,scheduler:u,shouldPrefetchSectionsAndHero:f,signal:p}){n===t.FORM_FACTOR.WIDE?(function({getMatchedRoute:t,href:n,niobeClients:o,prefetch:s,scheduler:c,shouldPrefetchSectionsAndHero:l=!1,signal:u}){!(async function(){if(await c.postTask(()=>s({path:n,shouldPreparePreparables:l}),{delay:300,event:'TTFMP'}),l){const s=R({getMatchedRoute:t,href:n,niobeClients:o});c.postTask(()=>P(s,'wide'),{signal:u})}})()})({getMatchedRoute:o,href:s,niobeClients:c,prefetch:l,scheduler:u,shouldPrefetchSectionsAndHero:f,signal:p}):(function({getMatchedRoute:t,href:n,niobeClients:o,prefetch:s,scheduler:c,shouldPrefetchSectionsAndHero:l=!1}){!(async function(){if(await c.postTask(()=>s({path:n,shouldPreparePreparables:l}),{delay:500,event:'TTFMP'}),l){P(R({getMatchedRoute:t,href:n,niobeClients:o}),'compact')}})()})({getMatchedRoute:o,href:s,niobeClients:c,prefetch:l,scheduler:u,shouldPrefetchSectionsAndHero:f,signal:p})}function v(n){if(p.default.getBootstrap('stays_pdp_disable_prefetch_force'))return!0;if(n===t.FORM_FACTOR.WIDE)return!1;const{pathname:o}=window.location,s=o.startsWith('/s/')&&!o.endsWith('/experiences'),c='/'===o;return s?'treatment'===f.default.findTreatmentAndLog('stays_pdp_disable_prefetch_p2'):!!c&&'treatment'===f.default.findTreatmentAndLog('stays_pdp_disable_prefetch_homepage')}e.HeroSectionType=b,(function(t){t.HERO_DEFAULT="HERO_DEFAULT",t.HERO_SINGLE_IMAGE="HERO_SINGLE_IMAGE",t.HERO_PLUS="HERO_PLUS"})(b||(e.HeroSectionType=b={}))}),"360faa",["ab5cd2","fb5af2","5511db","5395ce","fc6ce1","35dcae","28aa2e","52d64b","6b945b","9314b3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,o,s){const{forFilter:n,forSaveToList:c}=s||{};if(l&&o){const s=(0,f.default)(l).format(u.default.format('ss')),n=(0,f.default)(o).format(u.default.format('ss'));return t.default.t('saved.checkin to checkout dates',{checkin:s,checkout:n})}if(l)return(0,f.default)(l).format(u.default.format('ss'));if(c)return'';if(n)return t.default.t('shared.Dates');return t.default.t('saved.no dates')};var t=babelHelpers.interopRequireDefault(r(d[0])),f=babelHelpers.interopRequireDefault(r(d[1])),u=babelHelpers.interopRequireDefault(r(d[2]))}),"3d8220",["6898d5","415764","ce0fb0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WishlistCreateNewApiSession=void 0;var s={defaultProps:{},propTypes:{}};e.WishlistCreateNewApiSession=s,s.fullyQualifiedName='Saved.v1.WishlistCreateNewApiSession'}),"40dcd8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERTICAL_TYPES=e.LAST_UPDATE_SESSION_STORAGE_KEY=void 0;e.LAST_UPDATE_SESSION_STORAGE_KEY='SAVE_TO_LIST_LAST_UPDATE';e.VERTICAL_TYPES={homes:'Homes',experiences:'Experiences',places:'Places'}}),"457701",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WishlistEntityTypeToVerticalType=e.WishlistEntityTypeToItemType=void 0,e.legacyListsFromPayload=function(l){var t,n,E;return null==l||null===(t=l.presentation)||void 0===t||null===(n=t.wishlistIndexPage)||void 0===n||null===(E=n.wishlists)||void 0===E?void 0:E.filter(u.default).map(s)};var l=r(d[0]),t=babelHelpers.interopRequireDefault(r(d[1])),n=r(d[2]),u=babelHelpers.interopRequireDefault(r(d[3]));function s({checkInDate:n,checkOutDate:u,createdBy:s,guestCount:E,guestDetails:I,id:_,inviteUrl:c,isPrivate:o,name:p,pictureUrl:T,pictureUrls:f,productIds:C,userId:v,wishlistUser:A,xlImageUrl:N}){var h;return{airbnb_canonical_place_ids:(0,l.extractIds)(null==C?void 0:C.airbnbCanonicalPlaceIds,l.ENTITY_REGEXES[t.default.AIRBNB_CANONICAL_PLACE]),checkin:n||void 0,checkout:u||void 0,created_by:s,guests:E||1,guest_details:{localized_description:(null==I||null===(h=I.description)||void 0===h?void 0:h.localizedString)||'',number_of_adults:(null==I?void 0:I.numberOfAdults)||1,number_of_children:(null==I?void 0:I.numberOfChildren)||0,number_of_infants:(null==I?void 0:I.numberOfInfants)||0},id:parseInt((0,l.extractId)(_),10),image_url:T,invite_url:c,listings_count:(null==C?void 0:C.stayIds.length)||0,listing_ids_str:(0,l.extractIds)(null==C?void 0:C.stayIds,l.ENTITY_REGEXES[t.default.LISTING]),mt_templates_count:(null==C?void 0:C.experienceIds.length)||0,mt_template_ids:(0,l.extractIds)(null==C?void 0:C.experienceIds,l.ENTITY_REGEXES[t.default.EXPERIENCE]),name:p||'',picture_urls:f,places_count:((null==C?void 0:C.placeIds.length)||0)+((null==C?void 0:C.airbnbCanonicalPlaceIds.length)||0),place_ids:(0,l.extractIds)(null==C?void 0:C.placeIds,l.ENTITY_REGEXES[t.default.PLACE]),private:o,thumbnail_image_url:T||void 0,user:A&&v?{first_name:A.firstName,has_profile_pic:!!A.thumbnailUrl,id:parseInt(v,10),picture_url:A.thumbnailUrl,smart_name:A.firstName,thumbnail_url:A.thumbnailUrl}:null,user_id:v,xl_image_url:N}}const E={[t.default.LISTING]:'HOME',[t.default.EXPERIENCE]:'EXPERIENCE',[t.default.PLACE]:'PLACE',[t.default.AIRBNB_CANONICAL_PLACE]:'AIRBNB_CANONICAL_PLACE',[t.default.ACTIVITY]:'EXPERIENCE_INSTANCE',[t.default.STORY]:'ARTICLE'};e.WishlistEntityTypeToItemType=E;const I={[t.default.LISTING]:n.VERTICAL_TYPES.homes,[t.default.EXPERIENCE]:n.VERTICAL_TYPES.experiences,[t.default.PLACE]:n.VERTICAL_TYPES.places,[t.default.AIRBNB_CANONICAL_PLACE]:n.VERTICAL_TYPES.places,[t.default.ACTIVITY]:'',[t.default.STORY]:''};e.WishlistEntityTypeToVerticalType=I}),"47044e",["4fc1a0","b22b3b","457701","d89d24"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({listingId:s,pdpDisplayExtensions:o=null,pdpUrlType:p=null,previousPageSectionName:c=null,roomBasePathOverride:_,searchFilters:f={},searchFilterOverrides:y=null,tierId:b=null}){const j=_?_+s:(0,n.default)({listingId:s||null,pdpUrlType:p,tierId:b}),O={};c&&(O.previous_page_section_name=c);o&&o.length&&(O.display_extensions=o);let v=f||{};y&&Object.keys(y).length>0&&(v={...v,...u(y)});const I=[(0,l.generateFilterQueryStringForRooms)(v),t.default.stringify(O)].filter(Boolean).join('&');return[j,I].filter(Boolean).join('?')};var t=babelHelpers.interopRequireDefault(r(d[0])),l=r(d[1]),n=babelHelpers.interopRequireDefault(r(d[2]));const s=Object.freeze({categoryTag:'category_tag',causeId:'cause_id',relaxedAmenityIds:'relaxed_amenity_ids',splitStaysUuid:'split_stays_uuid'});function u(t){return null==t?null:Object.fromEntries(Object.entries(t).filter(([t,l])=>'__typename'!==t&&null!=l).map(([t,l])=>t in s?[s[t],l]:[t,l]))}}),"48c1e9",["d2b390","bf17a2","c8c022"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENTITY_REGEXES=void 0,e.extractId=o,e.extractIds=function(t,n){return null==t?void 0:t.map(t=>o(t,n))};var t=babelHelpers.interopRequireDefault(r(d[0]));const n=/Wishlist:(.*)/,u={[t.default.LISTING]:/StayListing:(.*)/,[t.default.EXPERIENCE]:/ExperienceListing:(.*)/,[t.default.PLACE]:/PlaceListing:(.*)/,[t.default.AIRBNB_CANONICAL_PLACE]:/WishlistCanonicalPlaceListing:(.*)/};function o(t,u){const o=(function(t){return'function'==typeof atob?atob(t||''):Buffer.from(t||'','base64').toString()})(t),c=(u||n).exec(o);return c?c[1]:''}e.ENTITY_REGEXES=u}),"4fc1a0",["b22b3b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WishlistDeleteFromListApiSession=void 0;var s={defaultProps:{},propTypes:{}};e.WishlistDeleteFromListApiSession=s,s.fullyQualifiedName='Saved.v1.WishlistDeleteFromListApiSession'}),"60b30d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return(function(u){const{pdp_type_override:c,tier_override:n}=(0,t.default)(u);if(n&&'0'===n)return'MARKETPLACE';if(n&&'1'===n)return'PLUS';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';case'PLUS':case'plus':return'PLUS';default:return}})(u.search)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"664416",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isListFull=function(l,s){if(!l)return!1;switch(s){case t.default.ACTIVITY:return!!l.place_activity_ids&&l.place_activity_ids.length>=30;case t.default.LISTING:return!!l.listing_ids_str&&l.listing_ids_str.length>=50;case t.default.EXPERIENCE:return!!l.mt_template_ids&&l.mt_template_ids.length>=30;case t.default.PLACE:return!!l.place_ids&&l.place_ids.length>=30;case t.default.STORY:return!!l.article_ids&&l.article_ids.length>=30;default:return!1}};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"67df00",["b22b3b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldShowSaveNotificationDot=function(){const s=(0,o.getTreatmentOverride)("wishlists_notif_dot_force");return void 0!==s?s:!!n.default.getBootstrap('gs.plan.saves_notification_dot')&&(!!n.default.getBootstrap('gs.plan.saves_notification_dot.web')&&'treatment'===t.default.findTreatmentWithoutLogging('gs_plan_show_notification_dot'))};var t=babelHelpers.interopRequireDefault(r(d[0])),o=r(d[1]),n=babelHelpers.interopRequireDefault(r(d[2]))}),"6a4bde",["52d64b","597519","6b945b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce((t,[n,c])=>(u(c,n)&&(t[n]=c),t),{})}}),"72751c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const{hash:n,pathname:s,query:h}=(0,t.default)(u);return{pathname:s,search:h,state:{},hash:n}};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"7bb666",["c3ec22"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){if(!u.default.isMoment(t)||!u.default.isMoment(n))return!1;var o=t.year(),f=t.month(),l=n.year(),s=n.month(),_=o===l,c=f===s;return _&&c?t.date()<n.date():_?f<s:o<l};var t,u=(t=r(d[0]))&&t.__esModule?t:{default:t}}),"7c5c16",["415764"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIsEntitySavedToAnyList=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]);const s=(0,t.default)(t=>t.entityMap||{},t=>(s,o)=>(0,n.isEntityInMap)(t,s,o));e.getIsEntitySavedToAnyList=s}),"848ef0",["7e1289","b49ba7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}}),"896ce9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,n,o){const c=(function({match:s,url:n}){const o=/split-stays\/\d+/.test(n);return{query:u.default,variables:(0,l.getRequestVariables)({forSplitStays:o,location:(0,t.default)(n),match:s})}})({match:n,url:o});return s.readQuery(c)};var t=babelHelpers.interopRequireDefault(r(d[0])),u=babelHelpers.interopRequireDefault(r(d[1])),l=r(d[2])}),"9314b3",["7bb666","263d9b","b33b52"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return(function(t){const{translate_ugc:n}=(0,l.default)(t);return n?'true'===n:null})(t.search)},e.setTranslateUgcParam=function(s){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===s)return;const c=(0,l.default)(),f='UNTRANSLATED'===s,p=(0,n.default)({...c,translate_ugc:String(f)},t.default),{hash:b,pathname:h,search:D}=window.location,w=(0,o.default)({params:p,pathname:h,search:D})+b;(0,u.getHistory)().replace(w)};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),u=r(d[2]),l=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4]))}),"974ac4",["c2e91d","72751c","da368f","99e500","3732e6"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const l=babelHelpers.interopRequireDefault(r(d[0]));return t=function(){return l},l}Object.defineProperty(e,"__esModule",{value:!0}),e.withSaveToListPropTypes=e.default=void 0;var l=babelHelpers.interopRequireDefault(r(d[1])),n=babelHelpers.interopRequireDefault(r(d[2])),s=babelHelpers.interopRequireDefault(r(d[3]));function u(){const t=babelHelpers.interopRequireDefault(r(d[4]));return u=function(){return t},t}var c=babelHelpers.interopRequireDefault(r(d[5])),f=r(d[6]),o=r(d[7]);const p={activityHeartClicked:t().default.func,experienceHeartClicked:t().default.func,isEntitySavedToAnyListOptimized:t().default.func.isRequired,listingHeartClicked:t().default.func,placeHeartClicked:t().default.func,prefillListName:t().default.func,storyHeartClicked:t().default.func,wishLists:t().default.arrayOf(u().default),optimisticSaveListingId:t().default.number};e.withSaveToListPropTypes=p;var H=(0,l.default)((0,s.default)({saveToListModal:c.default}),(0,n.default)((function({saveToListModal:t}){const l=t||{},{optimisticSaveListingId:n,lists:s}=l;return{isEntitySavedToAnyListOptimized:(0,o.getIsEntitySavedToAnyList)(l),optimisticSaveListingId:n,wishLists:s}}),{activityHeartClicked:f.activityHeartClicked,experienceHeartClicked:f.experienceHeartClicked,listingHeartClicked:f.listingHeartClicked,placeHeartClicked:f.placeHeartClicked,prefillListName:f.prefillListName,storyHeartClicked:f.storyHeartClicked}));e.default=H}),"9c59c7",["590f40","8be856","9770cb","0246a9","e76014","0d1463","2c067a","848ef0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),l=babelHelpers.interopRequireDefault(r(d[1]));const s=()=>{const t=l.default.getLatest(1);return t.length?t[0].saved_search_id:null};var n={getListIdForCurrentSavedSearch(){const l=s();if(!l)return null;const n=(0,t.default)("recent_wishlists");return n&&l in n?n[l]:null},putListIdForCurrentSavedSearch(l){const n=s();if(!n)return;const u=(0,t.default)("recent_wishlists")||{};u[n]=l,(0,t.default)("recent_wishlists",u,{expires:432e5})},clearAllListIds(){(0,t.default)("recent_wishlists",null)}};e.default=n}),"9fe1a0",["be917c","ecce57"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,f){return{saved_search_id:l,modified_at:(0,t.default)().valueOf(),source:'web',search_params:(0,u.default)(f)}};var t=babelHelpers.interopRequireDefault(r(d[0])),u=babelHelpers.interopRequireDefault(r(d[1]))}),"a9902d",["415764","ca6439"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:c=!1,location:p,match:_}){const y=(0,l.createGlobalId)('StayListing',_.params.id),I=(0,t.default)(p.search),{adults:b,bypass_targetings:h,cancellation_policy_id:f,category_tag:k,cause_id:S,check_in:v,check_out:N,children:R,disaster_id:q,discountedGuestFeeVersion:D=null,federatedSearchId:P=null,federated_search_id:T=null,force_boost_unc_priority_message_type:O,guests:B,infants:E,interactionType:M=null,mockId:U,omni_page_id:w,omni_version_id:A,original_check_in:C,original_check_out:G,pets:H,preview:V,priceDropSource:x,private_booking:L,promotionUuid:F,rate_plan_id:W,relaxed_amenity_ids:j,searchId:z=null,staysBookingMigrationEnabled:J=null,useNewSectionWrapperApi:K=null,photoId:Q=null}=I,X={adults:b||B||'1',bypassTargetings:'true'===h,categoryTag:k||null,causeId:S||null,children:R||null,disasterId:q||null,discountedGuestFeeVersion:Number(D)||null,displayExtensions:(0,o.default)(p),federatedSearchId:P||T,forceBoostPriorityMessageType:O||null,infants:E||null,interactionType:M,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:w,omniVersionId:A,pets:Number(H)||0,pdpTypeOverride:(0,u.default)(p)||null,preview:'true'===V,previousStateCheckIn:C||null,previousStateCheckOut:G||null,priceDropSource:x||null,privateBooking:'true'===L,promotionUuid:F||null,relaxedAmenityIds:j||null,searchId:z,selectedCancellationPolicyId:Number(f)||null,selectedRatePlanId:Number(W)||null,splitStays:c?(0,s.default)({id:y,queryParams:I}):null,staysBookingMigrationEnabled:'true'===J,translateUgc:(0,n.getTranslateUgcParam)(p),useNewSectionWrapperApi:'true'===K,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:void 0,photoId:Q};v&&N&&(X.checkIn=v,X.checkOut=N);return{id:y,pdpSectionsRequest:X,...U&&{mockIdentifier:U}}};var t=babelHelpers.interopRequireDefault(r(d[0])),l=r(d[1]),n=r(d[2]),u=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4])),s=babelHelpers.interopRequireDefault(r(d[5]))}),"b33b52",["99e500","685055","974ac4","664416","2954b7","896ce9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireWildcard(r(d[0])),n=babelHelpers.interopRequireWildcard(r(d[1]));function u(){const t=r(d[2]);return u=function(){return t},t}var o=r(d[3]),c=r(d[4]);function s(){const t=r(d[5]);return s=function(){return t},t}var f=babelHelpers.interopRequireDefault(r(d[6])),l=r(d[7]),h=r(d[8]),p=(0,t.memo)((function({autoPrefetchWhenInView:p,children:v,href:b,prefetchImmediately:R,strategy:P=l.prefetchDefaultStrategy}){const E=(0,n.default)(),M=void 0!==R,[y,C]=(0,f.default)({skip:M}),F=(0,t.useRef)(!1),[_,O]=(0,t.useState)(!1),{abort:W,scheduler:D,signal:I}=(0,o.usePostTaskScheduler)({name:'GPPrefetch',priority:'background',strategy:'recycle'}),k=(0,t.useContext)(u().NiobeClientReactContext),{getMatchedRoute:q}=(0,c.useAppRoutes)(),x=(0,s().usePrefetch)();function A(){O(!0)}function H(){O(!1)}return(0,t.useEffect)(()=>{F.current=!1},[P,E,b]),(0,t.useEffect)(()=>{if(!M||!(0,l.isPrefetchEnabled)()||E===n.FORM_FACTOR.WIDE||!k||!b||F.current)return;return(P({formFactor:E,getMatchedRoute:q,href:b,niobeClients:k,prefetch:x,scheduler:D,signal:I})||Promise.resolve()).then(()=>{F.current=!0}),W},[W,E,q,b,M,k,x,R,D,I,P]),(0,t.useEffect)(()=>{if(M||F.current)return;if(!(C&&b&&k&&(E!==n.FORM_FACTOR.WIDE||_||p)&&(0,l.isPrefetchEnabled)()))return void W();return(P({formFactor:E,getMatchedRoute:q,href:b,niobeClients:k,prefetch:x,scheduler:D,signal:I})||Promise.resolve()).then(()=>{F.current=!0}),()=>{W()}},[W,E,q,b,C,_,M,k,x,R,D,I,P]),(0,h.jsx)("div",{ref:y,onMouseEnter:M?void 0:A,onMouseLeave:M?void 0:H,onFocus:M?void 0:A,onBlur:M?void 0:H,children:v})}));e.default=p}),"bde564",["d7ed8e","f7fa17","8915ba","c9055a","833b7e","1e513d","1a178d","35dcae","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({listingId:_,pdpUrlType:u,tierId:P}){if(u===t.PDP_URL_TYPES.ROOMS_PLUS||P===t.TIER_IDS.PLUS)return"/rooms/plus/"+_;if(u===t.PDP_URL_TYPES.LUXURY_LISTINGS||P===t.TIER_IDS.LUXURY)return"/luxury/listing/"+_;if(u===t.PDP_URL_TYPES.HOTELS)return"/hotels/"+_;return"/rooms/"+_};var t=r(d[0])}),"c8c022",["5197c0"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t){return parseInt(t,10)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const s={};n.forEach(c=>{s[c]=t[c]}),Object.keys(s).forEach(t=>{if(void 0===s[t])return;const n=c[t];s[t]=n(s[t])}),s.checkin||delete s.checkin;s.checkout||delete s.checkout;s.place_id||delete s.place_id;return s};const c={location:String,checkin:String,checkout:String,guests:t,adults:t,children:t,toddlers:t,infants:t,pets:function(t){if('string'==typeof t)switch(t){case'true':case'1':return!0;case'false':case'0':return!1}return Boolean(t)},place_id:String},n=Object.keys(c)}),"ca6439",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(d[0]);var y=(0,s.Shape)({created_by:s.Types.string,id:s.Types.number,listing_ids:s.Types.arrayOf(s.Types.oneOfType([s.Types.string,s.Types.number])),listing_ids_str:s.Types.arrayOf(s.Types.string),mt_template_ids:s.Types.arrayOf(s.Types.oneOfType([s.Types.string,s.Types.number])),name:s.Types.string,place_ids:s.Types.arrayOf(s.Types.oneOfType([s.Types.string,s.Types.number])),article_ids:s.Types.arrayOf(s.Types.oneOfType([s.Types.string,s.Types.number])),place_activity_ids:s.Types.arrayOf(s.Types.oneOfType([s.Types.string,s.Types.number])),airbnb_canonical_place_ids:s.Types.arrayOf(s.Types.string)});e.default=y}),"e76014",["45cb5e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,f){return!(!t.default.isMoment(n)||!t.default.isMoment(f))&&!(0,u.default)(n,f)};var t=n(r(d[0])),u=n(r(d[1]));function n(t){return t&&t.__esModule?t:{default:t}}}),"e9407f",["415764","7c5c16"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),s=babelHelpers.interopRequireDefault(r(d[1])),n=babelHelpers.interopRequireDefault(r(d[2])),l=babelHelpers.interopRequireDefault(r(d[3])),_=babelHelpers.interopRequireDefault(r(d[4])),c=babelHelpers.interopRequireDefault(r(d[5])),h=babelHelpers.interopRequireDefault(r(d[6]));const o='abcdefghijklmnopqrstuvwxyz0123456789';function u(t){return t.replace(/[.,-/#!$%^&*;:{}=\-_`'"~()]/g,'').replace(/\s+/g,' ').toLowerCase()}function p(t){const s=t.search_params;return s.place_id||u(s.location)}function f(t){return(function(t,s,n){const l={},_=[];return t.forEach(t=>{const c=s(t),h=1+(l[c]||0);l[c]=h,h<=n&&_.push(t)}),_})(t,p,1)}function b(t){return!!t.search_params.location}class v extends t.default{constructor(){super(),this._initLock=void 0,this._pushTimeout=void 0,this.data=void 0,this.marketData=void 0,this._initLock=!0;const t=(0,s.default)("savedSearches"),n=(0,s.default)("market-name");!t||!t.version||t.version<5?(this._resetData(),this._migrate(t)):this.data=t,this.marketData=n||null,this._persist(),this._persistMarketData()}create(t){if(!t)throw new Error('must supply searchParams');let s='';for(let t=0;t<8;t++)s+=o.charAt(Math.floor(Math.random()*o.length));const n=(0,_.default)(s,t);return this._saveLocal(n.saved_search_id,n),this._persist(),this._emitChange(),n}getOrCreate(t){const s=(0,h.default)(t),n=this._sortedSearches()[0];return n&&(0,l.default)(s,n.search_params)?n:this.create(t)}createOrUpdate(t){const s=(0,h.default)(t),n=this._sortedSearches()[0];n&&n.search_params&&n.search_params.location===s.location?this.update(n.saved_search_id,t):this.create(t)}getLatest(t){return this._sortedSearches().slice(0,t||30)}update(t,s){let n;const l=this._getLocal(t);if(l){n=l;let t=(0,h.default)(s);if(n.search_params.initial_sw_lng&&Object.assign(t,{initial_sw_lng:n.search_params.initial_sw_lng,initial_sw_lat:n.search_params.initial_sw_lat,initial_ne_lng:n.search_params.initial_ne_lng,initial_ne_lat:n.search_params.initial_ne_lat}),!this._acceptBoundsUpdate(n.search_params,t)){const{sw_lng:s,sw_lat:n,ne_lng:l,ne_lat:_,zoom:c,search_by_map:h,...o}=t;t=o}n.search_params=t,n.modified_at=Date.now()}else n=(0,_.default)(t,s);return this._saveLocal(t,n),this._persist(),this._emitChange(),n}query(t){const s=this._sortedSearches().filter(b);if(!t)return f(s);const n=u(t);return f(s.filter(t=>u(t.search_params.location).startsWith(n)))}_acceptBoundsUpdate(t,s){return!(s.sw_lng&&s.ne_lng&&s.sw_lat&&s.ne_lat)||(s.sw_lng>s.ne_lng||t.initial_sw_lng>t.initial_ne_lng||s.sw_lng<t.initial_ne_lng&&s.ne_lng>t.initial_sw_lng&&s.sw_lat<t.initial_ne_lat&&s.ne_lat>t.initial_sw_lat)}_clearCache(){this._resetData(),this.marketData=null,this._persist(),this._persistMarketData(),this._emitChange(),this._emitMarketChange()}_getLocal(t){return this.data.objects[t]}_resetData(){this.data={objects:{},version:5}}_saveLocal(t,s){this.data.objects[t]=s}_sortedSearches(){return Object.values(this.data.objects).sort((t,s)=>s.modified_at-t.modified_at)}_emitChange(){this.emit("change",this._sortedSearches())}_emitMarketChange(){this.emit("market_change",this.marketData)}_cullObject(t,s){const n=Object.values(t),l={};return n.filter(c.default).sort((t,s)=>s.modified_at-t.modified_at).slice(0,s).forEach(t=>{l[t.saved_search_id]=t}),l}_persist(){this.data.objects=this._cullObject(this.data.objects,30),(0,s.default)("savedSearches",this.data)}_persistMarketData(){(0,s.default)("market-name",this.marketData)}_migrate(t){t&&3===t.version&&Object.values(t.objects).forEach(t=>this.create(t.search_params))}}var w=n.default.setIfMissingThenGet('SavedSearchAPI singleton',()=>new v);e.default=w}),"ecce57",["e419da","be917c","a09a89","811d13","a9902d","10fb02","ca6439"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WishlistAddToListApiSession=void 0;var s={defaultProps:{},propTypes:{}};e.WishlistAddToListApiSession=s,s.fullyQualifiedName='Saved.v1.WishlistAddToListApiSession'}),"f254f9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireWildcard(r(d[1])),s=babelHelpers.interopRequireDefault(r(d[2])),n=r(d[3]);const l=()=>(0,n.jsx)(o.WrappedPlaceholder,{});var h=(h,p=l)=>{class u extends t.default.Component{constructor(t){super(t),this.modalContentLoader=void 0,this.showLoadingStateTimer=void 0,this.state={showLoadingState:!1},this.modalContentLoader=(0,o.normalizeLoader)(t.loader),this.showLoadingStateTimer=null,this.fetchModalContents=this.fetchModalContents.bind(this),this.showModal=this.showModal.bind(this)}componentDidMount(){const{isOpen:t}=this.props;(0,s.default)(h),t&&this.fetchModalContents()}componentDidUpdate({isOpen:t}){const{isOpen:o}=this.props,{showLoadingState:s}=this.state;!t&&o&&!s&&this.fetchModalContents()}componentWillUnmount(){this.showLoadingStateTimer&&clearTimeout(this.showLoadingStateTimer)}fetchModalContents(){this.showLoadingStateTimer=setTimeout(this.showModal,300),this.modalContentLoader().then(this.showModal)}showModal(){this.setState({showLoadingState:!0})}render(){const{loader:t,isOpen:s,contentProps:l={},...u}=this.props,{showLoadingState:c}=this.state;return c?(0,n.jsx)(o.default,{loader:(0,o.normalizeLoader)(h),renderPlaceholder:o.renderNull,loadReady:s,isOpen:s,...u,children:(0,n.jsx)(o.default,{loader:this.modalContentLoader,renderPlaceholder:p,...l})}):null}}return u};e.default=h}),"f3a123",["d7ed8e","58c24c","f8573f","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RESPONSIVE_HERO_MOWEB_CONFIG=e.RESPONSIVE_HERO_DESKTOP_CONFIG=void 0;const t={SINGLE_IMAGE:[{alwaysUseCurrentOptions:!0,imageWidth:[960,960,1200,1200],maxDensity:1}],TWO_IMAGES:[{alwaysUseCurrentOptions:!0,imageWidth:[960,960,1200,1200],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1}],THREE_IMAGES:[{alwaysUseCurrentOptions:!0,imageWidth:[960,960,960,1200],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1}],FIVE_IMAGES:[{alwaysUseCurrentOptions:!0,imageWidth:[960,960,960,1200],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1},{imageWidth:[480,480,720,720],maxDensity:1}]};e.RESPONSIVE_HERO_DESKTOP_CONFIG=t;const E={maxDensity:2,viewportPercentage:100};e.RESPONSIVE_HERO_MOWEB_CONFIG=E;var n=function(n,s){let _;return'compact'!==s?(_=n&&n<2?t.SINGLE_IMAGE:n&&n<3?t.TWO_IMAGES:n&&n<5?t.THREE_IMAGES:t.FIVE_IMAGES,_.map(t=>({...t}))):[E]};e.default=n}),"fc6ce1",[]);
__r("6898d5").extend({"wish_list.button.saved_to_wish_list_name":"C'est enregistré dans la liste %{wish_list}","wish_list.button.open_list":"Ouvrir la liste","wish_list.button.change_wish_list":"Modifier","wish_list.button.removed_from_wish_list_name":"Supprimée de %{wish_list}","wish_list.button.undo_remove_from_wish_list":"Annuler","saved.checkin to checkout dates":"%{checkin} au %{checkout}","shared.Dates":"Dates","saved.no dates":"Aucune date"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/86d3.4f1669332a.js.map