__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({primaryPreviewThumbnailUrl:j,primaryCtaAction:H,primaryCtaButton:C,secondaryCtaAction:R,secondaryCtaButton:D,rawTitle:q}){var w;const M=(0,c.useCx)(),U=(0,o.useIsExploreFadeIn)(),k=(0,o.default)(),A=((null==q?void 0:q.indexOf('aircover'))||-1)>-1||!1,{href:E,runAction:W,loading:B,loggingData:z}=(0,s.default)(H),{href:L,runAction:F,loading:$,loggingData:G}=(0,s.default)(R),[K]=(0,b.useUIState)(p.AnnouncementCurtainViewedOnClientKey,void 0),[V,J]=(0,l.useState)(!1);let Q;if(j){const l=new URL(j);Q=`${l.origin}${l.pathname}?im_q=highq&im_w=240`}(0,l.useEffect)(()=>{if(K)J(!0);else if(void 0===K){const l=setTimeout(()=>{V||J(!0)},4e3);return()=>clearTimeout(l)}},[K,V]);const X=!A&&v.default.getBootstrap('enable_upfront_pricing_microphone_styles')||'homepage.header.betaProgramAnnouncement_open_megaphone'===(null==H||null===(w=H.loggingData)||void 0===w?void 0:w.loggingId),Y=(0,f.shouldShowUpfrontPricingBanner)(),Z=(0,l.useMemo)(()=>_(C,X,A),[A,X,C]),ee=(0,l.useMemo)(()=>_(D),[D]);if(k&&X&&(Y||(0,f.isExcludedGeos)()))return null;return(0,x.jsx)("div",{className:M(U&&y,S),children:(0,x.jsxs)("div",{className:M(I,X&&'price-toggle',A&&'aircover'),children:[(0,x.jsx)(o.ShimmerIfSkeleton,{children:(0,x.jsx)(u.default,{children:(0,x.jsx)("span",{className:M(P),children:A?(0,x.jsx)(t.default,{text:n.default.t('aircover.microphone.desktop_title'),values:{aircover:(0,x.jsx)("span",{className:M(T),children:n.default.t('aircover.megaphone.aircover_logo_en_alt_text')})}}):q})})}),(0,x.jsxs)("span",{className:M(N),children:[C&&(0,x.jsx)(h.default,{...Z,...z,href:E,loading:B,onPress:W,previewThumbnailUrl:Q,shouldLogImpression:V,underlineOnHover:!0}),D&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:M(O)}),(0,x.jsx)(h.default,{...ee,...G,href:L,loading:$,onPress:F,shouldLogImpression:V,underlineOnHover:!0})]})]})]})})};var l=babelHelpers.interopRequireWildcard(r(d[0])),t=(r(d[1]),babelHelpers.interopRequireDefault(r(d[2]))),n=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireWildcard(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5])),s=babelHelpers.interopRequireDefault(r(d[6])),p=r(d[7]),c=(r(d[8]),r(d[9])),f=(babelHelpers.interopRequireDefault(r(d[10])),r(d[11]),r(d[12])),h=babelHelpers.interopRequireDefault(r(d[13])),v=babelHelpers.interopRequireDefault(r(d[14])),b=r(d[15]),x=r(d[16]);const y="f13odiba",S="s16gufdo",I="c6uors2",N="b34v4vt",O="dh6pwax",P="t1r4m0sf",T="a112ikhn";function _(l,t=!1,n=!1){return{...t||n?{}:{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},margin:{leading:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:14,letterSpacing:0,lineHeight:18,dlsWeight:'THIN',color:{hex:'#222222',alpha:1}}},...t?{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:16,letterSpacing:0,lineHeight:20,dlsWeight:'MEDIUM',color:{hex:'#222222',alpha:1},underline:!0}}:{},...n?{backgroundColor:{defaultColor:{hex:'#f7f7f7',alpha:1}},border:{cornerRadius:8},padding:{bottom:{type:'POINTS',value:8},leading:{type:'POINTS',value:8},top:{type:'POINTS',value:8},trailing:{type:'POINTS',value:8}},textStyle:{size:14,letterSpacing:-.02,lineHeight:18,dlsWeight:'MEDIUM',color:{hex:'#222222',alpha:1},underline:!0}}:{},...Object.fromEntries(Object.entries(l||{}).filter(([l,t])=>null!=t))}}}),"a97c71",["d7ed8e","f03cc4","06846a","6898d5","658726","4628ac","335598","083ab2","d9d8ee","5f1f1f","a2ecf6","90390a","0733c4","f82c63","6b945b","9e67c0","721ed1"]);
__r("6898d5").extend({"aircover.microphone.desktop_title":"Chaque réservation est désormais protégée par %{aircover}","aircover.megaphone.aircover_logo_en_alt_text":"AirCover"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/homepage-sections/sections/client/AnnouncementCurtainMicrophoneBanner/AnnouncementCurtainMicrophoneBanner.476e63d4ff.js.map