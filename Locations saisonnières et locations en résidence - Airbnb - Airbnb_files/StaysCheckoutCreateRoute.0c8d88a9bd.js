__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.replaceToHistory=function(t,s={}){o((0,n.getHistory)(),t,s)};var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]);function o(n,o,{maintainScrollPosition:s=!1,maintainQueryParams:l=!1,maintainHash:u=!1,params:c,state:f}={}){const p=(0,t.default)(o,{maintainQueryParams:l,maintainHash:u,params:c});n.replace(p,f),g.window&&!s&&g.window.scrollTo(0,0)}}),"00871f",["027044","da368f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,{maintainQueryParams:l=!1,maintainHash:o=!1,params:c=null}={}){let f=s;(l||c)&&(f=(function(u,s,l){let o={};s&&(o={...(0,t.default)()});l&&(o={...o,...l});return`${u}${(0,n.querystringify)(o)}`})(f,l,c));(0,u.canUseMemoryHistory)()||o&&!(0,u.canUseHashHistory)()&&(f=`${f}${window.location.hash}`);return f};var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]),u=r(d[2])}),"027044",["99e500","9bf8ac","5b5435"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrefetch=function(){const{getMatchedRoute:p}=(0,u.useAppRoutes)(),l=(0,o().useSharedPrepareOptions)(),f=(0,s().useNiobeClients)({context:{}}),P=(0,t.useRef)(l);P.current=l;const b=(0,t.useRef)(f);return b.current=f,(0,t.useCallback)((async function({path:t,state:u,shouldPreparePreparables:o=!0}){const s=p(t,{matchAll:!0});if(!s)return;if(!b.current)return;const l=(0,c().extractPrepareFromMatches)(s);await(0,c().loadPreparables)({preparables:l}),o&&await(0,c().preparePreparables)({preparables:l,prepareOptions:{...P.current,...b.current,previousPrepareProps:null,previousLocation:null,isPrefetch:!0,location:(0,n().createLocation)(t,u)}})}),[p])};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}var u=r(d[2]);function c(){const t=r(d[3]);return c=function(){return t},t}function o(){const t=r(d[4]);return o=function(){return t},t}function s(){const t=r(d[5]);return s=function(){return t},t}}),"0706b8",["d7ed8e","a3757d","833b7e","79299f","8ab9d3","c8a8e0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePreventCaching=function(l){var o;const{preventCaching:u}=(0,n.useContext)(t.HyperloopProvidedContext);(null!=l&&null!==(o=l.graphQLErrors)&&void 0!==o&&o.length||null!=l&&l.message)&&(null==u||u())};var n=r(d[0]),t=r(d[1])}),"0b7693",["d7ed8e","a9b978"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={usePrefetch:!0,useOrCreateNiobeMinimalistClient:!0,useMinimalistPreloadedQuery:!0,useMinimalistClientSideQuery:!0,useMinimalistMutation:!0,useMinimalistInvalidateQuery:!0,useNiobeMinimalistClient:!0,useTriggeredQuery:!0,useClientSideRestQuery:!0,usePreloadedRestQuery:!0,useSubscription:!0,combinePrepares:!0};function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"combinePrepares",{enumerable:!0,get:function(){return(function(){const n=r(d[10]);return function(){return n},n})().combinePrepares}}),Object.defineProperty(e,"useClientSideRestQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[7]);return function(){return n},n})().useClientSideRestQuery}}),Object.defineProperty(e,"useMinimalistClientSideQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[2]);return function(){return n},n})().useMinimalistClientSideQuery}}),Object.defineProperty(e,"useMinimalistInvalidateQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[4]);return function(){return n},n})().useMinimalistInvalidateQuery}}),Object.defineProperty(e,"useMinimalistMutation",{enumerable:!0,get:function(){return(function(){const n=r(d[3]);return function(){return n},n})().useMinimalistMutation}}),Object.defineProperty(e,"useMinimalistPreloadedQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[1]);return function(){return n},n})().useMinimalistPreloadedQuery}}),Object.defineProperty(e,"useNiobeMinimalistClient",{enumerable:!0,get:function(){return(function(){const n=r(d[5]);return function(){return n},n})().useNiobeMinimalistClient}}),Object.defineProperty(e,"useOrCreateNiobeMinimalistClient",{enumerable:!0,get:function(){return t().useOrCreateNiobeMinimalistClient}}),Object.defineProperty(e,"usePrefetch",{enumerable:!0,get:function(){return t().usePrefetch}}),Object.defineProperty(e,"usePreloadedRestQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[8]);return function(){return n},n})().usePreloadedRestQuery}}),Object.defineProperty(e,"useSubscription",{enumerable:!0,get:function(){return(function(){const n=r(d[9]);return function(){return n},n})().useSubscription}}),Object.defineProperty(e,"useTriggeredQuery",{enumerable:!0,get:function(){return(function(){const n=r(d[6]);return function(){return n},n})().useTriggeredQuery}});var u=r(d[11]);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}))}),"1e513d",["edba04","d57f93","92d1cc","79f1f5","cfee73","ab1009","827df0","751057","4c358f","a2c4ec","67db1d","2cd8b2"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={NetworkStatus:!0};Object.defineProperty(e,"NetworkStatus",{enumerable:!0,get:function(){return(function(){const t=r(d[2]);return function(){return t},t})().NetworkStatus}});var n=r(d[0]);Object.keys(n).forEach((function(o){"default"!==o&&"__esModule"!==o&&(Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===n[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return n[o]}}))}));var o=r(d[1]);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}))}),"2cd8b2",["c287be","f104d5","a12ad6"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const s=r(d[0]);return t=function(){return s},s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=babelHelpers.interopRequireDefault(r(d[1])),o=r(d[2]),n=r(d[3]);var h=new class{constructor(){this.history=void 0,this.historyCallback=void 0,this.lastLoggedPathname=void 0,this.unlistenHistory=void 0,this.isClientRouteRequest=!1,this.history=void 0,this.unlistenHistory=void 0,this.historyCallback=void 0,this.lastLoggedPathname=void 0}setHistoryListener(t,s){this.history||(this.history=t,this.unlistenHistory=t.listen(this.onHistoryChange.bind(this)),void 0===this.lastLoggedPathname&&this.history.location&&(this.lastLoggedPathname=this.history.location.pathname)),s&&s!==this.historyCallback&&(this.historyCallback=s)}onHistoryChange(t,s){this.isClientRouteRequest=!0,this.historyCallback&&this.historyCallback(t,s)}logImpression({universalPageName:h,eventData:l,eventDataSchema:u,impressionUuid:v,pageRequestMethod:c}){(0,n.getPageRequestMethod)(this.isClientRouteRequest).then(n=>{const y={schema:t().UniversalPageImpressionEvent,event_data:{page_name:h,referrer:document.referrer||'unknown',page_request_method:c||n,event_data:l,event_data_schema:u,impression_uuid:v,navigation_type:(0,o.getNavigationType)(),url:document.location.href}};s.default.logJitneyEvent(y)})}hasMovedToNewPage(t,s,o){return'POP'===s||'PUSH'===s||!!o&&'REPLACE'===s&&t.pathname!==this.lastLoggedPathname}};e.default=h}),"35d67f",["77b59e","4cdbd9","be93ab","b5448d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({params:l,pathname:o=window.location.pathname,search:u=window.location.search}){if(!l||0===Object.keys(l).length)return o+u;const s={...(0,n.default)(u),...l},c=t.default.stringify(s,{arrayFormat:'brackets'});return c.length>0?`${o}?${c}`:o};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1]))}),"3732e6",["d2b390","99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToStableObjectOrder=function t(o){if(Array.isArray(o))return o.map(o=>t(o));if('object'==typeof o&&null!==o){const n=o;return'function'==typeof n.toJSON?t(n.toJSON()):Object.keys(o).sort().reduce((n,c)=>(n[c]=t(o[c]),n),{})}return o}}),"433a68",[]);
__d((function(g,r,i,a,m,e,d){}),"4c358f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useOrCreateNiobeMinimalistClient=function(){var l;return null!==(l=(0,u().useMinimalistClient)({context:(0,t.useContext)(n.default)}))&&void 0!==l?l:null};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1]));function u(){const t=r(d[2]);return u=function(){return t},t}}),"52c83c",["d7ed8e","e99233","6fd41b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const{hostname:n}=window.location,t=n.split('.'),o=t.length,l=['airbnb','airbnbchina','luxuryretreats','airbnb-dev'];for(let n=0;n<l.length;n+=1){const u=t.indexOf(l[n]);if(u>=0)return"."+t.slice(u,o).join('.')}return n}}),"5c83be",[]);
__d((function(g,r,i,a,m,e,d){}),"67db1d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGlobalId=function(n,t){return(function(n){return window.btoa(n)})((function(n,t){return`${n}:${encodeURIComponent(t).replace(/%20/g,'+').replace(/\(/g,'%28').replace(/\)/g,'%29')}`})(n,t))},e.getInternalId=function(n){const{internalId:t}=(function(n){const t=n.split(':'),[o,c]=t,l=c&&decodeURIComponent(c.replace(/\+/g,'%20').replace(/%28/g,'(').replace(/%29/g,')'));if(void 0===o||void 0===l)throw new Error('Failed to decode global ID');return{typename:o,internalId:l}})((o=n,window.atob(o)));var o;return t},e.parseGlobalId=function(n){return n},e.stringifyGlobalId=function(n){return n}}),"685055",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./StayCheckoutSections-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'StayCheckoutSections',type:'query',operationId:'96adacdfec30f3ffb6190cd3c0e4081a52ea56865a0744ef35fa72f5d2da3135'};e.default=t}),"72c19d",["b49114","b8ad06"]);
__d((function(g,r,i,a,m,e,d){}),"751057",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractPrepareFromMatches=function(o){const p=[];return o.forEach(({match:o,route:t})=>{var n;null!=t&&null!==(n=t.component)&&void 0!==n&&n.prepareNiobe&&p.push({match:o,prepareNiobe:t.component.prepareNiobe,load:t.component.load,skipMofiData:t.component.skipMofiData})}),p},e.loadPreparables=function({preparables:o}){return Promise.all(o.map(({load:o})=>null==o?void 0:o()))},e.preparePreparables=function({preparables:o,prepareOptions:p}){return Promise.all(o.map(({match:o,prepareNiobe:t})=>Promise.resolve(t({...p,match:o})).then(o=>Promise.all(Object.values(o).map(o=>Promise.resolve(o).then(o=>{var p;return null!==(p=null==o?void 0:o.promise)&&void 0!==p?p:o}))))))}}),"79299f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.useMinimalistMutation=function(n,u){return(0,t().useNiobeMinimalistClient)().useMutation(n,u)}}),"79f1f5",["ab1009"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireWildcard(r(d[1]));function u(t){return t instanceof Set}function f(t){return'function'==typeof t}function l(o,c){return o===c||typeof o==typeof c&&(Array.isArray(o)&&Array.isArray(c)?(y=c,(s=o).length===y.length&&s.every((t,n)=>l(s[n],y[n]))):u(o)&&u(c)?(0,t.default)(o,c,l):(0,n.isObject)(o)&&(0,n.isObject)(c)?(0,n.default)(o,c,l):f(o)&&f(c)?String(o)===String(c):Object.is(o,c));var s,y}}),"811d13",["ef1829","b6f34d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useTriggeredQuery=function(t,l){const c=(0,u.useRef)(),s=(0,u.useRef)(),[o,f]=(0,u.useState)(null),v=(0,u.useCallback)(({variables:u})=>(c.current=null,s.current=null,new Promise((n,t)=>{c.current=n,s.current=t,f(u)})),[]),b=(0,n().useMinimalistClientSideQuery)(t,{...l,variables:o||void 0,skip:null===o}),{data:_,error:y,loading:k}=b;return(0,u.useEffect)(()=>{(y||_)&&(y&&s.current?s.current(y):_&&c.current&&c.current(_),c.current=null,s.current=null)},[_,y,k]),[v,b]};var u=r(d[0]);function n(){const u=r(d[1]);return n=function(){return u},u}}),"827df0",["d7ed8e","92d1cc"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useAppRoutes=function(){return(0,t.useContext)(u.AppRoutesContext)};var t=r(d[0]),u=r(d[1])}),"833b7e",["d7ed8e","b9eb0b"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.useMinimalistClientSideQuery=function(t,u){return(0,n().useNiobeMinimalistClient)().useClientSideQuery({query:t,...u})}}),"92d1cc",["ab1009"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathnameWithNewParamsString=u,e.querystringify=o,e.removeUrlParam=function(t){if(!t)return;const o={...(0,n.default)()};delete o[t],(0,l.getHistory)().replace(u(o))};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),l=(babelHelpers.interopRequireDefault(r(d[2])),r(d[3]));function o(n){return void 0===n||0===Object.keys(n).length?'':"?"+t.default.stringify(n,{arrayFormat:'brackets'})}function u(t){return 0===Object.keys(t).length?window.location.pathname:`${window.location.pathname}${o(t)}`}}),"9bf8ac",["d2b390","99e500","3732e6","da368f"]);
__d((function(g,r,i,a,m,e,d){"use strict";let t;Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkStatus=void 0,e.NetworkStatus=t,(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(t||(e.NetworkStatus=t={}))}),"a12ad6",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSubscription=function({subscription:l,variables:c,onNext:b,skip:f}){const v=(0,o().useNiobeMinimalistClient)(),p=(0,n.default)(()=>c,c),[_,k]=(0,t.useState)(u('subscribing',void 0,void 0)),q=(0,s.default)(b);return(0,t.useEffect)(()=>{if(f)return;const t=new AbortController,s=v.subscribe({subscription:l,variables:p},t.signal);return(async function(){for await(const n of s)if('established'===n.state)k(t=>u('subscribed',t.value,void 0));else if('message'===n.state){var t;const s=n.data;null===(t=q.current)||void 0===t||t.call(q,s),k(()=>u('subscribed',s,void 0))}else'error'===n.state?k(t=>u('error',t.value,n.error)):'reconnecting'===n.state&&k(t=>u('suspended',t.value,void 0))})(),()=>{t.abort()}},[l,p,v,f,q]),f?u('skipped',void 0,void 0):_};var t=r(d[0]),s=babelHelpers.interopRequireDefault(r(d[1])),n=babelHelpers.interopRequireDefault(r(d[2]));function o(){const t=r(d[3]);return o=function(){return t},t}const u=(t,s,n)=>({state:t,value:s,error:n})}),"a2c4ec",["d7ed8e","ad52da","b11707","ab1009"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNiobeMinimalistClient=void 0;var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}e.useNiobeMinimalistClient=()=>{var l;const u=(0,t.useContext)(n().NiobeClientReactContext),s=null!==(l=null==u?void 0:u.niobeMinimalistClient)&&void 0!==l?l:null;return void 0===s&&(0,o().throwNiobeError)((0,o().invalidNiobeClientType)('minimalist')),null===s&&(0,o().throwNiobeError)((0,o().niobeClientNotFoundFromContext)('minimalist')),s.type&&'mock'!==s.type&&'minimalist'!==s.type&&(0,o().warnNiobeError)((0,o().mismatchingNiobeClientType)('minimalist',s.type),{sampleRate:.1}),s}}),"ab1009",["d7ed8e","8915ba","941d44"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCheckoutStateRecoveryKillswitchOn=function(){return!!t.default.getBootstrap('checkout_state_recovery_killswitch')},e.shouldDisableLoggedOutP3Point5=function(){if(t.default.getBootstrap('checkout_disable_logged_out_p3_point_5'))return o.default.deliverExperiment('checkout_disable_logged_out_p3_point_5',{treatment:()=>!0,control:()=>!1,treatment_unknown:()=>!1});return!1},e.shouldPrefetchCheckout=function(){return t.default.getBootstrap('checkout_gp_migration_prefetch_web')},e.shouldShowFirstMessagePrompt=function({deliverExperiment:_,isCompact:n}){if(t.default.getBootstrap('checkout_first_message_prompt_force_in'))return!0;if(n){if(t.default.getBootstrap('checkout_first_message_prompt_moweb_v1'))return _?o.default.deliverExperiment('checkout_first_message_prompt_moweb_v1',{treatment:()=>!0,control:()=>!1,treatment_unknown:()=>!1}):'treatment'===o.default.findTreatmentWithoutLogging('checkout_first_message_prompt_moweb_v1')}else if(t.default.getBootstrap('checkout_first_message_prompt_web_v1'))return _?o.default.deliverExperiment('checkout_first_message_prompt_web_v1',{treatment:()=>!0,control:()=>!1,treatment_unknown:()=>!1}):'treatment'===o.default.findTreatmentWithoutLogging('checkout_first_message_prompt_web_v1');return!1};var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireDefault(r(d[1]))}),"ac2ad1",["6b945b","52d64b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPageName=function(t){return o=s(t),p(o)||(0,n.default)("jitney_page_name_"+o);var o},e.storePageName=function(o,c){const u=s(o),f=p(u);if(!f)try{(0,n.default)("jitney_page_name_"+u,c,{expires:36e5})}catch(n){const o=n instanceof Error?n:new Error(String(n));(0,t.reportError)(o,{extra:{fromJitneyCache:!0,pageName:f},originalError:n instanceof Error?n:void 0})}};var n=babelHelpers.interopRequireDefault(r(d[0])),t=r(d[1]);const o=[{path:new RegExp("/experiences/[^/#?]+?[/#?]?$"),pageName:3003},{path:new RegExp("/rooms/plus/[^/#?]+?[/#?]?$"),pageName:3001},{path:new RegExp("/rooms/[^/#?]+?[/#?]?$"),pageName:3e3},{path:new RegExp("/s/guidebooks[/#?]?$"),pageName:1006},{path:new RegExp("/s/[^/#?]+?[/#?]?$"),pageName:2e3}];function p(n){const t=o.find(({path:t})=>{const o=n.match(t);return o&&o[0]===n});return t?t.pageName:null}function s(n){const{pathname:t}=new URL(n,'https://airbnb.com');return t}}),"ad4920",["be917c","5511db"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){const n=(0,t.useRef)(u);return n.current=u,n};var t=r(d[0])}),"ad52da",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,c){const l=(0,u.useRef)();l.current&&(0,t.default)(c,l.current.key)||(l.current={key:c,value:n()});return l.current.value};var u=r(d[0]),t=babelHelpers.interopRequireDefault(r(d[1]))}),"b11707",["d7ed8e","811d13"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.airbnbOrgGuestTypes=void 0;e.airbnbOrgGuestTypes=["CLIENT","ORGANIZATION_MEMBER","SELF"]}),"b2b2f7",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBreakpointFromCookie=function(t){return u[t]},Object.defineProperty(e,"getCookieHost",{enumerable:!0,get:function(){return l.default}}),e.getCookieValFromBreakpoint=function(t){return n[t]},e.updateCookie=function(n){(0,t.default)('cbkp')!==n&&(f&&(f(),f=void 0),f=(0,o.default)({toolName:'Airbnb Functional',doesCookieHaveConsentCb:o=>{o&&(0,t.default)('cbkp',n,{domain:(0,l.default)(),path:'/',expires:999})}}))};var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireDefault(r(d[1])),l=babelHelpers.interopRequireDefault(r(d[2]));const n={small:1,medium:2,large:3,xlarge:4},u={1:'small',2:'medium',3:'large',4:'xlarge'};let f}),"b686a9",["e480b8","7d1fdb","5c83be"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,c,n=Object.is){const o=Object.keys(t),u=Object.keys(c),s=new Set(u);return o.length===u.length&&o.every(t=>s.has(t))&&o.every(o=>n(t[o],c[o]))},e.isObject=function(t){return'object'==typeof t&&null!=t&&(t.constructor===Object||void 0===t.constructor)}}),"b6f34d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.updateJitneyClientSession=function(){const _=parseInt((new Date).getTime()/1e3,10);!(function(t){if(t-o<1800)return!0;const s=(0,n.default)('jitney_client_session_id'),_=(0,n.default)('jitney_client_session_created_at'),l=(0,n.default)('jitney_client_session_updated_at');return u=s,s&&_&&l&&t-parseInt(_,10)<86400&&t-parseInt(l,10)<1800})(_)?(function(_){const l=(0,s.getCookieHost)(),c=(0,t().v4)();(0,n.default)('jitney_client_session_id',c,{path:"/",domain:l}),(0,n.default)('jitney_client_session_created_at',_,{path:"/",domain:l}),(0,n.default)('jitney_client_session_updated_at',_,{path:"/",domain:l}),o=_,u=c})(_):(function(t){requestIdleCallback(()=>{(0,n.default)('jitney_client_session_updated_at',t,{path:'/',domain:(0,s.getCookieHost)()})}),o=t})(_);return u};var n=babelHelpers.interopRequireDefault(r(d[1])),s=r(d[2]);let o=0,u=null}),"b8b344",["f2cf32","e480b8","b686a9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParamKeys=void 0,e.buildUrlInfo=function(t,n){return{urlParams:t.params,queryParams:f((0,p.default)(n.search)),location:n}},e.coerceStaysCheckoutParams=f;var t,n,o,s,u,c,p=babelHelpers.interopRequireDefault(r(d[0]));!(function(t){t.debug="debug",t.is_lr_booking="isLrBooking",t.isLrBooking="isLrBooking",t.work_trip="isWorkTrip",t.is_work_trip="isWorkTrip",t.isWorkTrip="isWorkTrip",t.isFapiaoRequired="isFapiaoRequired",t.open_homes_affiliated="openHomesAffiliated",t.openHomesAffiliated="openHomesAffiliated",t.remove_coupon_action="removeCouponAction",t.removeCouponAction="removeCouponAction",t.skip_coupon_auto_apply="skipCouponAutoApply",t.skipCouponAutoApply="skipCouponAutoApply",t.vacation_rental="vacationRental",t.vacationRental="vacationRental",t.is_pending_payment="isWaitToPay",t.isWaitToPay="isWaitToPay"})(t||(t={})),(function(t){t.affiliate_id="affiliateId",t.affiliateId="affiliateId",t.airbnb_org_guest_type="airbnbOrgGuestType",t.airbnbOrgGuestType="airbnbOrgGuestType",t.booking_attempt_id="bookingAttemptId",t.bookingAttemptId="bookingAttemptId",t.campaign_param="campaignParam",t.campaignParam="campaignParam",t.code="code",t.otherCode="otherCode",t.other_code="otherCode",t.coupon_code="couponCode",t.couponCode="couponCode",t.display_currency="guestCurrency",t.displayCurrency="guestCurrency",t.guest_currency="guestCurrency",t.guestCurrency="guestCurrency",t.partnership_external_id="partnershipExternalId",t.partnershipExternalId="partnershipExternalId",t.pendingGuestEmail="pendingGuestEmail",t.pendingTripToken="pendingTripToken",t.ratePlanId="ratePlanId"})(n||(n={})),(function(t){t.cause_id="causeId",t.causeId="causeId",t.disaster_id="disasterId",t.disasterId="disasterId",t.airbnb_org_response_id="airbnbOrgResponseId",t.airbnbOrgResponseId="airbnbOrgResponseId",t.guest_checkin_time="guestCheckinTime",t.guestCheckinTime="guestCheckinTime",t.adults="numberOfAdults",t.number_of_adults="numberOfAdults",t.numberOfAdults="numberOfAdults",t.children="numberOfChildren",t.number_of_children="numberOfChildren",t.numberOfChildren="numberOfChildren",t.guests="numberOfGuests",t.number_of_guests="numberOfGuests",t.numberOfGuests="numberOfGuests",t.infants="numberOfInfants",t.number_of_infants="numberOfInfants",t.numberOfInfants="numberOfInfants",t.pets="numberOfPets",t.number_of_pets="numberOfPets",t.numberOfPets="numberOfPets",t.otherAdults="otherAdults",t.other_adults="otherAdults",t.otherChildren="otherChildren",t.other_children="otherChildren",t.otherGuests="otherGuests",t.other_guests="otherGuests",t.otherInfants="otherInfants",t.other_infants="otherInfants",t.otherPets="otherPets",t.other_pets="otherPets",t.selected_cancellation_policy_id="selectedCancellationPolicyId",t.selectedCancellationPolicyId="selectedCancellationPolicyId",t.focusedListing="focusedListing",t.focused_listing="focusedListing",t.fov_flow_canceled="fovFlowCanceled",t.fovFlowCanceled="fovFlowCanceled"})(o||(o={})),(function(t){t.guest_id="guestId",t.guestId="guestId",t.luxury_listing_quote_id="luxuryListingQuoteId",t.luxuryListingQuoteId="luxuryListingQuoteId",t.number_of_installments="numberOfInstallments",t.numberOfInstallments="numberOfInstallments",t.pending_traveler_id="pendingTravelerId",t.pendingTravelerId="pendingTravelerId",t.pending_guest_id="pendingGuestId",t.pendingGuestId="pendingGuestId",t.insuranceCode="insuranceCode",t.product_id="productId",t.productId="productId",t.hosting_id="productId",t.otherListing="otherListing",t.other_listing="otherListing",t.security_deposit_id="securityDepositId",t.securityDepositId="securityDepositId",t.special_offer_id="specialOfferId",t.specialOfferId="specialOfferId",t.splitStaysId="splitStaysId",t.split_stays_id="splitStaysId"})(s||(s={})),(function(t){t.checkin="checkin",t.checkout="checkout",t.check_in="checkin",t.check_out="checkout",t.otherCheckin="otherCheckin",t.other_check_in="otherCheckin",t.otherCheckout="otherCheckout",t.other_check_out="otherCheckout"})(u||(u={})),(function(t){t.sectionIds="sectionIds"})(c||(c={}));const l={...t,...n,...o,...s,...u,...c};function f(u,c=!1,p=!1){return Object.entries(u).reduce((u,[f,_])=>{if(p&&void 0===_)return u;const h=l[f];return h?t[f]?''!==_&&'string'==typeof _?{...u,[h]:'true'===_}:'boolean'==typeof _?{...u,[h]:_}:u:o[f]?''===_||'string'!=typeof _||Number.isNaN(parseInt(_,10))?''!==_&&'number'==typeof _?{...u,[h]:_}:u:{...u,[h]:parseInt(_,10)}:s[f]?''!==_?{...u,[h]:String(_)}:u:''!==_||f===n.couponCode||f===n.coupon_code?{...u,[h]:_}:u:c?{...u,[f]:_}:u},{})}e.QueryParamKeys=l}),"b91fe0",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppRoutesContext=void 0;var t=r(d[0]);const o=(function(){const o=(0,t.createContext)({appRootRoutes:[],getMatchedRoute:()=>{throw new Error('getMatchedRoute is not implemented. Make sure AppRoutesContext.Provider is in the tree.')},routes:[]});return o.displayName='AppRoutesContext',o})();e.AppRoutesContext=o}),"b9eb0b",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){}),"c287be",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./startStaysCheckout-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'startStaysCheckout',type:'mutation',operationId:'30357c3aa27d5d864c971675e9802a4efb8b74a4ca367627dcf39c11323963e5'};e.default=t}),"c7b28e",["10e060","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldYieldSelectedPaymentOption=void 0;var t=babelHelpers.interopRequireDefault(r(d[0]));e.shouldYieldSelectedPaymentOption=(l,n)=>{const{isWorkTrip:o,openHomesAffiliated:s}=n,{id:u}=t.default.current(),{user_id:_,bill_info:{is_business_travel:c}}=l;return!!(!c&&o||!c&&s||_!==u)}}),"cf4240",["c1939d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMinimalistInvalidateQuery=function({query:u}){const l=(0,t().useNiobeMinimalistClient)();return{invalidate:(0,n.useCallback)(({variables:n}={})=>{l.invalidate({query:u,variables:n})},[l,u])}};var n=r(d[0]);function t(){const n=r(d[1]);return t=function(){return n},n}}),"cfee73",["d7ed8e","1e513d"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}function o(){const n=r(d[2]);return o=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.useMinimalistPreloadedQuery=function({queryRef:u,onCompleted:c,onError:s}){u&&u.promise||(0,n().throwNiobeError)((0,n().invalidQueryRefError)(u));const f=(0,o().useNiobeMinimalistClient)().usePreloadedQuery(u,c,s);return(0,t().usePreventCaching)(null==f?void 0:f.error),f}}),"d57f93",["941d44","0b7693","ab1009"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({buildEventDataFromProps:y,eventDataSchema:D,trackReplaceNavigationsToNewPathnames:I=!1,universalPageName:w,subPageName:S,deprecatedIgnorePathnameUpdateForImpressions:E,ignorePathnameUpdate:R,includeHistoryUpdate:C}){if(y&&!D)throw new Error('withPagePerformanceScore: You must supply an event data schema if you supply an event data function.');return function(A){class T extends t.Component{constructor(t){super(t),this.bootstrappedApiLoggingContext=void 0,this.evaluatedEventDataSchema=void 0,this.evaluatedUniversalPageName=void 0,this.evaluatedSubPageName=void 0,this.eventDataSchema=void 0,this.impressionUuid=void 0,this.isInPageTransition=void 0,this.pageTransitionAcknowledgedByRender=void 0,this.previousPathname=void 0,this.lastLoggedPathname=void 0,this.deprecatedIgnorePathnameUpdateForImpressions=void 0,this.timeout=void 0,this.timestampOfInteractivity=void 0,this.ttfcpRequestAnimationFrameId=void 0,this.ignorePathnameUpdate=void 0,this.includeHistoryUpdate=void 0,this.getEvaluatedUniversalPageNames=()=>({evaluatedUniversalPageName:(0,P.evaluateUniversalPageName)(w,this.props),evaluatedSubPageName:S&&(0,P.evaluateSubpageName)(S,this.props)}),this.shouldSkipImpressionLogging=()=>{const{history:t}=this.props;return'function'==typeof this.deprecatedIgnorePathnameUpdateForImpressions&&t&&t.location&&this.lastLoggedPathname&&this.deprecatedIgnorePathnameUpdateForImpressions({prevPathname:this.lastLoggedPathname,nextPathname:t.location.pathname})},this.handleNewPageMount=()=>{const{history:t}=this.props,n=(0,v.updateJitneyClientSession)();h.default.addContext({client_session_id:n}),(0,p.storePageName)(window.document.URL,this.evaluatedUniversalPageName);const s=this.generateEventData();this.shouldSkipImpressionLogging()||(h.default.setImpressionMetadata({eventDataSchema:this.evaluatedEventDataSchema,initialEventData:s,impressionUuid:this.impressionUuid}),c.default.logImpression({universalPageName:this.evaluatedUniversalPageName,eventData:s,eventDataSchema:this.evaluatedEventDataSchema,impressionUuid:this.impressionUuid}),this.lastLoggedPathname=t&&t.location&&t.location.pathname),t&&c.default.setHistoryListener(t,(t,n)=>{if(c.default.hasMovedToNewPage(t,n,I)){if(this.pageTransitionAcknowledgedByRender)return void(this.pageTransitionAcknowledgedByRender=!1);this.isInPageTransition=!0}else(0,p.storePageName)(window.document.URL,this.evaluatedUniversalPageName)}),this.ttfcpRequestAnimationFrameId=requestAnimationFrame(()=>{const t={universalPageName:this.evaluatedUniversalPageName,subPageName:this.evaluatedSubPageName,impressionUuid:this.impressionUuid,timestampOfFCP:(0,l.default)().now(),eventData:s,eventDataSchema:this.evaluatedEventDataSchema};U.default.updateCurrentRecorderWithHOCProps(t)}),'function'==typeof this.ignorePathnameUpdate&&U.default.setIgnorePathnameUpdate(this.ignorePathnameUpdate),'function'==typeof this.includeHistoryUpdate&&U.default.setIncludeHistoryUpdate(this.includeHistoryUpdate)},this.eventDataSchema=D;const{evaluatedUniversalPageName:u,evaluatedSubPageName:f}=this.getEvaluatedUniversalPageNames();this.evaluatedUniversalPageName=u,this.evaluatedSubPageName=f,this.evaluatedEventDataSchema=(0,P.evaluateEventDataSchema)(D,t),this.isInPageTransition=!1,this.timestampOfInteractivity=null,this.previousPathname=t.location&&t.location.pathname,this.pageTransitionAcknowledgedByRender=!1,this.impressionUuid=(0,n().v4)();const N=o.default.get('api_logging_context');if(this.bootstrappedApiLoggingContext=void 0,this.deprecatedIgnorePathnameUpdateForImpressions=E,this.ignorePathnameUpdate=R,this.includeHistoryUpdate=C,N)try{'object'==typeof N?this.bootstrappedApiLoggingContext=N:'string'==typeof N&&(this.bootstrappedApiLoggingContext=JSON.parse(N))}catch(t){h.default.logJitneyEvent({schema:s().ApiLoggingContextMalformedBootstrapDataEvent,event_data:{payload:N,impression_uuid:this.impressionUuid}})}this.handlePageTransition=this.handlePageTransition.bind(this),this.generateEventData=this.generateEventData.bind(this),this.setContextForPage=this.setContextForPage.bind(this),this.setContextForPage()}componentDidMount(){window.performance&&'function'==typeof window.performance.mark&&window.performance.mark(f.HYDRATE_PERFORMANCE_HOC_MARK),this.handleNewPageMount()}componentWillUnmount(){this.timeout&&window.clearTimeout(this.timeout),this.ttfcpRequestAnimationFrameId&&cancelAnimationFrame(this.ttfcpRequestAnimationFrameId),U.default.clearIgnorePathnameUpdate(),U.default.clearIncludeHistoryUpdate()}setContextForPage(){(0,u.setPageName)(this.evaluatedUniversalPageName),h.default.addContext({page_name:this.evaluatedUniversalPageName,impression_uuid:this.impressionUuid}),b&&h.default.addContext({previous_page_name:b}),b=this.evaluatedUniversalPageName}handlePageTransition(){this.isInPageTransition=!1,this.previousPathname=this.props.location&&this.props.location.pathname,this.timestampOfInteractivity=null;const{evaluatedUniversalPageName:t,evaluatedSubPageName:s}=this.getEvaluatedUniversalPageNames();this.evaluatedUniversalPageName=t,this.evaluatedSubPageName=s,this.evaluatedEventDataSchema=(0,P.evaluateEventDataSchema)(D,this.props),this.impressionUuid=(0,n().v4)(),this.setContextForPage(),h.default.setImpressionMetadata({eventDataSchema:this.evaluatedEventDataSchema,initialEventData:this.generateEventData(),impressionUuid:this.impressionUuid}),this.handleNewPageMount()}generateEventData(){const t=y&&y(this.props);return!(!t&&!this.bootstrappedApiLoggingContext)&&{...t,...this.bootstrappedApiLoggingContext}}render(){const{history:t,location:n}=this.props;return this.isInPageTransition&&this.handlePageTransition(),n&&t&&this.previousPathname!==n.pathname&&(this.previousPathname=n.pathname,c.default.hasMovedToNewPage(n,t.action,I)?(this.handlePageTransition(),this.pageTransitionAcknowledgedByRender=!0):(0,p.storePageName)(window.document.URL,this.evaluatedUniversalPageName)),(0,N.jsx)(A,{...this.props})}}return T.defaultProps={...A.defaultProps||{}},T.displayName=`withPagePerformanceScore(${A.displayName||A.name||'Component'})`,T}};var t=babelHelpers.interopRequireWildcard(r(d[0]));function n(){const t=r(d[1]);return n=function(){return t},t}function s(){const t=r(d[2]);return s=function(){return t},t}babelHelpers.interopRequireDefault(r(d[3]));var o=babelHelpers.interopRequireDefault(r(d[4])),h=babelHelpers.interopRequireDefault(r(d[5])),u=r(d[6]),p=r(d[7]),l=babelHelpers.interopRequireDefault(r(d[8])),v=r(d[9]),c=babelHelpers.interopRequireDefault(r(d[10])),P=r(d[11]),f=r(d[12]),U=babelHelpers.interopRequireDefault(r(d[13])),N=r(d[14]);let b}),"dbdd38",["d7ed8e","f2cf32","f97e47","a09a89","05b07c","4cdbd9","47624a","ad4920","be93ab","b8b344","35d67f","e506cd","8f7de0","c323ce","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCheckoutMutationVariable=function({input:t,isLeanFragment:n,getPersistentQPData:o,shouldFetchTypedPaymentsData:u}){const s=h(t,o);return{input:{...b(t),quickPayData:s?{paymentDataRequest:s}:null},isLeanFragment:n,shouldFetchTypedPaymentsData:u}},e.getCheckoutQueryVariable=function({checkoutId:t,confirmationCodeOverride:n,isCompact:o,isLeanFragment:u,location:l,persistentQueryMetadata:p,getPersistentQPData:f,shouldFetchTypedPaymentsData:y}){const I={...(0,c.coerceStaysCheckoutParams)((0,s.default)(l.search)),checkoutId:t,isCompact:o,persistentQueryMetadata:p};n&&(I.code=n);const k=h(I,f);return{input:{...b(I),quickPayData:k?{paymentDataRequest:k}:null},isLeanFragment:u,shouldFetchTypedPaymentsData:y}},e.reportStaysCheckoutInputError=function(t,u){var s;const{bookingAttemptId:c,confirmationCode:l,productId:p,quickPayData:f}=t,h={hasBookingAttemptId:!!c,hasConfirmationCode:!!l,hasProductId:!!p,hasQuickPayData:!!f,origin:u};(0,n.airdogCount)('stays_checkout.api.input_error',1,h);const y=null===(s=window.location)||void 0===s?void 0:s.search;(0,o.reportError)(new Error('[Checkout][Stays] Checkout API Input Error'),{extra:{...t,origin:u,search:y}})};var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=babelHelpers.interopRequireDefault(r(d[3])),s=babelHelpers.interopRequireDefault(r(d[4])),c=r(d[5]),l=r(d[6]),p=r(d[7]),f=r(d[8]);function h(t,n){const o=n();if(null===o)return null;const u=JSON.parse(o);(0,l.shouldYieldSelectedPaymentOption)(u,t)&&u.payment_options_info&&(u.payment_options_info.selected_payment_option=void 0);const s=(0,p.convertToStableObjectOrder)(u);return JSON.stringify(s)}function y(t){return t&&f.airbnbOrgGuestTypes.includes(t)?t:void 0}function I({focusedListing:n,checkin:o,checkout:u,code:s,otherCheckin:c,otherCheckout:l,otherCode:p,otherListing:f,productId:h,splitStaysId:y}){if(!(f&&void 0!==n&&c&&l&&y))return;const I={checkinDate:o,checkoutDate:u,confirmationCode:s,productId:h?(0,t.createGlobalId)('StayListing',h):null},b={checkinDate:c,checkoutDate:l,confirmationCode:p,productId:f?(0,t.createGlobalId)('StayListing',f):null};return{splitStaysId:y,stays:0===n?[I,b]:[b,I]}}function b(n){const{affiliateId:o,airbnbOrgGuestType:s,airbnbOrgResponseId:c,bookingAttemptId:l,causeId:p,checkin:f,checkout:h,code:b,couponCode:k,disasterId:C,guestCheckinTime:O,guestCurrency:P,insuranceCode:D,isFapiaoRequired:v,isLrBooking:T,isWorkTrip:L,luxuryListingQuoteId:S,numberOfAdults:_,numberOfChildren:A,numberOfInfants:F,numberOfInstallments:G,numberOfPets:N,openHomesAffiliated:q,pendingGuestEmail:Q,pendingGuestId:R,pendingTripToken:E,persistentQueryMetadata:H,productId:M,ratePlanId:w,selectedCancellationPolicyId:x,specialOfferId:B}=n,{entryPoint:j}=H,J=u.default.current().curr;return{businessTravel:{pendingGuestEmail:Q,pendingGuestId:R,pendingTripToken:E,workTrip:L},bookingAttemptId:l,checkinDate:f,checkoutDate:h,splitStays:I(n),confirmationCode:b,couponCode:k,guestCheckinTime:O,guestCounts:{numberOfAdults:Number(_)||1,numberOfChildren:Number(A)||0,numberOfInfants:Number(F)||0,numberOfPets:Number(N)||0},guestCurrencyOverride:P||J||null,insuranceCode:D,lux:{isLrBooking:T,luxuryListingQuoteId:S},metadata:{entryPoint:j,internalFlags:['LAUNCH_LOGIN_PHONE_AUTH']},numberOfInstallments:G,org:{affiliateId:o?String(o):void 0,causeId:Number(p)||void 0,disasterId:Number(C)||void 0,airbnbOrgGuestType:y(s),airbnbOrgResponseId:void 0!==c?String(c):void 0,openHomesAffiliated:!!q||void 0},productId:M?(0,t.createGlobalId)('StayListing',M):null,ratePlanId:w,selectedCancellationPolicyId:x,specialOfferId:B,china:{isFapiaoRequired:v}}}}),"dc77a0",["685055","08b665","5511db","c1939d","99e500","b91fe0","cf4240","433a68","b2b2f7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c,f){const[p]=(0,n().useMinimalistMutation)(l.default,{fetchPolicy:'cache-first',clientType:'minimalist'}),v=(0,o.getCheckoutMutationVariable)({input:s,isLeanFragment:c,getPersistentQPData:()=>null,shouldFetchTypedPaymentsData:f});return(0,t.useCallback)(()=>p({variables:v,update:(t,{data:n})=>{var l,p,v,y,h;const b=null!==(l=null==n||null===(p=n.startStayCheckoutFlow)||void 0===p||null===(v=p.stayCheckout)||void 0===v||null===(y=v.sections)||void 0===y||null===(h=y.metadata)||void 0===h?void 0:h.confirmationCode)&&void 0!==l?l:void 0,P={...s,code:b},D=(0,o.getCheckoutMutationVariable)({input:P,isLeanFragment:c,getPersistentQPData:()=>null,shouldFetchTypedPaymentsData:f});(0,u.default)({proxy:t,data:n,isLeanFragment:c,shouldFetchTypedPaymentsData:f,variables:D})}}),[JSON.stringify(v)])};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}var l=babelHelpers.interopRequireDefault(r(d[2])),u=babelHelpers.interopRequireDefault(r(d[3])),o=r(d[4])}),"e087d4",["d7ed8e","1e513d","c7b28e","e9e2d0","dc77a0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateEventDataSchema=function(t,n){if('object'==typeof t)return t;if('function'==typeof t){const u=t(n);if('object'!=typeof u&&void 0!==u)return;return u}return},e.evaluateSubpageName=function(t,n){if('function'==typeof t){return t(n)}return t},e.evaluateUniversalPageName=function(t,n){if('function'==typeof t){return t(n)}return t}}),"e506cd",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])).default.createContext({});e.default=t}),"e99233",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateCache=e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]);const o=({isLeanFragment:o,proxy:l,shouldFetchTypedPaymentsData:u,stayCheckout:s,variables:c})=>{var y,p,v;const h=(null==s||null===(y=s.sections)||void 0===y||null===(p=y.metadata)||void 0===p?void 0:p.confirmationCode)||void 0,b=((t,o)=>{if(o&&null!=t&&t.paymentDataRequest){const l=JSON.parse(t.paymentDataRequest),u=JSON.stringify((0,n.convertToStableObjectOrder)({...l,bill_info:{...null==l?void 0:l.bill_info,bill_item_product_id:o}}));return{...t,paymentDataRequest:u}}return t})(null==c||null===(v=c.input)||void 0===v?void 0:v.quickPayData,h),f={input:{...c.input,confirmationCode:h,quickPayData:b},isLeanFragment:o,shouldFetchTypedPaymentsData:u};l.writeQuery({query:t.default,variables:f,data:{presentation:{__typename:'RootPresentationContainer',stayCheckout:s}}})};e.updateCache=o;var l=({data:t,isLeanFragment:n,proxy:l,shouldFetchTypedPaymentsData:u,variables:s})=>{var c;const y=null==t||null===(c=t.startStayCheckoutFlow)||void 0===c?void 0:c.stayCheckout;y&&o({isLeanFragment:n,proxy:l,shouldFetchTypedPaymentsData:u,stayCheckout:y,variables:s})};e.default=l}),"e9e2d0",["72c19d","433a68"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useOrCreateNiobeMinimalistClient",{enumerable:!0,get:function(){return(function(){const t=r(d[1]);return function(){return t},t})().useOrCreateNiobeMinimalistClient}}),Object.defineProperty(e,"usePrefetch",{enumerable:!0,get:function(){return(function(){const t=r(d[0]);return function(){return t},t})().usePrefetch}})}),"edba04",["0706b8","52c83c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.mutateSearchWithParams=O;var t=babelHelpers.interopRequireWildcard(r(d[0])),o=r(d[1]),u=babelHelpers.interopRequireDefault(r(d[2])),s=babelHelpers.interopRequireDefault(r(d[3])),n=r(d[4]),l=babelHelpers.interopRequireDefault(r(d[5])),c=babelHelpers.interopRequireWildcard(r(d[6])),f=r(d[7]),y=r(d[8]),b=babelHelpers.interopRequireDefault(r(d[9])),p=r(d[10]),v=r(d[11]),C=babelHelpers.interopRequireDefault(r(d[12])),h=r(d[13]),k=r(d[14]);function O({confirmationCode:t,params:s,staysData:n}){const l=u.default.current().curr,{numberOfGuests:c,guestCurrency:f}=s,y={...s,code:t,guestCurrency:f||l||void 0},b=!(void 0!==c||!n);if(!(0,p.isCheckoutStateRecoveryKillswitchOn)()&&b){const{numberOfAdults:t,numberOfChildren:u,numberOfGuests:s,numberOfInfants:l,numberOfPets:c}=n||{},f={numberOfAdults:null!=t?t:void 0,numberOfChildren:null!=u?u:void 0,numberOfGuests:null!=s?s:void 0,numberOfInfants:null!=l?l:void 0,numberOfPets:null!=c?c:void 0,...y};return(0,v.warn)('[Checkout][Stays] create route recovery flow triggered',{extra:{updatedParams:y,staysData:n}}),"?"+(0,o.stringify)(f)}return"?"+(0,o.stringify)(y)}var _=(0,b.default)({universalPageName:4003,includeHistoryUpdate:()=>!1})((function({location:u,isLeanFragment:b,shouldFetchTypedPaymentsData:p}){const{search:v}=u,_=(0,t.useMemo)(()=>(0,y.coerceStaysCheckoutParams)((0,s.default)(v)),[v]),{productId:H}=_,R=(0,c.default)()===c.FORM_FACTOR.COMPACT,D=(0,C.default)({..._,checkoutId:null,isCompact:R,persistentQueryMetadata:{}},b,p);return H||(0,h.reportStaysCheckoutInputError)(_,'StaysCheckoutCreateRoute_mutation'),(0,t.useEffect)(()=>{D&&D().then(({data:t})=>{if(null!=t&&t.startStayCheckoutFlow){var u,s,l,c,y,b,p;const o=(null==t||null===(u=t.startStayCheckoutFlow)||void 0===u||null===(s=u.stayCheckout)||void 0===s||null===(l=s.sections)||void 0===l||null===(c=l.metadata)||void 0===c?void 0:c.confirmationCode)||void 0,f=O({params:_,confirmationCode:o,staysData:(null==t||null===(y=t.startStayCheckoutFlow)||void 0===y||null===(b=y.stayCheckout)||void 0===b||null===(p=b.sections)||void 0===p?void 0:p.stateMutation)||void 0});(0,n.replaceToHistory)(`/book/stays/${H}${f}`)}else{(0,f.airdogCount)('stays_checkout.create_route.missing_data');const t="?"+(0,o.stringify)(_);(0,n.replaceToHistory)(`/book/stays/${H}${t}`)}}).catch(t=>{(0,f.airdogCount)('stays_checkout.create_route.error',1,{statusCode:null==t?void 0:t.statusCode});const u="?"+(0,o.stringify)(_);(0,n.replaceToHistory)(`/book/stays/${H}${u}`)}).finally(()=>{(0,f.airdogCount)('stays_checkout.create_route.missing_confirmation_code')})},[R,D,H,_]),(0,k.jsx)(l.default,{})}));e.default=_}),"eeae93",["d7ed8e","d2b390","c1939d","99e500","00871f","7f8df0","f7fa17","08b665","b91fe0","dbdd38","ac2ad1","5511db","e087d4","dc77a0","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t,u=((n,t)=>n===t)){if(n.size!==t.size)return!1;const f=Array.from(n),o=Array.from(t);return f.every(n=>{const t=o.findIndex(t=>u(n,t));return-1!==t&&(o.splice(t,1),!0)})}}),"ef1829",[]);
__d((function(g,r,i,a,m,e,d){}),"f104d5",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiLoggingContextMalformedBootstrapDataEvent=void 0;var t={defaultProps:{schema:'com.airbnb.jitney.event.logging.ApiLoggingContext:ApiLoggingContextMalformedBootstrapDataEvent:1.0.0',event_name:'apiloggingcontext_malformed_bootstrap_data'},propTypes:{}};e.ApiLoggingContextMalformedBootstrapDataEvent=t,t.fullyQualifiedName='ApiLoggingContext.v1.ApiLoggingContextMalformedBootstrapDataEvent'}),"f97e47",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-checkout-route/routes/StaysCheckoutRoute/StaysCheckoutCreateRoute.d75b381b25.js.map