__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(t,n.ACTION_RESET,{},u)};var t,u=r(d[0]),l=(t=u)&&t.__esModule?t:{default:t},n=r(d[1])}),"001632",["3e6a2b","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return(function(t,n){var o=[],u=!0,f=!1,y=void 0;try{for(var l,c=t[Symbol.iterator]();!(u=(l=c.next()).done)&&(o.push(l.value),!n||o.length!==n);u=!0);}catch(t){f=!0,y=t}finally{try{!u&&c.return&&c.return()}finally{if(f)throw y}}return o})(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(o,u){var f={},y={},l=null;if(!o||'object'!==(void 0===o?'undefined':n(o)))return{metadata:f,data:y,id:l};if(Object.entries(o).forEach((function(n){var o=t(n,2),u=o[0],l=o[1];'metadata'===u?f=l:y=l})),!Array.isArray(y)){var c=u&&u.getStateID(y);c?l=c:y.id&&(l=y.id)}return{metadata:f,data:y,id:l}};var o,u=r(d[0]);(o=u)&&o.__esModule}),"03b7cd",["6bc1f5"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(t,u){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return(function(t,u){var n=[],s=!0,o=!1,c=void 0;try{for(var f,l=t[Symbol.iterator]();!(s=(f=l.next()).done)&&(n.push(f.value),!u||n.length!==u);s=!0);}catch(t){o=!0,c=t}finally{try{!s&&l.return&&l.return()}finally{if(o)throw c}}return n})(t,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=(function(){function t(t,u){for(var n=0;n<u.length;n++){var s=u[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(u,n,s){return n&&t(u.prototype,n),s&&t(u,s),u}})(),n=_(r(d[0])),s=_(r(d[1])),o=(_(r(d[2])),_(r(d[3]))),c=_(r(d[4])),f=_(r(d[5])),l=_(r(d[6])),h=_(r(d[7])),y=_(r(d[8])),v=_(r(d[9])),p=_(r(d[10])),q=_(r(d[11])),N=_(r(d[12])),R=r(d[13]);function _(t){return t&&t.__esModule?t:{default:t}}function E(t,u){var n={};for(var s in t)u.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n}var k=(function(){function _(t){!(function(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")})(this,_);var u=t.resource,n=t.schema,c=t.rateLimit,f=E(t,['resource','schema','rateLimit']);this.config=Object.assign({format:'default',query:{},data:{},limit:20,hardDelete:!1,strategy:R.STRATEGY_MERGE},f||{}),this.requestCount=0,this.activeRequests={},this.loadedRequests=[],this.pagingRequests={},this.api=u,this.schema=o.default.factory(n),this.circuitBreaker=new s.default({entityName:this.getEntityName(),rateLimit:c})}return u(_,[{key:'buildParams',value:function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config,s=n.query,o=n.data,f=n.format,y=n.limit,v=n.strategy,p={id:null,query:(0,l.default)(s,u)||{},data:(0,l.default)(o,u)||{},resourceName:u.resourceName||'',force:u.force||!1,format:u.format||f,page:u.page||0,limit:u.limit||y,headers:u.headers||{},strategy:u.strategy||v,method:t};if(p.query._format=p.format,R.ID_METHODS.includes(t)){var q=u.id;!q||'number'!=typeof q&&'string'!=typeof q||(p.id=q)}return p.query=(0,h.default)(p.query,u.query),p.data=(0,c.default)(u.data)?u.data:(0,h.default)(p.data,u.data),p}},{key:'checkValidMethod',value:function(t){return t}},{key:'isSameRequest',value:function(t,u){return t.id===u.id&&t.method===u.method&&(0,f.default)(t.query,u.query)&&(0,f.default)(t.data,u.data)}},{key:'isSameQuery',value:function(t,u){t._limit,t._offset;var n=E(t,['_limit','_offset']),s=(u._limit,u._offset,E(u,['_limit','_offset']));return(0,f.default)(n,s)}},{key:'fetch',value:function(t){var u=this;return function(n){var s=u.buildParams(u.checkValidMethod(t.method),t);return s.method===R.METHOD_COLLECTION&&(s.page=0,s.limit=0),u.performFetch(n,s)}}},{key:'fetchPage',value:function(u){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.buildParams(R.METHOD_COLLECTION,u),c=!1,f=o.resourceName,l=this.pagingRequests[f]||{};if(l.query){if(l.query._format!==o.query._format)throw new Error('The format changed between pagination requests. This is not allowed.');this.isSameQuery(l.query,o.query)||(c=!0,o.page=1)}return 0===o.page?o.page=(l.page||1)+s:o.page<1&&(o.page=1),o.query._limit=o.limit+1,o.query._offset=(o.page-1)*o.limit,function(u){return c&&u((0,N.default)(f,{entityName:n.getEntityName()})),n.pagingRequests[f]={page:o.page,query:o.query},n.performFetch(u,o).then((function(u){var n={};return Object.entries(u).forEach((function(u){var s=t(u,2),c=s[0],f=s[1];n[c]='metadata'===c?f:Array.isArray(f)?f.slice(0,o.limit):f})),n}))}}},{key:'fetchNextPage',value:function(t){return this.fetchPage(t,1)}},{key:'fetchPreviousPage',value:function(t){return this.fetchPage(t,-1)}},{key:'getEntityName',value:function(){return this.schema?this.schema.getEntityName():this.api.resourceName}},{key:'getLoadedRequest',value:function(t){var u=this;return this.loadedRequests.find((function(n){return u.isSameRequest(n,t)}))}},{key:'getActiveRequest',value:function(t){var u=this,n=Object.keys(this.activeRequests).find((function(n){return u.isSameRequest(u.activeRequests[parseInt(n,10)],t)}));return n?this.activeRequests[parseInt(n,10)]:null}},{key:'performFetch',value:function(t,u){var n=this,s=u.method,o=u.page,c=u.limit,f=u.resourceName,l=void 0===f?'':f,h=u.strategy,y=this.getEntityName();if(!this.circuitBreaker.handleRequest(l))return this.shortCircuit(t,u);var p=void 0,q=-1,N=void 0;if(!u.force){var R=this.getLoadedRequest(u);if(R)p=R.promise;else{var _=this.getActiveRequest(u);_&&(p=_.promise)}}if(!p){var E,k=[u.query,u.data,u.headers];u.id&&k.unshift(u.id),l&&t((0,v.default)(l,{entityName:y})),p=(E=this.api)[s].apply(E,k),q=this.requestCount,N=Object.assign({},u,{promise:p}),this.requestCount+=1,this.activeRequests[q]=N}return p.then((function(u){return q>=0&&(delete n.activeRequests[q],n.loadedRequests.unshift(N)),n.handleSuccess(t,u,{resourceName:l,entityName:y,apiMethod:s,strategy:h,limit:c,page:o})})).catch((function(u){return q>=0&&delete n.activeRequests[q],n.handleFailure(t,u,{resourceName:l,entityName:y})})),p}},{key:'shortCircuit',value:function(t,u){var s=u.resourceName,o=void 0===s?'':s,c=this.getEntityName(),f=new Error('Request rate limit exceeded for "'+String(c)+'".');f.overload=!0;var l=this.getActiveRequest(u);return l&&l.promise?n.default.cancel(l.promise,f):this.circuitBreaker.isFirstFailure(o)&&this.handleFailure(t,f,{resourceName:o,entityName:c}),Promise.reject(f)}},{key:'handleSuccess',value:function(t,u,n){var s=this.config.hardDelete,o=n.resourceName,c=n.entityName,f=n.apiMethod,l=n.page,h=n.limit,v=n.strategy;return f===R.METHOD_DELETE&&(this.loadedRequests=[]),c&&f&&t((0,y.default)(c,f,u,{strategy:v,hardDelete:s,limit:h})),c&&o&&t((0,p.default)(o,u,{entityName:c,page:l,limit:h})),u}},{key:'handleFailure',value:function(t,u,n){var s=n.resourceName,o=n.entityName;return u.cancelled||u.overload||o&&s&&t((0,q.default)(s,u,{entityName:o})),u}}]),_})();e.default=k}),"075020",["9217b8","7afc1d","6bc1f5","117207","60240a","d5c400","ac1b48","258416","f9015e","d5d290","f3f34c","df895b","001632","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteResource=e.resetResource=e.failResource=e.passResource=e.initResource=e.deleteEntity=e.updateEntity=e.createEntity=e.resources=e.entities=e.registerSchema=e.createRootReducer=e.createResourceActions=e.Schema=e.createReducer=e.createActions=e.middleware=e.CALL_API=e.ResourcePropTypes=e.ActionTypes=e.ResourceShape=void 0;var t=P(r(d[0])),u=P(r(d[1])),c=r(d[2]),s=P(r(d[3])),o=P(r(d[4])),l=P(r(d[5])),R=r(d[6]),f=P(r(d[7])),E=P(r(d[8])),n=P(r(d[9])),A=P(r(d[10])),S=P(r(d[11])),T=P(r(d[12])),p=P(r(d[13])),_=P(r(d[14])),C=P(r(d[15])),y=P(r(d[16])),I=P(r(d[17])),L=P(r(d[18])),h=P(r(d[19])),O=P(r(d[20]));function P(t){return t&&t.__esModule?t:{default:t}}e.ResourceShape=u.default.shape,e.ActionTypes={REQUEST:R.ACTION_REQUEST,SUCCESS:R.ACTION_SUCCESS,FAILURE:R.ACTION_FAILURE,DELETE:R.ACTION_DELETE,RESET:R.ACTION_RESET};e.ResourcePropTypes=u.default,e.CALL_API=c.CALL_API,e.middleware=s.default,e.createActions=o.default,e.createReducer=l.default,e.Schema=f.default,e.createResourceActions=E.default,e.createRootReducer=n.default,e.registerSchema=A.default,e.entities=S.default,e.resources=T.default,e.createEntity=p.default,e.updateEntity=_.default,e.deleteEntity=C.default,e.initResource=y.default,e.passResource=I.default,e.failResource=L.default,e.resetResource=h.default,e.deleteResource=O.default,e.default=t.default}),"0a5aa7",["9217b8","623643","650385","bceb67","2050c5","337efb","7f79f6","6bc1f5","60b17f","dfb46c","65498f","e75cca","f6cd0f","5805c8","240012","4bbf51","d5d290","f3f34c","df895b","001632","5f1d41"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Boolean((0,u.default)(t)&&'actionType'in t&&('item'in t||'items'in t))};var t,n=r(d[0]),u=(t=n)&&t.__esModule?t:{default:t}}),"0ac303",["43d22e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaRegistry=void 0;var t=(function(){function t(t,n){for(var u=0;u<n.length;u++){var o=n[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,u,o){return u&&t(n.prototype,u),o&&t(n,o),n}})(),n=s(r(d[0])),u=s(r(d[1])),o=s(r(d[2]));function s(t){return t&&t.__esModule?t:{default:t}}var c=(function(){try{return r(d[3]).default}catch(t){return null}})(),f=e.SchemaRegistry=(function(){function s(){!(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,s),this.registry={}}return t(s,[{key:'factory',value:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;if('string'==typeof t)return this.registry[t]||null;if(!(0,o.default)(t))throw new Error('Invalid schema provided, must be an object or class instance.');var c=void 0;if(this.isShapeshifterSchema(t))c=new u.default(t);else{if(!(t instanceof n.default))throw new Error('Invalid schema. Must be an instance of "airbnb-api-resource" or "shapeshifter" Schema.');c=t}var f=c.getEntityName();return this.registry[f]&&!s||(this.registry[f]=c),c}},{key:'isShapeshifterSchema',value:function(t){return null!==c&&(t instanceof c||t.relations&&t.resourceName&&t.primaryKey)}}]),s})();e.default=new f}),"117207",["6bc1f5","756086","43d22e","dfbd41"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),"18f427",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OPTIONS=void 0;var t=f(r(d[0])),n=f(r(d[1])),o=f(r(d[2])),c=f(r(d[3])),u=r(d[4]);function f(t){return t&&t.__esModule?t:{default:t}}function l(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function p(t){if(Array.isArray(t)){for(var n=0,o=Array(t.length);n<t.length;n++)o[n]=t[n];return o}return Array.from(t)}var v=e.OPTIONS=(0,c.default)('api-options');e.default=function(c){var f=c.type,y=c.resource,s=c.id,h=c.query,A=c.data,P=c.method,T=c.resourceState,_=c.meta,b=c.pagination,O=c.limit,I=c.latest,E=void 0===I||I,j=b;function S(t,n,c){var u=c.error,l=c.payload,v=void 0===l?{}:l,y=c.meta,s=void 0===y?{}:y;return{type:f,error:u,payload:v,meta:Object.assign({},o.default.apply(void 0,[_,t].concat(p(n))),s)}}O&&(j=(function(t){return function(n,o){return{_limit:t,_offset:(o-1)*t}}})(O));var F=function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];return function(n,c){return n(S(c(),o,{meta:{clear:t,reset:!0}}))}};function q(t,n){var c={};j&&(c=j(t,n));for(var u=arguments.length,f=Array(u>2?u-2:0),l=2;l<u;l++)f[l-2]=arguments[l];return Object.assign({},c,o.default.apply(void 0,[h,t].concat(f)))}function N(o){if(T){for(var c=arguments.length,f=Array(c>1?c-1:0),l=1;l<c;l++)f[l-1]=arguments[l];var p=T.apply(void 0,f);if(p.isFetching&&!E)return!1;if(!p.hasFetched&&!p.isFetching)return!0;var v=p[u.PRIVATE_STATE];if(v.id===o.id&&(0,n.default)(v.query,o.query)&&(0,n.default)(v.data,o.data))return!1;if(E){if(p.isFetching&&v.promise)return t.default.cancel(p[u.PRIVATE_STATE].promise),!0;if(p.isFetching)return!1}}return!0}var M=function(t){for(var n=arguments.length,c=Array(n>1?n-1:0),p=1;p<n;p++)c[p-1]=arguments[p];return function(n,p){var h={};t&&t[v]?h=t[v]:c.unshift(t);var b=p(),O=1;if(T){var I=T.apply(void 0,[p()].concat(c));O=h.page||I[u.PRIVATE_STATE].page||I.pagination.page}var E={id:o.default.apply(void 0,[s,b].concat(c)),query:q.apply(void 0,[b,O].concat(c)),data:o.default.apply(void 0,[A,b].concat(c))};return h.forced||N.apply(void 0,[E,b].concat(c))?n(l({meta:Object.assign({},o.default.apply(void 0,[_,b].concat(c)),l({},u.PRIVATE_STATE,Object.assign({page:O,limit:E.query._limit},E)))},u.CALL_API,Object.assign({method:P,resource:y,type:f},E))):Promise.resolve()}};function R(){return M.apply(void 0,arguments)}return R.fetchMeMaybe=R,R.fetchIfNeeded=R,R.fetchForced=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return M.apply(void 0,[l({},v,{forced:!0})].concat(n))},R.reset=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return F.apply(void 0,[!1].concat(n))},R.resetAndClear=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return F.apply(void 0,[!0].concat(n))},R.fetchNextPage=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(t,o){var c=T.apply(void 0,[o()].concat(n));return t(R.fetchPage.apply(R,[c.pagination.page+1].concat(n)))}},R.fetchPreviousPage=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(t,o){var c=T.apply(void 0,[o()].concat(n));return t(R.fetchPage.apply(R,[c.pagination.page-1].concat(n)))}},R.fetchPage=function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];return function(n){return n(R.fetchIfNeeded.apply(R,[l({},v,{page:t})].concat(o)))}},R}}),"2050c5",["9217b8","d5c400","ac1b48","c7a10d","650385"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,t.default)(n,u.METHOD_UPDATE,{metadata:{},data:l},o)};var t=n(r(d[0])),u=(n(r(d[1])),r(d[2]));function n(t){return t&&t.__esModule?t:{default:t}}}),"240012",["f9015e","6bc1f5","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){if(u&&(0,n.default)(u))return Object.assign({},t,u);return t};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t}}),"258416",["43d22e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t.type||!t.meta||'resource/'!==t.type.substr(0,9))return!1;var u=t.meta||{},n=u.resourceName,s=void 0===n?'':n,c=u.actionType,f=void 0===c?'':c;return Boolean(s&&f&&t.type===(0,o.default)('resource',s,f))};var t,u=r(d[0]),o=(t=u)&&t.__esModule?t:{default:t}}),"3223e4",["b5cb90"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return(function(t,n){var s=[],o=!0,c=!1,u=void 0;try{for(var l,T=t[Symbol.iterator]();!(o=(l=T.next()).done)&&(s.push(l.value),!n||s.length!==n);o=!0);}catch(t){c=!0,u=t}finally{try{!o&&T.return&&T.return()}finally{if(c)throw u}}return s})(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=r(d[0]),s=r(d[1]);function o(t,n){var s={};for(var o in t)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s}function c(t,n,s){return n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}var u={type:'@@airbnb-api-resource/init'},l=c({entityName:'',actionType:'',isFetching:!1,hasFetched:!1,lastUpdated:null,error:null,metadata:{},item:{},items:[],pages:{},pagination:{page:1,hasNext:!1,hasPrev:!1}},n.PRIVATE_STATE,{});function T(t,n){return!!Array.isArray(t)&&!(n>t.length)}e.default=function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=Object.entries(f),A=y.reduce((function(n,s){var o=t(s,2),l=o[0],T=o[1];return Object.assign({},n,c({},l,T(void 0,u)))}),{}),h=Object.assign({},l,A),v=function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,l=arguments[1];l.meta||(l.meta={});var f={},A=!1;if(y.forEach((function(n){var s=t(n,2),o=s[0],c=s[1],T=u[o],p=c(T,l);f[o]=p,A=A||p!==T})),l.type===p){var v=Date.now();f[n.PRIVATE_STATE]=Object.assign({},u[n.PRIVATE_STATE],l.meta[n.PRIVATE_STATE],{promise:l.meta.promise?l.meta.promise:u[n.PRIVATE_STATE].promise});var b=l.meta.request,E=l.meta.success,O=l.error,j=l.meta.reset;if(b)return Object.assign({},u,f,{error:null,actionType:s.ACTION_REQUEST,lastUpdated:v,isFetching:!0});if(E){var _=l.payload,S=_.metadata,I=void 0===S?{}:S,P=o(_,['metadata']),R=Object.values(P)[0],F=u.pagination;return f[n.PRIVATE_STATE].limit&&(F={page:f[n.PRIVATE_STATE].page,hasNext:T(R,f[n.PRIVATE_STATE].limit)}),Object.assign({},u,f,c({metadata:I,pagination:F,actionType:s.ACTION_SUCCESS,lastUpdated:v,isFetching:!1,hasFetched:!0},Array.isArray(R)?'items':'item',R))}if(O)return Object.assign({},u,f,{actionType:s.ACTION_FAILURE,lastUpdated:v,isFetching:!1,hasFetched:!0,error:l.payload});if(j){var U=Object.assign({},f,{actionType:s.ACTION_RESET});return l.meta.clear?Object.assign({},h,U):Object.assign({},u,U,{lastUpdated:null,isFetching:!1,hasFetched:!1,error:null})}}return A?Object.assign({},u,f):u};return v}}),"337efb",["650385","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.isArray(t)?[].concat((function(t){if(Array.isArray(t)){for(var n=0,u=Array(t.length);n<t.length;n++)u[n]=t[n];return u}return Array.from(t)})(t)):[t]}}),"35ff9a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){for(var u=0;u<n.length;u++){var c=n[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(n,u,c){return u&&t(n.prototype,u),c&&t(n,c),n}})();function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var u=(function(){function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n(this,u),this.maxDepth=Math.min(t,10),this.depth={},this.cache={}}return t(u,[{key:'createCacheKey',value:function(t,n){return String(t)+':'+String(n)}},{key:'isCached',value:function(t){return t in this.cache}},{key:'isTracked',value:function(t){return t in this.depth}},{key:'isMaxDepth',value:function(t){return(this.depth[t]||0)===this.maxDepth}},{key:'dig',value:function(t){this.depth[t]+=1}},{key:'track',value:function(t){this.depth[t]=0}},{key:'readCache',value:function(t){return this.cache[t]||{}}},{key:'writeCache',value:function(t,n){this.cache[t]=n}}]),u})();e.default=u}),"3a5bb1",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,u.default)((0,t.default)('resource',n,o),Object.assign({},l,{resourceName:n,actionType:o}),c)};var t=n(r(d[0])),u=n(r(d[1]));r(d[2]);function n(t){return t&&t.__esModule?t:{default:t}}}),"3e6a2b",["b5cb90","ec6d91","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=(function(){function t(t,n){for(var u=0;u<n.length;u++){var s=n[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(n,u,s){return u&&t(n.prototype,u),s&&t(n,s),n}})(),u=f(r(d[0])),s=(f(r(d[1])),f(r(d[2]))),o=f(r(d[3])),h=f(r(d[4])),c=r(d[5]);function f(t){return t&&t.__esModule?t:{default:t}}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var y=(function(){function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.Map();l(this,f),this.state=t,this.cache=new Map,this.listeners=new Set,this.batching=!1,this.merge=this.merge.bind(this)}return n(f,[{key:'batch',value:function(t){return this.batching?this:(this.state=this.state.asMutable(),this.batching=!0,t(this),this.batching=!1,this.updateState(this.state.asImmutable()))}},{key:'createCacheKey',value:function(t,n){var u=(0,o.default)(n);return u.sort(),[t].concat((function(t){if(Array.isArray(t)){for(var n=0,u=Array(t.length);n<t.length;n++)u[n]=t[n];return u}return Array.from(t)})(u)).join('-')}},{key:'debug',value:function(){return this.state.toJS()}},{key:'deleteIn',value:function(t){return this.emit('changed',t),this.updateState(this.state.deleteIn(t))}},{key:'doCache',value:function(t,n){var u=this;if(this.cache.has(t))return this.cache.get(t);var s=n(),o=s.paths,c=s.data;if(!c||Array.isArray(c)&&0===c.length||(0,h.default)(c)&&0===Object.keys(c).length)return c;if(this.cache.set(t,c),o.length){var f=function n(s){o.some((function(o){return!!u.isSamePath(o,s)&&(u.cache.delete(t),u.off('changed',n),!0)}))};this.on('changed',f)}return c}},{key:'emit',value:function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.listeners.forEach((function(t){t(n,u)})),this}},{key:'getIn',value:function(t,n){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.getIn(t,n);return s&&o&&(u.default.Map.isMap(o)||u.default.List.isList(o))?o.toJS():o}},{key:'getSchema',value:function(t){var n=s.default.factory(t);if(!n)throw new Error('No schema exists for "'+String(String(t))+'".');return n}},{key:'hasIn',value:function(t){return this.state.hasIn(t)}},{key:'isSamePath',value:function(t,n){return t.length===n.length&&t.every((function(t,u){return String(t)===String(n[u])}))}},{key:'merge',value:function(n,s){return void 0===n||'object'!==(void 0===s?'undefined':t(s))?s:u.default.List.isList(n)&&u.default.List.isList(s)?n.isEmpty()?s:n.toOrderedSet().concat(s).toList():u.default.Map.isMap(n)&&u.default.Map.isMap(s)?n.mergeWith(this.merge,s):s}},{key:'off',value:function(t,n){return this.listeners.delete(n),this}},{key:'on',value:function(t,n){return this.listeners.add(n),this}},{key:'replace',value:function(n,s){return void 0===n||'object'!==(void 0===s?'undefined':t(s))?s:u.default.Map.isMap(n)&&u.default.Map.isMap(s)?n.merge(s):s}},{key:'setIn',value:function(t,n){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.emit('changed',t,n),this.updateState(this.state.setIn(t,s?u.default.fromJS(n):n))}},{key:'updateIn',value:function(t,n,s){var o=this;return this.emit('changed',t,n),this.updateState(this.state.updateIn(t,(function(t){var h=u.default.fromJS(n);return'function'==typeof s?s(t,h):s===c.STRATEGY_REPLACE?o.replace(t,h):o.merge(t,h)})))}},{key:'updateState',value:function(t){if(this.batching)return this;var n=new(0,this.constructor)(t);return n.cache=this.cache,n.listeners=this.listeners,n}}]),f})();e.default=y}),"412818",["dd7c27","6bc1f5","117207","35ff9a","43d22e","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};e.default=function(t){return'object'===(void 0===t?'undefined':o(t))&&null!==t&&!Array.isArray(t)}}),"43d22e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function o(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}Object.defineProperty(e,"__esModule",{value:!0});var n=(function(n){function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments[1];t(this,c);var s=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n.error_message,u));return s.error_id=n.error_id||'',s.error_type=n.error_type||'',s.error_code=n.error_code||'',s.error_message=n.error_message||'',s.error_details=n.error_details||'',s.debug_info=n.debug_info||null,s.field_errors=n.field_errors||{},s}return(function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)})(c,n),c})((function(t){function o(){t.apply(this,arguments)}return o.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t,o})(Error));e.default=n}),"44c66d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,f){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,t.default)(n,u.METHOD_DELETE,{metadata:{},data:{id:f}},l)};var t=n(r(d[0])),u=(n(r(d[1])),r(d[2]));function n(t){return t&&t.__esModule?t:{default:t}}}),"4bbf51",["f9015e","6bc1f5","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,t.default)(n,u.METHOD_CREATE,{metadata:{},data:l},o)};var t=n(r(d[0])),u=(n(r(d[1])),r(d[2]));function n(t){return t&&t.__esModule?t:{default:t}}}),"5805c8",["f9015e","6bc1f5","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(t,n.ACTION_DELETE,{},u)};var t,u=r(d[0]),l=(t=u)&&t.__esModule?t:{default:t},n=r(d[1])}),"5f1d41",["3e6a2b","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(f){return'string'==typeof f||'undefined'!=typeof Blob&&f instanceof Blob||'undefined'!=typeof FormData&&f instanceof FormData||'undefined'!=typeof URLSearchParams&&f instanceof URLSearchParams||'undefined'!=typeof ArrayBuffer&&f instanceof ArrayBuffer||'undefined'!=typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f)}}),"60240a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(n,o,u){return o&&t(n.prototype,o),u&&t(n,u),n}})();e.createDefaultResource=p;var n,o=r(d[0]),u=r(d[1]),s=(n=u)&&n.__esModule?n:{default:n},c=r(d[2]);function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var h='resources';function p(){return{entityName:'',actionType:'',isFetching:!1,hasFetched:!1,metadata:{},error:null,item:null,items:[],pages:{},pagination:{}}}var y=(function(n){function u(){return l(this,u),f(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)})(u,n),t(u,[{key:'addAssociation',value:function(t,n){return this.updateIn(this.createAssociationPath(n),t,(function(t,n){return o.Set.isSet(t)?t.add(n):(0,o.Set)([n])}))}},{key:'createAssociationPath',value:function(t){return["associations",t]}},{key:'createResourcePath',value:function(t){return[h].concat((function(t){if(Array.isArray(t)){for(var n=0,o=Array(t.length);n<t.length;n++)o[n]=t[n];return o}return Array.from(t)})(t.split('/')))}},{key:'getResource',value:function(t){var n=this;return this.doCache(t,(function(){var o=n.createResourcePath(t);return{paths:[o],data:n.getIn(o,{entityName:'',actionType:'',isFetching:!1,hasFetched:!1,metadata:{},error:null,item:null,items:[],pages:{},pagination:{}})}}))}},{key:'setResource',value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.STRATEGY_MERGE,u=this.createResourcePath(t),s=n;return this.hasIn(u)||(o=c.STRATEGY_REPLACE,s=Object.assign({},{entityName:'',actionType:'',isFetching:!1,hasFetched:!1,metadata:{},error:null,item:null,items:[],pages:{},pagination:{}},n)),this.batch((function(n){s.entityName&&n.addAssociation(t,s.entityName),o!==c.STRATEGY_REPLACE?n.updateIn(u,s,o):n.setIn(u,s)}))}},{key:'deleteResource',value:function(t){return this.deleteIn(this.createResourcePath(t))}},{key:'resetResourcesWithEntity',value:function(t,n){var u=this,s=this.createAssociationPath(t),c=this.getIn(s,(0,o.Set)()),l=String(n);return c.isEmpty()?this:this.batch((function(t){t.deleteIn(s),c.forEach((function(n){var o=u.createResourcePath(n),s=t.getIn(o,null);null!==s&&(s.item===l&&(s.item=null),s.items.includes(l)&&(s.items=s.items.filter((function(t){return t!==l}))),t.setIn(o,s))}))}))}}]),u})(s.default);e.default=y}),"6099b0",["dd7c27","412818","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(f){var u=new t.default(f);return{fetchMember:n(u,{method:c.METHOD_MEMBER}),fetchCollection:n(u,{method:c.METHOD_COLLECTION}),fetchPage:n(u,{method:c.METHOD_COLLECTION},'fetchPage'),fetchNextPage:n(u,{method:c.METHOD_COLLECTION},'fetchNextPage'),fetchPreviousPage:n(u,{method:c.METHOD_COLLECTION},'fetchPreviousPage'),create:n(u,{method:c.METHOD_CREATE,force:!0}),update:n(u,{method:c.METHOD_UPDATE,force:!0}),delete:n(u,{method:c.METHOD_DELETE,force:!0}),patch:n(u,{method:c.METHOD_PATCH,force:!0}),bootstrap:function(t){return(0,o.default)(u.getEntityName(),t)}}};var t=f(r(d[0])),o=f(r(d[1])),c=r(d[2]);function f(t){return t&&t.__esModule?t:{default:t}}function n(t,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'fetch';return function(f){return t[c](Object.assign({},f,o))}}}),"60b17f",["075020","5805c8","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t},l=r(d[1]);var n=f.default.oneOfType([f.default.object,f.default.number,f.default.string]),o={entityName:f.default.string,actionType:f.default.oneOf([''].concat((function(t){if(Array.isArray(t)){for(var u=0,f=Array(t.length);u<t.length;u++)f[u]=t[u];return f}return Array.from(t)})(l.ACTION_TYPES))).isRequired,isFetching:f.default.bool.isRequired,hasFetched:f.default.bool.isRequired,error:f.default.any,metadata:f.default.object,item:n,items:f.default.arrayOf(n),pages:f.default.objectOf(f.default.arrayOf(n)),pagination:f.default.shape({page:f.default.number,hasNext:f.default.bool,hasPrev:f.default.bool})};Object.defineProperty(o,'of',{value:function(t){return Object.assign({},o,{item:t,items:f.default.arrayOf(t)})}}),Object.defineProperty(o,'shape',{value:f.default.shape(o)}),e.default=o}),"623643",["590f40","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PRIVATE_STATE=e.CALL_API=void 0;var t,u=r(d[0]),_=(t=u)&&t.__esModule?t:{default:t};e.CALL_API=(0,_.default)('airbnb-api-resource'),e.PRIVATE_STATE=(0,_.default)('resource-state')}),"650385",["c7a10d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){t.default.factory(u,!0)};u(r(d[0]));var t=u(r(d[1]));function u(t){return t&&t.__esModule?t:{default:t}}}),"65498f",["6bc1f5","117207"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,n=(function(){function t(t,n){for(var u=0;u<n.length;u++){var o=n[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,u,o){return u&&t(n.prototype,u),o&&t(n,o),n}})(),u=r(d[0]),o=(t=u)&&t.__esModule?t:{default:t};function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var s=(function(){function t(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'id',o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,t),this.entityName=n,this.primaryKey=u,this.metadata=o,this.nestedSchemas=[]}return n(t,[{key:'getEntityName',value:function(){return this.entityName}},{key:'getPrimaryKey',value:function(){return this.primaryKey||'id'}},{key:'getMetadata',value:function(){return this.metadata||{}}},{key:'getNestedSchemas',value:function(){return this.nestedSchemas}},{key:'getStateID',value:function(t){return(0,o.default)(this.getPrimaryKey()).map((function(n){return t[n]})).filter((function(t){return void 0!==t})).join(':')}},{key:'define',value:function(n,u){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(u)&&(u=u[0],o=!0),u instanceof t&&this.nestedSchemas.push({attribute:n,schema:u,collection:o}),this}},{key:'defineMany',value:function(t){var n=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(t).forEach((function(o){return n.define(o,t[o],u)})),this}},{key:'toString',value:function(){return this.entityName}}]),t})();e.default=s}),"6bc1f5",["35ff9a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,n=(function(){function t(t,n){for(var o=0;o<n.length;o++){var c=n[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(n,o,c){return o&&t(n.prototype,o),c&&t(n,c),n}})(),o=r(d[0]);var c=(function(t){function o(t){!(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,o);var n=(function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n})(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t.resourceName,t.primaryKey,t.metadata));return n.schema=t,n}return(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)})(o,t),n(o,[{key:'getNestedSchemas',value:function(){var t=this;return this.nestedSchemas.length||this.schema.relations.forEach((function(n){t.nestedSchemas.push({attribute:n.attribute,schema:new o(n.schema),collection:n.collection})})),this.nestedSchemas}}]),o})(((t=o)&&t.__esModule?t:{default:t}).default);e.default=c}),"756086",["6bc1f5"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){for(var u=0;u<n.length;u++){var o=n[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,u,o){return u&&t(n.prototype,u),o&&t(n,o),n}})();var n={requestCount:100,timeWindowInMs:1e4},u=(function(){function u(t){!(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,u),this.rateLimit=t.rateLimit||n,this.accumulator=0,this.failureCount={},this.tripped=!1}return t(u,null,[{key:'configure',value:function(t){var u=t.rateLimit;return u&&(n=u),{defaultRateLimit:n}}}]),t(u,[{key:'handleRequest',value:function(t){var n=this;return this.accumulator+=1,setTimeout((function(){n.accumulator-=1}),this.rateLimit.timeWindowInMs),!this.tripped&&this.accumulator>this.rateLimit.requestCount&&(this.tripped=!0),this.tripped&&(this.failureCount[t]=(this.failureCount[t]||0)+1),!this.tripped}},{key:'isFirstFailure',value:function(t){return t&&1===this.failureCount[t]}}]),u})();e.default=u}),"7afc1d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=e.ACTION_REQUEST='request',T=e.ACTION_SUCCESS='success',_=e.ACTION_FAILURE='failure',O=e.ACTION_DELETE='delete',A=e.ACTION_RESET='reset',t=(e.ACTION_TYPES=[E,T,_,O,A],e.METHOD_MEMBER='member'),C=e.METHOD_COLLECTION='collection',D=e.METHOD_CREATE='create',M=e.METHOD_UPDATE='update',c=e.METHOD_PATCH='patch',I=e.METHOD_DELETE='delete';e.VALID_METHODS=[t,C,D,M,c,I],e.ID_METHODS=[t,M,c,I],e.STRATEGY_MERGE='merge',e.STRATEGY_REPLACE='replace'}),"7f79f6",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){for(var u=0;u<n.length;u++){var o=n[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,u,o){return u&&t(n.prototype,u),o&&t(n,o),n}})(),n=c(r(d[0])),u=r(d[1]),o=c(r(d[2])),s=c(r(d[3])),h=c(r(d[4]));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var f={},v=new Map,y='',k='monorail',p='',b={},T=function(){},q=function(t,n){return n()},w={},O=!1,j=0,H=(function(){function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,c);var u=n.apiKey,o=n.host,s=n.unauthorized,h=n.instrument,f=n.oauthToken,v=n.headers;this.resourceName=t,v&&(this.headers=v),o&&(this.host=o),u&&(this.apiKey=u),f&&(this.oauthToken=f),s&&(this.unauthorized=s),h&&(this.instrument=h)}return t(c,null,[{key:'configure',value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.apiKey,u=t.hosts,o=t.host,s=t.unauthorized,h=t.instrument,l=t.oauthToken,v=t.headers;return n&&(y=n),o&&(k=o),s&&(T=s),h&&(q=h),l&&(p=l),v&&(b=v),u&&c.configureHosts(u),{hosts:f,defaultApiKey:y,defaultHost:k,defaultUnauthorized:T,defaultInstrument:q,defaultOauthToken:p,defaultHeaders:b}}},{key:'configureHosts',value:function(t){Object.keys(t).forEach((function(n){var u=t[n];'string'==typeof u&&(u={url:u}),f[n]=Object.assign({internal:!0},u)}))}},{key:'cancel',value:function(t,n){if(!v.has(t))throw new Error('Attempted to cancel unknown request.');var u=v.get(t);u&&u(n)}},{key:'batch',value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=new c('batch',n),o=new s.default,h=j+=1;w[h]=o,O=!0,t(),O=!1;var l=u.batch(o.operations);return l.then((function(t){o.resolve(t),delete w[h]})).catch((function(t){o.reject(t),delete w[h]})),l}}]),t(c,[{key:'setHeaders',value:function(t){this.headers=t}},{key:'getBaseUrl',value:function(){var t=this.getHost(),n=f[t];return n?n.url:t}},{key:'getHost',value:function(){return this.host||k}},{key:'getApiKey',value:function(){return this.apiKey||y}},{key:'getUnauthorized',value:function(){return this.unauthorized||T}},{key:'getInstrument',value:function(){return this.instrument||q}},{key:'getOauthToken',value:function(){return this.oauthToken||p}},{key:'getHeaders',value:function(){return this.headers||b}},{key:'fetch',value:function(t){return this.performRequest(t)}},{key:'performRequest',value:function(t){var n=this,s=t.method,c=t.id,l=t.query,f=void 0===l?{}:l,y=t.data,k=void 0===y?{}:y,p=t.headers,b=void 0===p?{}:p,T=this.buildUrl(s,c),q=this.buildQueryParams(f);if(O)return new Promise((function(t,n){w[j].collect({method:s,path:T,body:k,query:q},t,n)}));var H=void 0,P=new Promise((function(t,l){H=l;var f=function(t){return function(n){if(v.delete(P),t)throw n;return n}};function y(t){t&&t.cancelled||l(t)}n.getInstrument()({host:n.getHost(),resource:n.resourceName,id:c,method:s},(function(c){var l=(0,u.stringify)(q,{encodeValuesOnly:!0,arrayFormat:'brackets'}),v=k;(0,h.default)(v)||(v=JSON.stringify(v),b.Accept='application/json',b['Content-Type']='application/json'),c&&Object.assign(b,c);var p=fetch(String(T)+'?'+String(l),{method:s,body:"GET"===s?void 0:v,credentials:'include',headers:n.buildHeaders(b)}).then((function(t){return t.json().then((function(n){return{json:n,res:t}}))})).catch((function(t){throw new o.default({error_message:t.message,error_code:502})}));return p.then((function(t){var u=t.json,s=t.res;return 401===s.status&&n.getUnauthorized()(s),s.ok?u:Promise.reject(new o.default(u))})).then(f(),f(!0)).then(t,y),p}))}));return v.set(P,(function(t){var n=t||new Error('API Request Cancelled');n.cancelled=!0,H(n)})),P}},{key:'buildQueryParams',value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return this.getApiKey()&&!O&&(n.key=this.getApiKey()),Object.assign({},n,t)}},{key:'buildHeaders',value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=f[this.getHost()],o=Object.assign({},this.getHeaders(),t);if(u&&!u.internal)return o;var s=(0,n.default)('_csrf_token');s&&(o['X-CSRF-Token']=s);var h=this.getOauthToken();return h&&(o['X-Airbnb-OAuth-Token']=h),o['X-CSRF-Without-Token']='1',o}},{key:'buildUrl',value:function(t,n){return String(O?'':this.getBaseUrl())+'/'+String(this.resourceName)+(n?'/'+String(n):'')}},{key:'member',value:function(t,n,u,o){return this.performRequest({id:t,query:n,data:u,headers:o,method:"GET"})}},{key:'collection',value:function(t,n,u){return this.performRequest({query:t,data:n,headers:u,method:"GET"})}},{key:'create',value:function(t,n,u){return this.performRequest({query:t,data:n,headers:u,method:"POST"})}},{key:'update',value:function(t,n,u,o){return this.performRequest({id:t,query:n,data:u,headers:o,method:"PUT"})}},{key:'patch',value:function(t,n,u,o){return this.performRequest({id:t,query:n,data:u,headers:o,method:"PATCH"})}},{key:'delete',value:function(t,n,u,o){return this.performRequest({id:t,query:n,data:u,headers:o,method:"DELETE"})}},{key:'batch',value:function(t,n){return this.performRequest({data:{operations:t},headers:n,method:"POST"})}}]),c})();e.default=H}),"9217b8",["e8c6ea","d2b390","44c66d","bd2f34","60240a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return'object'==typeof t&&null!==t&&!Array.isArray(t)}}),"9a5646",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=(function(){function t(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(n,o,u){return o&&t(n.prototype,o),u&&t(n,u),n}})(),o=l(r(d[0])),u=(l(r(d[1])),l(r(d[2]))),c=(l(r(d[3])),l(r(d[4]))),s=l(r(d[5])),h=r(d[6]);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var v=(function(o){function l(){return f(this,l),y(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)})(l,o),n(l,[{key:'assembleEntity',value:function(t,n,o,u){var c=this,s=o.createCacheKey(t.getEntityName(),n),h=o.isCached(s);if(o.isTracked(n)){if(o.isMaxDepth(n))return o.readCache(s);o.dig(n)}else o.track(n);var l=this.createEntityPath(t,n),f=this.getIn(l,null,!1);if(u.push(l),null===f)return{};var y=f.toJS(),v=h?{}:f.toJS();return t.getNestedSchemas().forEach((function(t){var n=t.schema,s=t.attribute,h=y[s];h&&(t.collection?(v[s]=[],y[s]=h.map((function(t){return c.assembleEntity(n,t,o,u)}))):(v[s]={},y[s]=c.assembleEntity(n,h,o,u)))})),h||o.writeCache(s,v),y}},{key:'createEntityPath',value:function(t,n){return["entities",this.getSchema(t).getEntityName(),String(n)]}},{key:'disassembleEntity',value:function(n,o){var u=this,c=Object.assign({},o);return n.getNestedSchemas().forEach((function(n){var o=n.schema,s=n.attribute,h=c[s];Array.isArray(h)||void 0===h||t(h),h&&(n.collection?u.isItemCollection(o,h)&&(c[s]=h.map((function(t){return o.getStateID(t)}))):u.isItem(o,h)&&(c[s]=o.getStateID(h)))})),c}},{key:'disassembleIntoTree',value:function(t,n){for(var o=this,u=[],c=[{schema:t,data:n}],h=function(){var t=c.shift(),n=t.schema,h=t.data,l=(n.getEntityName(),n.getStateID(h));n.getNestedSchemas().forEach((function(t){var n=h[t.attribute];n&&(0,s.default)(n).forEach((function(n){c.push({schema:t.schema,data:n})}))})),u.push({path:o.createEntityPath(n,l),entity:o.disassembleEntity(n,h)})};c.length;)h();return u}},{key:'handleTreeMerge',value:function(t,n){return this.batch((function(o){t.forEach((function(t){var u=t.path,c=t.entity;o.updateIn(u,c,n)}))}))}},{key:'getEntity',value:function(t,n){var o=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=this.getSchema(t);return this.doCache(this.createCacheKey(s.getEntityName(),n),(function(){var t=[];return{paths:t,data:o.assembleEntity(s,n,new u.default(c),t)}}))}},{key:'getEntityFromResource',value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.item&&(t.hasFetched||o)?this.getEntity(t.entityName,t.item,n):{}}},{key:'getEntities',value:function(t,n){var o=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=this.getSchema(t);return this.doCache(this.createCacheKey(String(s.getEntityName())+'-collection',n),(function(){var t=[],h=[];return n.forEach((function(n){var l=o.assembleEntity(s,n,new u.default(c),t);Object.keys(l).length>0&&h.push(l)})),{paths:t,data:h}}))}},{key:'getEntitiesFromResource',value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.items&&t.items.length&&(t.hasFetched||o)?this.getEntities(t.entityName,t.items,n):[]}},{key:'deleteItem',value:function(t,n){return this.deleteIn(this.createEntityPath(t,n))}},{key:'setItem',value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.STRATEGY_MERGE;return this.handleTreeMerge(this.disassembleIntoTree(this.getSchema(t),n),o)}},{key:'setCollection',value:function(t,n){var o=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.STRATEGY_MERGE,c=this.getSchema(t);return this.handleTreeMerge(n.reduce((function(t,n){return t.concat(o.disassembleIntoTree(c,n))}),[]),u)}},{key:'isItem',value:function(t,n){return(0,c.default)(n)&&''!==t.getStateID(n)}},{key:'isItemCollection',value:function(t,n){var o=this;return Array.isArray(n)&&n.every((function(n){return o.isItem(t,n)}))}}]),l})(o.default);e.default=v}),"a823ed",["412818","6bc1f5","3a5bb1","0ac303","43d22e","35ff9a","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t){if(Array.isArray(t)){for(var n=0,f=Array(t.length);n<t.length;n++)f[n]=t[n];return f}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){for(var f=arguments.length,o=Array(f>1?f-1:0),u=1;u<f;u++)o[u-1]=arguments[u];return'function'==typeof n?n.apply(void 0,t(o)):n}}),"ac1b48",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t.type||!t.meta||'entity/'!==t.type.substr(0,7))return!1;var u=t.meta||{},o=u.entityName,f=void 0===o?'':o,l=u.apiMethod,y=void 0===l?'':l;return Boolean(f&&y&&t.type===(0,n.default)('entity',f,y))};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t}}),"b231f4",["b5cb90"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,u){return[t,n,u.toUpperCase()].join('/')}}),"b5cb90",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(d[0]);r(d[1]);e.default=function(){return function(n){return function(o){var u=o[t.CALL_API];if(void 0===u)return n(o);var c=u.resource,s=u.type,f=u.method,l=u.id;function p(t){var n=t.error,u=t.payload,c=void 0===u?{}:u,f=t.meta,l=void 0===f?{}:f;return{type:s,error:n,payload:Object.assign({},o.payload,c),meta:Object.assign({},o.meta,l)}}var v=[u.query,u.data];l&&v.unshift(l);var y=c[f].apply(c,v);return n(p({meta:{promise:y,request:!0}})),y.then((function(t){return n(p({payload:t,meta:{success:!0}}))}),(function(t){return t.cancelled?t:n(p({payload:t||'APIResource encountered an error',error:!0}))})),y}}}}),"bceb67",["650385","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,n=(function(){function t(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(n,o,u){return o&&t(n.prototype,o),u&&t(n,u),n}})(),o=r(d[0]),u=(t=o)&&t.__esModule?t:{default:t};var s=(function(){function t(){!(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.operations=[],this.requests=[]}return n(t,[{key:'collect',value:function(t,n,o){this.operations.push(t),this.requests.push({resolve:n,reject:o})}},{key:'resolve',value:function(t){this.requests.forEach((function(n,o){var s=t.operations[o].response;s.error_code?n.reject(new u.default(s)):n.resolve(s)}))}},{key:'reject',value:function(t){this.requests.forEach((function(n){n.reject(t)}))}}]),t})();e.default=s}),"bd2f34",["44c66d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return t?Symbol(n):'@@'+String(n)};var t='function'==typeof Symbol}),"c7a10d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,o=(t=r(d[0]))&&t.__esModule?t:{default:t},n=(function(){function t(t,n,s){void 0===n&&(n='id'),void 0===s&&(s={}),this.attributes=[],this.relations=[],this.relationTypes={},o.default(n)&&(n=(s=n).primaryKey||'id'),this.resourceName=t,this.primaryKey=n,this.metadata=s}return t.prototype.addAttributes=function(t){return this.attributes=Array.from(new Set((function(){for(var t=0,o=0,n=arguments.length;o<n;o++)t+=arguments[o].length;var s=Array(t),h=0;for(o=0;o<n;o++)for(var u=arguments[o],y=0,l=u.length;y<l;y++,h++)s[h]=u[y];return s})(this.attributes,t))),this},t.prototype.addRelation=function(t,o,n,s){var h={attribute:t,collection:"belongsToMany"===n||"hasMany"===n,relation:n,schema:o};return s&&(h.polymorph=s),this.relations.push(h),this.relationTypes[t]=n,this.addAttributes([t]),this},t.prototype.addRelations=function(t,o){var n=this;return Object.keys(t).forEach((function(s){n.addRelation(s,t[s],o)})),this},t.prototype.belongsTo=function(t){return this.addRelations(t,"belongsTo")},t.prototype.belongsToMany=function(t){return this.addRelations(t,"belongsToMany")},t.prototype.define=function(o){var n=this;return Object.keys(o).forEach((function(s){var h=o[s];h instanceof t?n.addRelation(s,h,"hasOne"):Array.isArray(h)&&n.addRelation(s,h[0],"hasMany")})),this},t.prototype.hasOne=function(t){return this.addRelations(t,"hasOne")},t.prototype.hasMany=function(t){return this.addRelations(t,"hasMany")},t.prototype.morphTo=function(t,o,n,s){var h=this;return void 0===n&&(n='_type'),void 0===s&&(s='_id'),Object.keys(t).forEach((function(u){h.addRelation(o,t[u],"morphTo",{keySuffix:s,type:u,typeSuffix:n})})),this},t.HAS_ONE="hasOne",t.HAS_MANY="hasMany",t.BELONGS_TO="belongsTo",t.BELONGS_TO_MANY="belongsToMany",t.MORPH_TO="morphTo",t})();e.default=n}),"d2a0ca",["9a5646"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(n,f){if(n===f||!n&&!f)return!0;if(!n&&f||!f&&n||'object'!==(void 0===n?'undefined':t(n))||'object'!==(void 0===f?'undefined':t(f)))return!1;var u=Object.keys(n),y=Object.keys(f);if(u.length!==y.length)return!1;for(var c=0;c<u.length;c+=1)if(!o.call(f,u[c])||n[u[c]]!==f[u[c]])return!1;return!0};var o=Object.prototype.hasOwnProperty}),"d5c400",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(t,n.ACTION_REQUEST,{},u)};var t,u=r(d[0]),l=(t=u)&&t.__esModule?t:{default:t},n=r(d[1])}),"d5d290",["3e6a2b","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t,n;t=void 0,n=function(){var t=Array.prototype.slice;function n(t,n){n&&(t.prototype=Object.create(n.prototype)),t.prototype.constructor=t}function o(t){return f(t)?t:X(t)}function u(t){return c(t)?t:F(t)}function s(t){return _(t)?t:G(t)}function h(t){return f(t)&&!p(t)?t:Z(t)}function f(t){return!(!t||!t[v])}function c(t){return!(!t||!t[y])}function _(t){return!(!t||!t[w])}function p(t){return c(t)||_(t)}function l(t){return!(!t||!t[S])}n(u,o),n(s,o),n(h,o),o.isIterable=f,o.isKeyed=c,o.isIndexed=_,o.isAssociative=p,o.isOrdered=l,o.Keyed=u,o.Indexed=s,o.Set=h;var v='@@__IMMUTABLE_ITERABLE__@@',y='@@__IMMUTABLE_KEYED__@@',w='@@__IMMUTABLE_INDEXED__@@',S='@@__IMMUTABLE_ORDERED__@@',z={},I={value:!1},b={value:!1};function q(t){return t.value=!1,t}function D(t){t&&(t.value=!0)}function M(){}function E(t,n){n=n||0;for(var o=Math.max(0,t.length-n),u=new Array(o),s=0;s<o;s++)u[s]=t[s+n];return u}function O(t){return void 0===t.size&&(t.size=t.__iterate(k)),t.size}function x(t,n){if('number'!=typeof n){var o=n>>>0;if(''+o!==n||4294967295===o)return NaN;n=o}return n<0?O(t)+n:n}function k(){return!0}function A(t,n,o){return(0===t||void 0!==o&&t<=-o)&&(void 0===n||void 0!==o&&n>=o)}function j(t,n){return R(t,n,0)}function U(t,n){return R(t,n,n)}function R(t,n,o){return void 0===t?o:t<0?Math.max(0,n+t):void 0===n?t:Math.min(n,t)}var K,L,T,B='function'==typeof Symbol&&Symbol.iterator,W=B||"@@iterator";function C(t){this.next=t}function J(t,n,o,u){var s=0===t?n:1===t?o:[n,o];return u?u.value=s:u={value:s,done:!1},u}function N(){return{value:void 0,done:!0}}function P(t){return!!Q(t)}function H(t){return t&&'function'==typeof t.next}function V(t){var n=Q(t);return n&&n.call(t)}function Q(t){var n=t&&(B&&t[B]||t["@@iterator"]);if('function'==typeof n)return n}function Y(t){return t&&'number'==typeof t.length}function X(t){return null==t?it():f(t)?t.toSeq():(function(t){var n=st(t)||'object'==typeof t&&new tt(t);if(!n)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+t);return n})(t)}function F(t){return null==t?it().toKeyedSeq():f(t)?c(t)?t.toSeq():t.fromEntrySeq():ot(t)}function G(t){return null==t?it():f(t)?c(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function Z(t){return(null==t?it():f(t)?c(t)?t.entrySeq():t:ut(t)).toSetSeq()}function $(t){this._array=t,this.size=t.length}function tt(t){var n=Object.keys(t);this._object=t,this._keys=n,this.size=n.length}function et(t){this._iterable=t,this.size=t.length||t.size}function rt(t){this._iterator=t,this._iteratorCache=[]}function nt(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function it(){return K||(K=new $([]))}function ot(t){var n=Array.isArray(t)?new $(t).fromEntrySeq():H(t)?new rt(t).fromEntrySeq():P(t)?new et(t).fromEntrySeq():'object'==typeof t?new tt(t):void 0;if(!n)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return n}function ut(t){var n=st(t);if(!n)throw new TypeError('Expected Array or iterable object of values: '+t);return n}function st(t){return Y(t)?new $(t):H(t)?new rt(t):P(t)?new et(t):void 0}function at(t,n,o,u){var s=t._cache;if(s){for(var h=s.length-1,f=0;f<=h;f++){var c=s[o?h-f:f];if(!1===n(c[1],u?c[0]:f,t))return f+1}return f}return t.__iterateUncached(n,o)}function ht(t,n,o,u){var s=t._cache;if(s){var h=s.length-1,f=0;return new C((function(){var t=s[o?h-f:f];return f++>h?{value:void 0,done:!0}:J(n,u?t[0]:f-1,t[1])}))}return t.__iteratorUncached(n,o)}function ft(t,n){return n?(function t(n,o,u,s){return Array.isArray(o)?n.call(s,u,G(o).map((function(u,s){return t(n,u,s,o)}))):_t(o)?n.call(s,u,F(o).map((function(u,s){return t(n,u,s,o)}))):o})(n,t,'',{'':t}):ct(t)}function ct(t){return Array.isArray(t)?G(t).map(ct).toList():_t(t)?F(t).map(ct).toMap():t}function _t(t){return t&&(t.constructor===Object||void 0===t.constructor)}function pt(t,n){if(t===n||t!=t&&n!=n)return!0;if(!t||!n)return!1;if('function'==typeof t.valueOf&&'function'==typeof n.valueOf){if((t=t.valueOf())===(n=n.valueOf())||t!=t&&n!=n)return!0;if(!t||!n)return!1}return!('function'!=typeof t.equals||'function'!=typeof n.equals||!t.equals(n))}function lt(t,n){if(t===n)return!0;if(!f(n)||void 0!==t.size&&void 0!==n.size&&t.size!==n.size||void 0!==t.__hash&&void 0!==n.__hash&&t.__hash!==n.__hash||c(t)!==c(n)||_(t)!==_(n)||l(t)!==l(n))return!1;if(0===t.size&&0===n.size)return!0;var o=!p(t);if(l(t)){var u=t.entries();return n.every((function(t,n){var s=u.next().value;return s&&pt(s[1],t)&&(o||pt(s[0],n))}))&&u.next().done}var s=!1;if(void 0===t.size)if(void 0===n.size)'function'==typeof t.cacheResult&&t.cacheResult();else{s=!0;var h=t;t=n,n=h}var v=!0,y=n.__iterate((function(n,u){if(o?!t.has(n):s?!pt(n,t.get(u,z)):!pt(t.get(u,z),n))return v=!1,!1}));return v&&t.size===y}function vt(t,n){if(!(this instanceof vt))return new vt(t,n);if(this._value=t,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(L)return L;L=this}}function yt(t,n){if(!t)throw new Error(n)}function dt(t,n,o){if(!(this instanceof dt))return new dt(t,n,o);if(yt(0!==o,'Cannot step a Range by 0'),t=t||0,void 0===n&&(n=1/0),o=void 0===o?1:Math.abs(o),n<t&&(o=-o),this._start=t,this._end=n,this._step=o,this.size=Math.max(0,Math.ceil((n-t)/o-1)+1),0===this.size){if(T)return T;T=this}}function mt(){throw TypeError('Abstract')}function gt(){}function wt(){}function St(){}C.prototype.toString=function(){return'[Iterator]'},C.KEYS=0,C.VALUES=1,C.ENTRIES=2,C.prototype.inspect=C.prototype.toSource=function(){return this.toString()},C.prototype[W]=function(){return this},n(X,o),X.of=function(){return X(arguments)},X.prototype.toSeq=function(){return this},X.prototype.toString=function(){return this.__toString('Seq {','}')},X.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},X.prototype.__iterate=function(t,n){return at(this,t,n,!0)},X.prototype.__iterator=function(t,n){return ht(this,t,n,!0)},n(F,X),F.prototype.toKeyedSeq=function(){return this},n(G,X),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString('Seq [',']')},G.prototype.__iterate=function(t,n){return at(this,t,n,!1)},G.prototype.__iterator=function(t,n){return ht(this,t,n,!1)},n(Z,X),Z.of=function(){return Z(arguments)},Z.prototype.toSetSeq=function(){return this},X.isSeq=nt,X.Keyed=F,X.Set=Z,X.Indexed=G,X.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,n($,G),$.prototype.get=function(t,n){return this.has(t)?this._array[x(this,t)]:n},$.prototype.__iterate=function(t,n){for(var o=this._array,u=o.length-1,s=0;s<=u;s++)if(!1===t(o[n?u-s:s],s,this))return s+1;return s},$.prototype.__iterator=function(t,n){var o=this._array,u=o.length-1,s=0;return new C((function(){return s>u?{value:void 0,done:!0}:J(t,s,o[n?u-s++:s++])}))},n(tt,F),tt.prototype.get=function(t,n){return void 0===n||this.has(t)?this._object[t]:n},tt.prototype.has=function(t){return this._object.hasOwnProperty(t)},tt.prototype.__iterate=function(t,n){for(var o=this._object,u=this._keys,s=u.length-1,h=0;h<=s;h++){var f=u[n?s-h:h];if(!1===t(o[f],f,this))return h+1}return h},tt.prototype.__iterator=function(t,n){var o=this._object,u=this._keys,s=u.length-1,h=0;return new C((function(){var f=u[n?s-h:h];return h++>s?{value:void 0,done:!0}:J(t,f,o[f])}))},tt.prototype[S]=!0,n(et,G),et.prototype.__iterateUncached=function(t,n){if(n)return this.cacheResult().__iterate(t,n);var o=V(this._iterable),u=0;if(H(o))for(var s;!(s=o.next()).done&&!1!==t(s.value,u++,this););return u},et.prototype.__iteratorUncached=function(t,n){if(n)return this.cacheResult().__iterator(t,n);var o=V(this._iterable);if(!H(o))return new C(N);var u=0;return new C((function(){var n=o.next();return n.done?n:J(t,u++,n.value)}))},n(rt,G),rt.prototype.__iterateUncached=function(t,n){if(n)return this.cacheResult().__iterate(t,n);for(var o,u=this._iterator,s=this._iteratorCache,h=0;h<s.length;)if(!1===t(s[h],h++,this))return h;for(;!(o=u.next()).done;){var f=o.value;if(s[h]=f,!1===t(f,h++,this))break}return h},rt.prototype.__iteratorUncached=function(t,n){if(n)return this.cacheResult().__iterator(t,n);var o=this._iterator,u=this._iteratorCache,s=0;return new C((function(){if(s>=u.length){var n=o.next();if(n.done)return n;u[s]=n.value}return J(t,s,u[s++])}))},n(vt,G),vt.prototype.toString=function(){return 0===this.size?'Repeat []':'Repeat [ '+this._value+' '+this.size+' times ]'},vt.prototype.get=function(t,n){return this.has(t)?this._value:n},vt.prototype.includes=function(t){return pt(this._value,t)},vt.prototype.slice=function(t,n){var o=this.size;return A(t,n,o)?this:new vt(this._value,U(n,o)-j(t,o))},vt.prototype.reverse=function(){return this},vt.prototype.indexOf=function(t){return pt(this._value,t)?0:-1},vt.prototype.lastIndexOf=function(t){return pt(this._value,t)?this.size:-1},vt.prototype.__iterate=function(t,n){for(var o=0;o<this.size;o++)if(!1===t(this._value,o,this))return o+1;return o},vt.prototype.__iterator=function(t,n){var o=this,u=0;return new C((function(){return u<o.size?J(t,u++,o._value):{value:void 0,done:!0}}))},vt.prototype.equals=function(t){return t instanceof vt?pt(this._value,t._value):lt(t)},n(dt,G),dt.prototype.toString=function(){return 0===this.size?'Range []':'Range [ '+this._start+'...'+this._end+(1!==this._step?' by '+this._step:'')+' ]'},dt.prototype.get=function(t,n){return this.has(t)?this._start+x(this,t)*this._step:n},dt.prototype.includes=function(t){var n=(t-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},dt.prototype.slice=function(t,n){return A(t,n,this.size)?this:(t=j(t,this.size),(n=U(n,this.size))<=t?new dt(0,0):new dt(this.get(t,this._end),this.get(n,this._end),this._step))},dt.prototype.indexOf=function(t){var n=t-this._start;if(n%this._step==0){var o=n/this._step;if(o>=0&&o<this.size)return o}return-1},dt.prototype.lastIndexOf=function(t){return this.indexOf(t)},dt.prototype.__iterate=function(t,n){for(var o=this.size-1,u=this._step,s=n?this._start+o*u:this._start,h=0;h<=o;h++){if(!1===t(s,h,this))return h+1;s+=n?-u:u}return h},dt.prototype.__iterator=function(t,n){var o=this.size-1,u=this._step,s=n?this._start+o*u:this._start,h=0;return new C((function(){var f=s;return s+=n?-u:u,h>o?{value:void 0,done:!0}:J(t,h++,f)}))},dt.prototype.equals=function(t){return t instanceof dt?this._start===t._start&&this._end===t._end&&this._step===t._step:lt(this,t)},n(mt,o),n(gt,mt),n(wt,mt),n(St,mt),mt.Keyed=gt,mt.Indexed=wt,mt.Set=St;var zt='function'==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,n){var o=65535&(t|=0),u=65535&(n|=0);return o*u+((t>>>16)*u+o*(n>>>16)<<16>>>0)|0};function It(t){return t>>>1&1073741824|3221225471&t}function bt(t){if(!1===t||null==t)return 0;if('function'==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var n=typeof t;if('number'===n){if(t!=t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);t>4294967295;)o^=t/=4294967295;return It(o)}if('string'===n)return t.length>At?(function(t){var n=Rt[t];return void 0===n&&(n=qt(t),Ut===jt&&(Ut=0,Rt={}),Ut++,Rt[t]=n),n})(t):qt(t);if('function'==typeof t.hashCode)return t.hashCode();if('object'===n)return(function(t){var n;if(Ot&&void 0!==(n=Dt.get(t)))return n;if(void 0!==(n=t[kt]))return n;if(!Et){if(void 0!==(n=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return n;if(void 0!==(n=(function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}})(t)))return n}if(n=++xt,1073741824&xt&&(xt=0),Ot)Dt.set(t,n);else{if(void 0!==Mt&&!1===Mt(t))throw new Error('Non-extensible objects are not allowed as keys.');if(Et)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:n});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=n;else{if(void 0===t.nodeType)throw new Error('Unable to set a non-enumerable property on object.');t[kt]=n}}return n})(t);if('function'==typeof t.toString)return qt(t.toString());throw new Error('Value type '+n+' cannot be hashed.')}function qt(t){for(var n=0,o=0;o<t.length;o++)n=31*n+t.charCodeAt(o)|0;return It(n)}var Dt,Mt=Object.isExtensible,Et=(function(){try{return Object.defineProperty({},'@',{}),!0}catch(t){return!1}})(),Ot='function'==typeof WeakMap;Ot&&(Dt=new WeakMap);var xt=0,kt='__immutablehash__';'function'==typeof Symbol&&(kt=Symbol(kt));var At=16,jt=255,Ut=0,Rt={};function Kt(t){yt(t!==1/0,'Cannot perform this action with an infinite size.')}function Lt(t){return null==t?Gt():Tt(t)&&!l(t)?t:Gt().withMutations((function(n){var o=u(t);Kt(o.size),o.forEach((function(t,o){return n.set(o,t)}))}))}function Tt(t){return!(!t||!t[Wt])}n(Lt,gt),Lt.of=function(){var n=t.call(arguments,0);return Gt().withMutations((function(t){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error('Missing value for key: '+n[o]);t.set(n[o],n[o+1])}}))},Lt.prototype.toString=function(){return this.__toString('Map {','}')},Lt.prototype.get=function(t,n){return this._root?this._root.get(0,void 0,t,n):n},Lt.prototype.set=function(t,n){return Zt(this,t,n)},Lt.prototype.setIn=function(t,n){return this.updateIn(t,z,(function(){return n}))},Lt.prototype.remove=function(t){return Zt(this,t,z)},Lt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return z}))},Lt.prototype.update=function(t,n,o){return 1===arguments.length?t(this):this.updateIn([t],n,o)},Lt.prototype.updateIn=function(t,n,o){o||(o=n,n=void 0);var u=(function t(n,o,u,s){var h=n===z,f=o.next();if(f.done){var c=h?u:n,_=s(c);return _===c?n:_}yt(h||n&&n.set,'invalid keyPath');var p=f.value,l=h?z:n.get(p,z),v=t(l,o,u,s);return v===l?n:v===z?n.remove(p):(h?Gt():n).set(p,v)})(this,rr(t),n,o);return u===z?void 0:u},Lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Gt()},Lt.prototype.merge=function(){return re(this,void 0,arguments)},Lt.prototype.mergeWith=function(n){var o=t.call(arguments,1);return re(this,n,o)},Lt.prototype.mergeIn=function(n){var o=t.call(arguments,1);return this.updateIn(n,Gt(),(function(t){return'function'==typeof t.merge?t.merge.apply(t,o):o[o.length-1]}))},Lt.prototype.mergeDeep=function(){return re(this,ne,arguments)},Lt.prototype.mergeDeepWith=function(n){var o=t.call(arguments,1);return re(this,ie(n),o)},Lt.prototype.mergeDeepIn=function(n){var o=t.call(arguments,1);return this.updateIn(n,Gt(),(function(t){return'function'==typeof t.mergeDeep?t.mergeDeep.apply(t,o):o[o.length-1]}))},Lt.prototype.sort=function(t){return Ee(He(this,t))},Lt.prototype.sortBy=function(t,n){return Ee(He(this,n,t))},Lt.prototype.withMutations=function(t){var n=this.asMutable();return t(n),n.wasAltered()?n.__ensureOwner(this.__ownerID):this},Lt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new M)},Lt.prototype.asImmutable=function(){return this.__ensureOwner()},Lt.prototype.wasAltered=function(){return this.__altered},Lt.prototype.__iterator=function(t,n){return new Qt(this,t,n)},Lt.prototype.__iterate=function(t,n){var o=this,u=0;return this._root&&this._root.iterate((function(n){return u++,t(n[1],n[0],o)}),n),u},Lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ft(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Lt.isMap=Tt;var Bt,Wt='@@__IMMUTABLE_MAP__@@',Ct=Lt.prototype;function Jt(t,n){this.ownerID=t,this.entries=n}function Nt(t,n,o){this.ownerID=t,this.bitmap=n,this.nodes=o}function Pt(t,n,o){this.ownerID=t,this.count=n,this.nodes=o}function Ht(t,n,o){this.ownerID=t,this.keyHash=n,this.entries=o}function Vt(t,n,o){this.ownerID=t,this.keyHash=n,this.entry=o}function Qt(t,n,o){this._type=n,this._reverse=o,this._stack=t._root&&Xt(t._root)}function Yt(t,n){return J(t,n[0],n[1])}function Xt(t,n){return{node:t,index:0,__prev:n}}function Ft(t,n,o,u){var s=Object.create(Ct);return s.size=t,s._root=n,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function Gt(){return Bt||(Bt=Ft(0))}function Zt(t,n,o){var u,s;if(t._root){var h=q(I),f=q(b);if(u=$t(t._root,t.__ownerID,0,void 0,n,o,h,f),!f.value)return t;s=t.size+(h.value?o===z?-1:1:0)}else{if(o===z)return t;s=1,u=new Jt(t.__ownerID,[[n,o]])}return t.__ownerID?(t.size=s,t._root=u,t.__hash=void 0,t.__altered=!0,t):u?Ft(s,u):Gt()}function $t(t,n,o,u,s,h,f,c){return t?t.update(n,o,u,s,h,f,c):h===z?t:(D(c),D(f),new Vt(n,u,[s,h]))}function te(t){return t.constructor===Vt||t.constructor===Ht}function ee(t,n,o,u,s){if(t.keyHash===u)return new Ht(n,u,[t.entry,s]);var h,f=31&(0===o?t.keyHash:t.keyHash>>>o),c=31&(0===o?u:u>>>o);return new Nt(n,1<<f|1<<c,f===c?[ee(t,n,o+5,u,s)]:(h=new Vt(n,u,s),f<c?[t,h]:[h,t]))}function re(t,n,o){for(var s=[],h=0;h<o.length;h++){var c=o[h],_=u(c);f(c)||(_=_.map((function(t){return ft(t)}))),s.push(_)}return oe(t,n,s)}function ne(t,n,o){return t&&t.mergeDeep&&f(n)?t.mergeDeep(n):pt(t,n)?t:n}function ie(t){return function(n,o,u){if(n&&n.mergeDeepWith&&f(o))return n.mergeDeepWith(t,o);var s=t(n,o,u);return pt(n,s)?n:s}}function oe(t,n,o){return 0===(o=o.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==o.length?t.withMutations((function(t){for(var u=n?function(o,u){t.update(u,z,(function(t){return t===z?o:n(t,o,u)}))}:function(n,o){t.set(o,n)},s=0;s<o.length;s++)o[s].forEach(u)})):t.constructor(o[0])}function ue(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function se(t,n,o,u){var s=u?t:E(t);return s[n]=o,s}Ct[Wt]=!0,Ct.delete=Ct.remove,Ct.removeIn=Ct.deleteIn,Jt.prototype.get=function(t,n,o,u){for(var s=this.entries,h=0,f=s.length;h<f;h++)if(pt(o,s[h][0]))return s[h][1];return u},Jt.prototype.update=function(t,n,o,u,s,h,f){for(var c=s===z,_=this.entries,p=0,l=_.length;p<l&&!pt(u,_[p][0]);p++);var v=p<l;if(v?_[p][1]===s:c)return this;if(D(f),(c||!v)&&D(h),!c||1!==_.length){if(!v&&!c&&_.length>=ae)return(function(t,n,o,u){t||(t=new M);for(var s=new Vt(t,bt(o),[o,u]),h=0;h<n.length;h++){var f=n[h];s=s.update(t,0,void 0,f[0],f[1])}return s})(t,_,u,s);var y=t&&t===this.ownerID,w=y?_:E(_);return v?c?p===l-1?w.pop():w[p]=w.pop():w[p]=[u,s]:w.push([u,s]),y?(this.entries=w,this):new Jt(t,w)}},Nt.prototype.get=function(t,n,o,u){void 0===n&&(n=bt(o));var s=1<<(31&(0===t?n:n>>>t)),h=this.bitmap;return 0==(h&s)?u:this.nodes[ue(h&s-1)].get(t+5,n,o,u)},Nt.prototype.update=function(t,n,o,u,s,h,f){void 0===o&&(o=bt(u));var c=31&(0===n?o:o>>>n),_=1<<c,p=this.bitmap,l=0!=(p&_);if(!l&&s===z)return this;var v=ue(p&_-1),y=this.nodes,w=l?y[v]:void 0,S=$t(w,t,n+5,o,u,s,h,f);if(S===w)return this;if(!l&&S&&y.length>=he)return(function(t,n,o,u,s){for(var h=0,f=new Array(32),c=0;0!==o;c++,o>>>=1)f[c]=1&o?n[h++]:void 0;return f[u]=s,new Pt(t,h+1,f)})(t,y,p,c,S);if(l&&!S&&2===y.length&&te(y[1^v]))return y[1^v];if(l&&S&&1===y.length&&te(S))return S;var I=t&&t===this.ownerID,b=l?S?p:p^_:p|_,q=l?S?se(y,v,S,I):(function(t,n,o){var u=t.length-1;if(o&&n===u)return t.pop(),t;for(var s=new Array(u),h=0,f=0;f<u;f++)f===n&&(h=1),s[f]=t[f+h];return s})(y,v,I):(function(t,n,o,u){var s=t.length+1;if(u&&n+1===s)return t[n]=o,t;for(var h=new Array(s),f=0,c=0;c<s;c++)c===n?(h[c]=o,f=-1):h[c]=t[c+f];return h})(y,v,S,I);return I?(this.bitmap=b,this.nodes=q,this):new Nt(t,b,q)},Pt.prototype.get=function(t,n,o,u){void 0===n&&(n=bt(o));var s=31&(0===t?n:n>>>t),h=this.nodes[s];return h?h.get(t+5,n,o,u):u},Pt.prototype.update=function(t,n,o,u,s,h,f){void 0===o&&(o=bt(u));var c=31&(0===n?o:o>>>n),_=s===z,p=this.nodes,l=p[c];if(_&&!l)return this;var v=$t(l,t,n+5,o,u,s,h,f);if(v===l)return this;var y=this.count;if(l){if(!v&&--y<fe)return(function(t,n,o,u){for(var s=0,h=0,f=new Array(o),c=0,_=1,p=n.length;c<p;c++,_<<=1){var l=n[c];void 0!==l&&c!==u&&(s|=_,f[h++]=l)}return new Nt(t,s,f)})(t,p,y,c)}else y++;var w=t&&t===this.ownerID,S=se(p,c,v,w);return w?(this.count=y,this.nodes=S,this):new Pt(t,y,S)},Ht.prototype.get=function(t,n,o,u){for(var s=this.entries,h=0,f=s.length;h<f;h++)if(pt(o,s[h][0]))return s[h][1];return u},Ht.prototype.update=function(t,n,o,u,s,h,f){void 0===o&&(o=bt(u));var c=s===z;if(o!==this.keyHash)return c?this:(D(f),D(h),ee(this,t,n,o,[u,s]));for(var _=this.entries,p=0,l=_.length;p<l&&!pt(u,_[p][0]);p++);var v=p<l;if(v?_[p][1]===s:c)return this;if(D(f),(c||!v)&&D(h),c&&2===l)return new Vt(t,this.keyHash,_[1^p]);var y=t&&t===this.ownerID,w=y?_:E(_);return v?c?p===l-1?w.pop():w[p]=w.pop():w[p]=[u,s]:w.push([u,s]),y?(this.entries=w,this):new Ht(t,this.keyHash,w)},Vt.prototype.get=function(t,n,o,u){return pt(o,this.entry[0])?this.entry[1]:u},Vt.prototype.update=function(t,n,o,u,s,h,f){var c=s===z,_=pt(u,this.entry[0]);return(_?s===this.entry[1]:c)?this:(D(f),c?void D(h):_?t&&t===this.ownerID?(this.entry[1]=s,this):new Vt(t,this.keyHash,[u,s]):(D(h),ee(this,t,n,bt(u),[u,s])))},Jt.prototype.iterate=Ht.prototype.iterate=function(t,n){for(var o=this.entries,u=0,s=o.length-1;u<=s;u++)if(!1===t(o[n?s-u:u]))return!1},Nt.prototype.iterate=Pt.prototype.iterate=function(t,n){for(var o=this.nodes,u=0,s=o.length-1;u<=s;u++){var h=o[n?s-u:u];if(h&&!1===h.iterate(t,n))return!1}},Vt.prototype.iterate=function(t,n){return t(this.entry)},n(Qt,C),Qt.prototype.next=function(){for(var t=this._type,n=this._stack;n;){var o,u=n.node,s=n.index++;if(u.entry){if(0===s)return Yt(t,u.entry)}else if(u.entries){if(s<=(o=u.entries.length-1))return Yt(t,u.entries[this._reverse?o-s:s])}else if(s<=(o=u.nodes.length-1)){var h=u.nodes[this._reverse?o-s:s];if(h){if(h.entry)return Yt(t,h.entry);n=this._stack=Xt(h,n)}continue}n=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ae=8,he=16,fe=8;function ce(t){var n=Se();if(null==t)return n;if(_e(t))return t;var o=s(t),u=o.size;return 0===u?n:(Kt(u),u>0&&u<32?we(0,u,5,null,new ve(o.toArray())):n.withMutations((function(t){t.setSize(u),o.forEach((function(n,o){return t.set(o,n)}))})))}function _e(t){return!(!t||!t[pe])}n(ce,wt),ce.of=function(){return this(arguments)},ce.prototype.toString=function(){return this.__toString('List [',']')},ce.prototype.get=function(t,n){if((t=x(this,t))>=0&&t<this.size){var o=be(this,t+=this._origin);return o&&o.array[31&t]}return n},ce.prototype.set=function(t,n){return(function(t,n,o){if((n=x(t,n))!=n)return t;if(n>=t.size||n<0)return t.withMutations((function(t){n<0?qe(t,n).set(0,o):qe(t,0,n+1).set(n,o)}));n+=t._origin;var u=t._tail,s=t._root,h=q(b);return n>=Me(t._capacity)?u=ze(u,t.__ownerID,0,n,o,h):s=ze(s,t.__ownerID,t._level,n,o,h),h.value?t.__ownerID?(t._root=s,t._tail=u,t.__hash=void 0,t.__altered=!0,t):we(t._origin,t._capacity,t._level,s,u):t})(this,t,n)},ce.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ce.prototype.insert=function(t,n){return this.splice(t,0,n)},ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Se()},ce.prototype.push=function(){var t=arguments,n=this.size;return this.withMutations((function(o){qe(o,0,n+t.length);for(var u=0;u<t.length;u++)o.set(n+u,t[u])}))},ce.prototype.pop=function(){return qe(this,0,-1)},ce.prototype.unshift=function(){var t=arguments;return this.withMutations((function(n){qe(n,-t.length);for(var o=0;o<t.length;o++)n.set(o,t[o])}))},ce.prototype.shift=function(){return qe(this,1)},ce.prototype.merge=function(){return De(this,void 0,arguments)},ce.prototype.mergeWith=function(n){var o=t.call(arguments,1);return De(this,n,o)},ce.prototype.mergeDeep=function(){return De(this,ne,arguments)},ce.prototype.mergeDeepWith=function(n){var o=t.call(arguments,1);return De(this,ie(n),o)},ce.prototype.setSize=function(t){return qe(this,0,t)},ce.prototype.slice=function(t,n){var o=this.size;return A(t,n,o)?this:qe(this,j(t,o),U(n,o))},ce.prototype.__iterator=function(t,n){var o=0,u=ge(this,n);return new C((function(){var n=u();return n===me?{value:void 0,done:!0}:J(t,o++,n)}))},ce.prototype.__iterate=function(t,n){for(var o,u=0,s=ge(this,n);(o=s())!==me&&!1!==t(o,u++,this););return u},ce.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?we(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ce.isList=_e;var pe='@@__IMMUTABLE_LIST__@@',le=ce.prototype;function ve(t,n){this.array=t,this.ownerID=n}le[pe]=!0,le.delete=le.remove,le.setIn=Ct.setIn,le.deleteIn=le.removeIn=Ct.removeIn,le.update=Ct.update,le.updateIn=Ct.updateIn,le.mergeIn=Ct.mergeIn,le.mergeDeepIn=Ct.mergeDeepIn,le.withMutations=Ct.withMutations,le.asMutable=Ct.asMutable,le.asImmutable=Ct.asImmutable,le.wasAltered=Ct.wasAltered,ve.prototype.removeBefore=function(t,n,o){if(o===n?1<<n:0===this.array.length)return this;var u=o>>>n&31;if(u>=this.array.length)return new ve([],t);var s,h=0===u;if(n>0){var f=this.array[u];if((s=f&&f.removeBefore(t,n-5,o))===f&&h)return this}if(h&&!s)return this;var c=Ie(this,t);if(!h)for(var _=0;_<u;_++)c.array[_]=void 0;return s&&(c.array[u]=s),c},ve.prototype.removeAfter=function(t,n,o){if(o===(n?1<<n:0)||0===this.array.length)return this;var u,s=o-1>>>n&31;if(s>=this.array.length)return this;if(n>0){var h=this.array[s];if((u=h&&h.removeAfter(t,n-5,o))===h&&s===this.array.length-1)return this}var f=Ie(this,t);return f.array.splice(s+1),u&&(f.array[s]=u),f};var ye,de,me={};function ge(t,n){var o=t._origin,u=t._capacity,s=Me(u),h=t._tail;return f(t._root,t._level,0);function f(t,c,_){return 0===c?(function(t,f){var c=f===s?h&&h.array:t&&t.array,_=f>o?0:o-f,p=u-f;return p>32&&(p=32),function(){if(_===p)return me;var t=n?--p:_++;return c&&c[t]}})(t,_):(function(t,s,h){var c,_=t&&t.array,p=h>o?0:o-h>>s,l=1+(u-h>>s);return l>32&&(l=32),function(){for(;;){if(c){var t=c();if(t!==me)return t;c=null}if(p===l)return me;var o=n?--l:p++;c=f(_&&_[o],s-5,h+(o<<s))}}})(t,c,_)}}function we(t,n,o,u,s,h,f){var c=Object.create(le);return c.size=n-t,c._origin=t,c._capacity=n,c._level=o,c._root=u,c._tail=s,c.__ownerID=h,c.__hash=f,c.__altered=!1,c}function Se(){return ye||(ye=we(0,0,5))}function ze(t,n,o,u,s,h){var f,c=u>>>o&31,_=t&&c<t.array.length;if(!_&&void 0===s)return t;if(o>0){var p=t&&t.array[c],l=ze(p,n,o-5,u,s,h);return l===p?t:((f=Ie(t,n)).array[c]=l,f)}return _&&t.array[c]===s?t:(D(h),f=Ie(t,n),void 0===s&&c===f.array.length-1?f.array.pop():f.array[c]=s,f)}function Ie(t,n){return n&&t&&n===t.ownerID?t:new ve(t?t.array.slice():[],n)}function be(t,n){if(n>=Me(t._capacity))return t._tail;if(n<1<<t._level+5){for(var o=t._root,u=t._level;o&&u>0;)o=o.array[n>>>u&31],u-=5;return o}}function qe(t,n,o){void 0!==n&&(n|=0),void 0!==o&&(o|=0);var u=t.__ownerID||new M,s=t._origin,h=t._capacity,f=s+n,c=void 0===o?h:o<0?h+o:s+o;if(f===s&&c===h)return t;if(f>=c)return t.clear();for(var _=t._level,p=t._root,l=0;f+l<0;)p=new ve(p&&p.array.length?[void 0,p]:[],u),l+=1<<(_+=5);l&&(f+=l,s+=l,c+=l,h+=l);for(var v=Me(h),y=Me(c);y>=1<<_+5;)p=new ve(p&&p.array.length?[p]:[],u),_+=5;var w=t._tail,S=y<v?be(t,c-1):y>v?new ve([],u):w;if(w&&y>v&&f<h&&w.array.length){for(var z=p=Ie(p,u),I=_;I>5;I-=5){var b=v>>>I&31;z=z.array[b]=Ie(z.array[b],u)}z.array[v>>>5&31]=w}if(c<h&&(S=S&&S.removeAfter(u,0,c)),f>=y)f-=y,c-=y,_=5,p=null,S=S&&S.removeBefore(u,0,f);else if(f>s||y<v){for(l=0;p;){var q=f>>>_&31;if(q!==y>>>_&31)break;q&&(l+=(1<<_)*q),_-=5,p=p.array[q]}p&&f>s&&(p=p.removeBefore(u,_,f-l)),p&&y<v&&(p=p.removeAfter(u,_,y-l)),l&&(f-=l,c-=l)}return t.__ownerID?(t.size=c-f,t._origin=f,t._capacity=c,t._level=_,t._root=p,t._tail=S,t.__hash=void 0,t.__altered=!0,t):we(f,c,_,p,S)}function De(t,n,o){for(var u=[],h=0,c=0;c<o.length;c++){var _=o[c],p=s(_);p.size>h&&(h=p.size),f(_)||(p=p.map((function(t){return ft(t)}))),u.push(p)}return h>t.size&&(t=t.setSize(h)),oe(t,n,u)}function Me(t){return t<32?0:t-1>>>5<<5}function Ee(t){return null==t?ke():Oe(t)?t:ke().withMutations((function(n){var o=u(t);Kt(o.size),o.forEach((function(t,o){return n.set(o,t)}))}))}function Oe(t){return Tt(t)&&l(t)}function xe(t,n,o,u){var s=Object.create(Ee.prototype);return s.size=t?t.size:0,s._map=t,s._list=n,s.__ownerID=o,s.__hash=u,s}function ke(){return de||(de=xe(Gt(),Se()))}function Ae(t,n,o){var u,s,h=t._map,f=t._list,c=h.get(n),_=void 0!==c;if(o===z){if(!_)return t;f.size>=32&&f.size>=2*h.size?(u=(s=f.filter((function(t,n){return void 0!==t&&c!==n}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(u.__ownerID=s.__ownerID=t.__ownerID)):(u=h.remove(n),s=c===f.size-1?f.pop():f.set(c,void 0))}else if(_){if(o===f.get(c)[1])return t;u=h,s=f.set(c,[n,o])}else u=h.set(n,f.size),s=f.set(f.size,[n,o]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=s,t.__hash=void 0,t):xe(u,s)}function je(t,n){this._iter=t,this._useKeys=n,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Ke(t){this._iter=t,this.size=t.size}function Le(t){var n=$e(t);return n._iter=t,n.size=t.size,n.flip=function(){return t},n.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},n.has=function(n){return t.includes(n)},n.includes=function(n){return t.has(n)},n.cacheResult=tr,n.__iterateUncached=function(n,o){var u=this;return t.__iterate((function(t,o){return!1!==n(o,t,u)}),o)},n.__iteratorUncached=function(n,o){if(2===n){var u=t.__iterator(n,o);return new C((function(){var t=u.next();if(!t.done){var n=t.value[0];t.value[0]=t.value[1],t.value[1]=n}return t}))}return t.__iterator(1===n?0:1,o)},n}function Te(t,n,o){var u=$e(t);return u.size=t.size,u.has=function(n){return t.has(n)},u.get=function(u,s){var h=t.get(u,z);return h===z?s:n.call(o,h,u,t)},u.__iterateUncached=function(u,s){var h=this;return t.__iterate((function(t,s,f){return!1!==u(n.call(o,t,s,f),s,h)}),s)},u.__iteratorUncached=function(u,s){var h=t.__iterator(2,s);return new C((function(){var s=h.next();if(s.done)return s;var f=s.value,c=f[0];return J(u,c,n.call(o,f[1],c,t),s)}))},u}function Be(t,n){var o=$e(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var n=Le(t);return n.reverse=function(){return t.flip()},n}),o.get=function(o,u){return t.get(n?o:-1-o,u)},o.has=function(o){return t.has(n?o:-1-o)},o.includes=function(n){return t.includes(n)},o.cacheResult=tr,o.__iterate=function(n,o){var u=this;return t.__iterate((function(t,o){return n(t,o,u)}),!o)},o.__iterator=function(n,o){return t.__iterator(n,!o)},o}function We(t,n,o,u){var s=$e(t);return u&&(s.has=function(u){var s=t.get(u,z);return s!==z&&!!n.call(o,s,u,t)},s.get=function(u,s){var h=t.get(u,z);return h!==z&&n.call(o,h,u,t)?h:s}),s.__iterateUncached=function(s,h){var f=this,c=0;return t.__iterate((function(t,h,_){if(n.call(o,t,h,_))return c++,s(t,u?h:c-1,f)}),h),c},s.__iteratorUncached=function(s,h){var f=t.__iterator(2,h),c=0;return new C((function(){for(;;){var h=f.next();if(h.done)return h;var _=h.value,p=_[0],l=_[1];if(n.call(o,l,p,t))return J(s,u?p:c++,l,h)}}))},s}function Ce(t,n,o,u){var s=t.size;if(void 0!==n&&(n|=0),void 0!==o&&(o===1/0?o=s:o|=0),A(n,o,s))return t;var h=j(n,s),f=U(o,s);if(h!=h||f!=f)return Ce(t.toSeq().cacheResult(),n,o,u);var c,_=f-h;_==_&&(c=_<0?0:_);var p=$e(t);return p.size=0===c?c:t.size&&c||void 0,!u&&nt(t)&&c>=0&&(p.get=function(n,o){return(n=x(this,n))>=0&&n<c?t.get(n+h,o):o}),p.__iterateUncached=function(n,o){var s=this;if(0===c)return 0;if(o)return this.cacheResult().__iterate(n,o);var f=0,_=!0,p=0;return t.__iterate((function(t,o){if(!_||!(_=f++<h))return p++,!1!==n(t,u?o:p-1,s)&&p!==c})),p},p.__iteratorUncached=function(n,o){if(0!==c&&o)return this.cacheResult().__iterator(n,o);var s=0!==c&&t.__iterator(n,o),f=0,_=0;return new C((function(){for(;f++<h;)s.next();if(++_>c)return{value:void 0,done:!0};var t=s.next();return u||1===n?t:J(n,_-1,0===n?void 0:t.value[1],t)}))},p}function Je(t,n,o,u){var s=$e(t);return s.__iterateUncached=function(s,h){var f=this;if(h)return this.cacheResult().__iterate(s,h);var c=!0,_=0;return t.__iterate((function(t,h,p){if(!c||!(c=n.call(o,t,h,p)))return _++,s(t,u?h:_-1,f)})),_},s.__iteratorUncached=function(s,h){var f=this;if(h)return this.cacheResult().__iterator(s,h);var c=t.__iterator(2,h),_=!0,p=0;return new C((function(){var t,h,l;do{if((t=c.next()).done)return u||1===s?t:J(s,p++,0===s?void 0:t.value[1],t);var v=t.value;h=v[0],l=v[1],_&&(_=n.call(o,l,h,f))}while(_);return 2===s?t:J(s,h,l,t)}))},s}function Ne(t,n){var o=c(t),s=[t].concat(n).map((function(t){return f(t)?o&&(t=u(t)):t=o?ot(t):ut(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===s.length)return t;if(1===s.length){var h=s[0];if(h===t||o&&c(h)||_(t)&&_(h))return h}var p=new $(s);return o?p=p.toKeyedSeq():_(t)||(p=p.toSetSeq()),(p=p.flatten(!0)).size=s.reduce((function(t,n){if(void 0!==t){var o=n.size;if(void 0!==o)return t+o}}),0),p}function Pe(t,n,o){var u=$e(t);return u.__iterateUncached=function(u,s){var h=0,c=!1;return(function t(_,p){var l=this;_.__iterate((function(s,_){return(!n||p<n)&&f(s)?t(s,p+1):!1===u(s,o?_:h++,l)&&(c=!0),!c}),s)})(t,0),h},u.__iteratorUncached=function(u,s){var h=t.__iterator(u,s),c=[],_=0;return new C((function(){for(;h;){var t=h.next();if(!1===t.done){var p=t.value;if(2===u&&(p=p[1]),n&&!(c.length<n)||!f(p))return o?t:J(u,_++,p,t);c.push(h),h=p.__iterator(u,s)}else h=c.pop()}return{value:void 0,done:!0}}))},u}function He(t,n,o){n||(n=er);var u=c(t),s=0,h=t.toSeq().map((function(n,u){return[u,n,s++,o?o(n,u,t):n]})).toArray();return h.sort((function(t,o){return n(t[3],o[3])||t[2]-o[2]})).forEach(u?function(t,n){h[n].length=2}:function(t,n){h[n]=t[1]}),u?F(h):_(t)?G(h):Z(h)}function Ve(t,n,o){if(n||(n=er),o){var u=t.toSeq().map((function(n,u){return[n,o(n,u,t)]})).reduce((function(t,o){return Qe(n,t[1],o[1])?o:t}));return u&&u[0]}return t.reduce((function(t,o){return Qe(n,t,o)?o:t}))}function Qe(t,n,o){var u=t(o,n);return 0===u&&o!==n&&(null==o||o!=o)||u>0}function Ye(t,n,u){var s=$e(t);return s.size=new $(u).map((function(t){return t.size})).min(),s.__iterate=function(t,n){for(var o,u=this.__iterator(1,n),s=0;!(o=u.next()).done&&!1!==t(o.value,s++,this););return s},s.__iteratorUncached=function(t,s){var h=u.map((function(t){return t=o(t),V(s?t.reverse():t)})),f=0,c=!1;return new C((function(){var o;return c||(o=h.map((function(t){return t.next()})),c=o.some((function(t){return t.done}))),c?{value:void 0,done:!0}:J(t,f++,n.apply(null,o.map((function(t){return t.value}))))}))},s}function Xe(t,n){return nt(t)?n:t.constructor(n)}function Fe(t){if(t!==Object(t))throw new TypeError('Expected [K, V] tuple: '+t)}function Ge(t){return Kt(t.size),O(t)}function Ze(t){return c(t)?u:_(t)?s:h}function $e(t){return Object.create((c(t)?F:_(t)?G:Z).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):X.prototype.cacheResult.call(this)}function er(t,n){return t>n?1:t<n?-1:0}function rr(t){var n=V(t);if(!n){if(!Y(t))throw new TypeError('Expected iterable or array-like: '+t);n=V(o(t))}return n}function nr(t,n){var o,u=function(h){if(h instanceof u)return h;if(!(this instanceof u))return new u(h);if(!o){o=!0;var f=Object.keys(t);!(function(t,n){try{n.forEach(sr.bind(void 0,t))}catch(t){}})(s,f),s.size=f.length,s._name=n,s._keys=f,s._defaultValues=t}this._map=Lt(h)},s=u.prototype=Object.create(ir);return s.constructor=u,u}n(Ee,Lt),Ee.of=function(){return this(arguments)},Ee.prototype.toString=function(){return this.__toString('OrderedMap {','}')},Ee.prototype.get=function(t,n){var o=this._map.get(t);return void 0!==o?this._list.get(o)[1]:n},Ee.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Ee.prototype.set=function(t,n){return Ae(this,t,n)},Ee.prototype.remove=function(t){return Ae(this,t,z)},Ee.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ee.prototype.__iterate=function(t,n){var o=this;return this._list.__iterate((function(n){return n&&t(n[1],n[0],o)}),n)},Ee.prototype.__iterator=function(t,n){return this._list.fromEntrySeq().__iterator(t,n)},Ee.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map.__ensureOwner(t),o=this._list.__ensureOwner(t);return t?xe(n,o,t,this.__hash):(this.__ownerID=t,this._map=n,this._list=o,this)},Ee.isOrderedMap=Oe,Ee.prototype[S]=!0,Ee.prototype.delete=Ee.prototype.remove,n(je,F),je.prototype.get=function(t,n){return this._iter.get(t,n)},je.prototype.has=function(t){return this._iter.has(t)},je.prototype.valueSeq=function(){return this._iter.valueSeq()},je.prototype.reverse=function(){var t=this,n=Be(this,!0);return this._useKeys||(n.valueSeq=function(){return t._iter.toSeq().reverse()}),n},je.prototype.map=function(t,n){var o=this,u=Te(this,t,n);return this._useKeys||(u.valueSeq=function(){return o._iter.toSeq().map(t,n)}),u},je.prototype.__iterate=function(t,n){var o,u=this;return this._iter.__iterate(this._useKeys?function(n,o){return t(n,o,u)}:(o=n?Ge(this):0,function(s){return t(s,n?--o:o++,u)}),n)},je.prototype.__iterator=function(t,n){if(this._useKeys)return this._iter.__iterator(t,n);var o=this._iter.__iterator(1,n),u=n?Ge(this):0;return new C((function(){var s=o.next();return s.done?s:J(t,n?--u:u++,s.value,s)}))},je.prototype[S]=!0,n(Ue,G),Ue.prototype.includes=function(t){return this._iter.includes(t)},Ue.prototype.__iterate=function(t,n){var o=this,u=0;return this._iter.__iterate((function(n){return t(n,u++,o)}),n)},Ue.prototype.__iterator=function(t,n){var o=this._iter.__iterator(1,n),u=0;return new C((function(){var n=o.next();return n.done?n:J(t,u++,n.value,n)}))},n(Re,Z),Re.prototype.has=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,n){var o=this;return this._iter.__iterate((function(n){return t(n,n,o)}),n)},Re.prototype.__iterator=function(t,n){var o=this._iter.__iterator(1,n);return new C((function(){var n=o.next();return n.done?n:J(t,n.value,n.value,n)}))},n(Ke,F),Ke.prototype.entrySeq=function(){return this._iter.toSeq()},Ke.prototype.__iterate=function(t,n){var o=this;return this._iter.__iterate((function(n){if(n){Fe(n);var u=f(n);return t(u?n.get(1):n[1],u?n.get(0):n[0],o)}}),n)},Ke.prototype.__iterator=function(t,n){var o=this._iter.__iterator(1,n);return new C((function(){for(;;){var n=o.next();if(n.done)return n;var u=n.value;if(u){Fe(u);var s=f(u);return J(t,s?u.get(0):u[0],s?u.get(1):u[1],n)}}}))},Ue.prototype.cacheResult=je.prototype.cacheResult=Re.prototype.cacheResult=Ke.prototype.cacheResult=tr,n(nr,gt),nr.prototype.toString=function(){return this.__toString(ur(this)+' {','}')},nr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},nr.prototype.get=function(t,n){if(!this.has(t))return n;var o=this._defaultValues[t];return this._map?this._map.get(t,o):o},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=or(this,Gt()))},nr.prototype.set=function(t,n){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ur(this));if(this._map&&!this._map.has(t)&&n===this._defaultValues[t])return this;var o=this._map&&this._map.set(t,n);return this.__ownerID||o===this._map?this:or(this,o)},nr.prototype.remove=function(t){if(!this.has(t))return this;var n=this._map&&this._map.remove(t);return this.__ownerID||n===this._map?this:or(this,n)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(t,n){var o=this;return u(this._defaultValues).map((function(t,n){return o.get(n)})).__iterator(t,n)},nr.prototype.__iterate=function(t,n){var o=this;return u(this._defaultValues).map((function(t,n){return o.get(n)})).__iterate(t,n)},nr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map&&this._map.__ensureOwner(t);return t?or(this,n,t):(this.__ownerID=t,this._map=n,this)};var ir=nr.prototype;function or(t,n,o){var u=Object.create(Object.getPrototypeOf(t));return u._map=n,u.__ownerID=o,u}function ur(t){return t._name||t.constructor.name||'Record'}function sr(t,n){Object.defineProperty(t,n,{get:function(){return this.get(n)},set:function(t){yt(this.__ownerID,'Cannot set on an immutable record.'),this.set(n,t)}})}function ar(t){return null==t?vr():hr(t)&&!l(t)?t:vr().withMutations((function(n){var o=h(t);Kt(o.size),o.forEach((function(t){return n.add(t)}))}))}function hr(t){return!(!t||!t[cr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Ct.removeIn,ir.merge=Ct.merge,ir.mergeWith=Ct.mergeWith,ir.mergeIn=Ct.mergeIn,ir.mergeDeep=Ct.mergeDeep,ir.mergeDeepWith=Ct.mergeDeepWith,ir.mergeDeepIn=Ct.mergeDeepIn,ir.setIn=Ct.setIn,ir.update=Ct.update,ir.updateIn=Ct.updateIn,ir.withMutations=Ct.withMutations,ir.asMutable=Ct.asMutable,ir.asImmutable=Ct.asImmutable,n(ar,St),ar.of=function(){return this(arguments)},ar.fromKeys=function(t){return this(u(t).keySeq())},ar.prototype.toString=function(){return this.__toString('Set {','}')},ar.prototype.has=function(t){return this._map.has(t)},ar.prototype.add=function(t){return pr(this,this._map.set(t,!0))},ar.prototype.remove=function(t){return pr(this,this._map.remove(t))},ar.prototype.clear=function(){return pr(this,this._map.clear())},ar.prototype.union=function(){var n=t.call(arguments,0);return 0===(n=n.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){for(var o=0;o<n.length;o++)h(n[o]).forEach((function(n){return t.add(n)}))})):this.constructor(n[0])},ar.prototype.intersect=function(){var n=t.call(arguments,0);if(0===n.length)return this;n=n.map((function(t){return h(t)}));var o=this;return this.withMutations((function(t){o.forEach((function(o){n.every((function(t){return t.includes(o)}))||t.remove(o)}))}))},ar.prototype.subtract=function(){var n=t.call(arguments,0);if(0===n.length)return this;n=n.map((function(t){return h(t)}));var o=this;return this.withMutations((function(t){o.forEach((function(o){n.some((function(t){return t.includes(o)}))&&t.remove(o)}))}))},ar.prototype.merge=function(){return this.union.apply(this,arguments)},ar.prototype.mergeWith=function(n){var o=t.call(arguments,1);return this.union.apply(this,o)},ar.prototype.sort=function(t){return yr(He(this,t))},ar.prototype.sortBy=function(t,n){return yr(He(this,n,t))},ar.prototype.wasAltered=function(){return this._map.wasAltered()},ar.prototype.__iterate=function(t,n){var o=this;return this._map.__iterate((function(n,u){return t(u,u,o)}),n)},ar.prototype.__iterator=function(t,n){return this._map.map((function(t,n){return n})).__iterator(t,n)},ar.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._map.__ensureOwner(t);return t?this.__make(n,t):(this.__ownerID=t,this._map=n,this)},ar.isSet=hr;var fr,cr='@@__IMMUTABLE_SET__@@',_r=ar.prototype;function pr(t,n){return t.__ownerID?(t.size=n.size,t._map=n,t):n===t._map?t:0===n.size?t.__empty():t.__make(n)}function lr(t,n){var o=Object.create(_r);return o.size=t?t.size:0,o._map=t,o.__ownerID=n,o}function vr(){return fr||(fr=lr(Gt()))}function yr(t){return null==t?Sr():dr(t)?t:Sr().withMutations((function(n){var o=h(t);Kt(o.size),o.forEach((function(t){return n.add(t)}))}))}function dr(t){return hr(t)&&l(t)}_r[cr]=!0,_r.delete=_r.remove,_r.mergeDeep=_r.merge,_r.mergeDeepWith=_r.mergeWith,_r.withMutations=Ct.withMutations,_r.asMutable=Ct.asMutable,_r.asImmutable=Ct.asImmutable,_r.__empty=vr,_r.__make=lr,n(yr,ar),yr.of=function(){return this(arguments)},yr.fromKeys=function(t){return this(u(t).keySeq())},yr.prototype.toString=function(){return this.__toString('OrderedSet {','}')},yr.isOrderedSet=dr;var mr,gr=yr.prototype;function wr(t,n){var o=Object.create(gr);return o.size=t?t.size:0,o._map=t,o.__ownerID=n,o}function Sr(){return mr||(mr=wr(ke()))}function zr(t){return null==t?Er():Ir(t)?t:Er().unshiftAll(t)}function Ir(t){return!(!t||!t[qr])}gr[S]=!0,gr.__empty=Sr,gr.__make=wr,n(zr,wt),zr.of=function(){return this(arguments)},zr.prototype.toString=function(){return this.__toString('Stack [',']')},zr.prototype.get=function(t,n){var o=this._head;for(t=x(this,t);o&&t--;)o=o.next;return o?o.value:n},zr.prototype.peek=function(){return this._head&&this._head.value},zr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,o=arguments.length-1;o>=0;o--)n={value:arguments[o],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Mr(t,n)},zr.prototype.pushAll=function(t){if(0===(t=s(t)).size)return this;Kt(t.size);var n=this.size,o=this._head;return t.reverse().forEach((function(t){n++,o={value:t,next:o}})),this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Mr(n,o)},zr.prototype.pop=function(){return this.slice(1)},zr.prototype.unshift=function(){return this.push.apply(this,arguments)},zr.prototype.unshiftAll=function(t){return this.pushAll(t)},zr.prototype.shift=function(){return this.pop.apply(this,arguments)},zr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Er()},zr.prototype.slice=function(t,n){if(A(t,n,this.size))return this;var o=j(t,this.size);if(U(n,this.size)!==this.size)return wt.prototype.slice.call(this,t,n);for(var u=this.size-o,s=this._head;o--;)s=s.next;return this.__ownerID?(this.size=u,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mr(u,s)},zr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Mr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},zr.prototype.__iterate=function(t,n){if(n)return this.reverse().__iterate(t);for(var o=0,u=this._head;u&&!1!==t(u.value,o++,this);)u=u.next;return o},zr.prototype.__iterator=function(t,n){if(n)return this.reverse().__iterator(t);var o=0,u=this._head;return new C((function(){if(u){var n=u.value;return u=u.next,J(t,o++,n)}return{value:void 0,done:!0}}))},zr.isStack=Ir;var br,qr='@@__IMMUTABLE_STACK__@@',Dr=zr.prototype;function Mr(t,n,o,u){var s=Object.create(Dr);return s.size=t,s._head=n,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function Er(){return br||(br=Mr(0))}function Or(t,n){var o=function(o){t.prototype[o]=n[o]};return Object.keys(n).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(o),t}Dr[qr]=!0,Dr.withMutations=Ct.withMutations,Dr.asMutable=Ct.asMutable,Dr.asImmutable=Ct.asImmutable,Dr.wasAltered=Ct.wasAltered,o.Iterator=C,Or(o,{toArray:function(){Kt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(n,o){t[o]=n})),t},toIndexedSeq:function(){return new Ue(this)},toJS:function(){return this.toSeq().map((function(t){return t&&'function'==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&'function'==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new je(this,!0)},toMap:function(){return Lt(this.toKeyedSeq())},toObject:function(){Kt(this.size);var t={};return this.__iterate((function(n,o){t[o]=n})),t},toOrderedMap:function(){return Ee(this.toKeyedSeq())},toOrderedSet:function(){return yr(c(this)?this.valueSeq():this)},toSet:function(){return ar(c(this)?this.valueSeq():this)},toSetSeq:function(){return new Re(this)},toSeq:function(){return _(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zr(c(this)?this.valueSeq():this)},toList:function(){return ce(c(this)?this.valueSeq():this)},toString:function(){return'[Iterable]'},__toString:function(t,n){return 0===this.size?t+n:t+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+n},concat:function(){var n=t.call(arguments,0);return Xe(this,Ne(this,n))},includes:function(t){return this.some((function(n){return pt(n,t)}))},entries:function(){return this.__iterator(2)},every:function(t,n){Kt(this.size);var o=!0;return this.__iterate((function(u,s,h){if(!t.call(n,u,s,h))return o=!1,!1})),o},filter:function(t,n){return Xe(this,We(this,t,n,!0))},find:function(t,n,o){var u=this.findEntry(t,n);return u?u[1]:o},forEach:function(t,n){return Kt(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){Kt(this.size),t=void 0!==t?''+t:',';var n='',o=!0;return this.__iterate((function(u){o?o=!1:n+=t,n+=null!=u?u.toString():''})),n},keys:function(){return this.__iterator(0)},map:function(t,n){return Xe(this,Te(this,t,n))},reduce:function(t,n,o){var u,s;return Kt(this.size),arguments.length<2?s=!0:u=n,this.__iterate((function(n,h,f){s?(s=!1,u=n):u=t.call(o,u,n,h,f)})),u},reduceRight:function(t,n,o){var u=this.toKeyedSeq().reverse();return u.reduce.apply(u,arguments)},reverse:function(){return Xe(this,Be(this,!0))},slice:function(t,n){return Xe(this,Ce(this,t,n,!0))},some:function(t,n){return!this.every(Ur(t),n)},sort:function(t){return Xe(this,He(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,n){return O(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return(function(t,n,o){var u=Lt().asMutable();return t.__iterate((function(s,h){u.update(n.call(o,s,h,t),0,(function(t){return t+1}))})),u.asImmutable()})(this,t,n)},equals:function(t){return lt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new $(t._cache);var n=t.toSeq().map(jr).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(Ur(t),n)},findEntry:function(t,n,o){var u=o;return this.__iterate((function(o,s,h){if(t.call(n,o,s,h))return u=[s,o],!1})),u},findKey:function(t,n){var o=this.findEntry(t,n);return o&&o[0]},findLast:function(t,n,o){return this.toKeyedSeq().reverse().find(t,n,o)},findLastEntry:function(t,n,o){return this.toKeyedSeq().reverse().findEntry(t,n,o)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(){return this.find(k)},flatMap:function(t,n){return Xe(this,(function(t,n,o){var u=Ze(t);return t.toSeq().map((function(s,h){return u(n.call(o,s,h,t))})).flatten(!0)})(this,t,n))},flatten:function(t){return Xe(this,Pe(this,t,!0))},fromEntrySeq:function(){return new Ke(this)},get:function(t,n){return this.find((function(n,o){return pt(o,t)}),void 0,n)},getIn:function(t,n){for(var o,u=this,s=rr(t);!(o=s.next()).done;){var h=o.value;if((u=u&&u.get?u.get(h,z):z)===z)return n}return u},groupBy:function(t,n){return(function(t,n,o){var u=c(t),s=(l(t)?Ee():Lt()).asMutable();t.__iterate((function(h,f){s.update(n.call(o,h,f,t),(function(t){return(t=t||[]).push(u?[f,h]:h),t}))}));var h=Ze(t);return s.map((function(n){return Xe(t,h(n))}))})(this,t,n)},has:function(t){return this.get(t,z)!==z},hasIn:function(t){return this.getIn(t,z)!==z},isSubset:function(t){return t='function'==typeof t.includes?t:o(t),this.every((function(n){return t.includes(n)}))},isSuperset:function(t){return(t='function'==typeof t.isSubset?t:o(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(n){return pt(n,t)}))},keySeq:function(){return this.toSeq().map(Ar).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ve(this,t)},maxBy:function(t,n){return Ve(this,n,t)},min:function(t){return Ve(this,t?Rr(t):Tr)},minBy:function(t,n){return Ve(this,n?Rr(n):Tr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Xe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,n){return Xe(this,Je(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(Ur(t),n)},sortBy:function(t,n){return Xe(this,He(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Xe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,n){return Xe(this,(function(t,n,o){var u=$e(t);return u.__iterateUncached=function(u,s){var h=this;if(s)return this.cacheResult().__iterate(u,s);var f=0;return t.__iterate((function(t,s,c){return n.call(o,t,s,c)&&++f&&u(t,s,h)})),f},u.__iteratorUncached=function(u,s){var h=this;if(s)return this.cacheResult().__iterator(u,s);var f=t.__iterator(2,s),c=!0;return new C((function(){if(!c)return{value:void 0,done:!0};var t=f.next();if(t.done)return t;var s=t.value,_=s[0],p=s[1];return n.call(o,p,_,h)?2===u?t:J(u,_,p,t):(c=!1,{value:void 0,done:!0})}))},u})(this,t,n))},takeUntil:function(t,n){return this.takeWhile(Ur(t),n)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=(function(t){if(t.size===1/0)return 0;var n=l(t),o=c(t),u=n?1:0;return(function(t,n){return n=zt(n,3432918353),n=zt(n<<15|n>>>-15,461845907),n=zt(n<<13|n>>>-13,5),n=zt((n=(n+3864292196|0)^t)^n>>>16,2246822507),n=It((n=zt(n^n>>>13,3266489909))^n>>>16)})(t.__iterate(o?n?function(t,n){u=31*u+Br(bt(t),bt(n))|0}:function(t,n){u=u+Br(bt(t),bt(n))|0}:n?function(t){u=31*u+bt(t)|0}:function(t){u=u+bt(t)|0}),u)})(this))}});var xr=o.prototype;xr[v]=!0,xr[W]=xr.values,xr.__toJS=xr.toArray,xr.__toStringMapper=Kr,xr.inspect=xr.toSource=function(){return this.toString()},xr.chain=xr.flatMap,xr.contains=xr.includes,Or(u,{flip:function(){return Xe(this,Le(this))},mapEntries:function(t,n){var o=this,u=0;return Xe(this,this.toSeq().map((function(s,h){return t.call(n,[h,s],u++,o)})).fromEntrySeq())},mapKeys:function(t,n){var o=this;return Xe(this,this.toSeq().flip().map((function(u,s){return t.call(n,u,s,o)})).flip())}});var kr=u.prototype;function Ar(t,n){return n}function jr(t,n){return[n,t]}function Ur(t){return function(){return!t.apply(this,arguments)}}function Rr(t){return function(){return-t.apply(this,arguments)}}function Kr(t){return'string'==typeof t?JSON.stringify(t):String(t)}function Lr(){return E(arguments)}function Tr(t,n){return t<n?1:t>n?-1:0}function Br(t,n){return t^n+2654435769+(t<<6)+(t>>2)|0}return kr[y]=!0,kr[W]=xr.entries,kr.__toJS=xr.toObject,kr.__toStringMapper=function(t,n){return JSON.stringify(n)+': '+Kr(t)},Or(s,{toKeyedSeq:function(){return new je(this,!1)},filter:function(t,n){return Xe(this,We(this,t,n,!1))},findIndex:function(t,n){var o=this.findEntry(t,n);return o?o[0]:-1},indexOf:function(t){var n=this.keyOf(t);return void 0===n?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return void 0===n?-1:n},reverse:function(){return Xe(this,Be(this,!1))},slice:function(t,n){return Xe(this,Ce(this,t,n,!1))},splice:function(t,n){var o=arguments.length;if(n=Math.max(0|n,0),0===o||2===o&&!n)return this;t=j(t,t<0?this.count():this.size);var u=this.slice(0,t);return Xe(this,1===o?u:u.concat(E(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var o=this.findLastEntry(t,n);return o?o[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Xe(this,Pe(this,t,!1))},get:function(t,n){return(t=x(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?n:this.find((function(n,o){return o===t}),void 0,n)},has:function(t){return(t=x(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Xe(this,(function(t,n){var o=$e(t);return o.size=t.size&&2*t.size-1,o.__iterateUncached=function(o,u){var s=this,h=0;return t.__iterate((function(t,u){return(!h||!1!==o(n,h++,s))&&!1!==o(t,h++,s)}),u),h},o.__iteratorUncached=function(o,u){var s,h=t.__iterator(1,u),f=0;return new C((function(){return(!s||f%2)&&(s=h.next()).done?s:f%2?J(o,f++,n):J(o,f++,s.value,s)}))},o})(this,t))},interleave:function(){var t=[this].concat(E(arguments)),n=Ye(this.toSeq(),G.of,t),o=n.flatten(!0);return n.size&&(o.size=n.size*t.length),Xe(this,o)},keySeq:function(){return dt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,n){return Xe(this,Je(this,t,n,!1))},zip:function(){var t=[this].concat(E(arguments));return Xe(this,Ye(this,Lr,t))},zipWith:function(t){var n=E(arguments);return n[0]=this,Xe(this,Ye(this,t,n))}}),s.prototype[w]=!0,s.prototype[S]=!0,Or(h,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),h.prototype.has=xr.includes,h.prototype.contains=h.prototype.includes,Or(F,u.prototype),Or(G,s.prototype),Or(Z,h.prototype),Or(gt,u.prototype),Or(wt,s.prototype),Or(St,h.prototype),{Iterable:o,Seq:X,Collection:mt,Map:Lt,OrderedMap:Ee,List:ce,Stack:zr,Set:ar,OrderedSet:yr,Record:nr,Range:dt,Repeat:vt,is:pt,fromJS:ft}},'object'==typeof e&&void 0!==m?m.exports=n():'function'==typeof define&&define.amd?define(n):t.Immutable=n()}),"dd7c27",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.default)(t,n.ACTION_FAILURE,u,_)};var t,u=r(d[0]),l=(t=u)&&t.__esModule?t:{default:t},n=r(d[1])}),"df895b",["3e6a2b","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.combineReducers)(Object.assign({},s,{entities:u.default,resources:n.default}))};var t=r(d[0]),u=s(r(d[1])),n=s(r(d[2]));function s(t){return t&&t.__esModule?t:{default:t}}}),"dfb46c",["706ad0","e75cca","f6cd0f"]);
__d((function(g,r,i,a,m,e,d){"use strict";
/**
   * @copyright   2016-2019, Miles Johnson
   * @license     https://opensource.org/licenses/MIT
   */var t=Object.create?function(t,n,u,o){void 0===o&&(o=u),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[u]}})}:function(t,n,u,o){void 0===o&&(o=u),t[o]=n[u]};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(function(n,u){for(var o in n)"default"===o||Object.prototype.hasOwnProperty.call(u,o)||t(u,n,o)})(r(d[0]),e);var n=r(d[1]);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return(t=n,t&&t.__esModule?t:{default:t}).default;var t}})}),"dfbd41",["18f427","d2a0ca"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t.default,v=arguments[1];if(!(0,l.default)(v))return s;var E=v.meta||{},_=E.entityName,c=void 0===_?'':_,y=E.apiMethod,M=void 0===y?'':y,T=E.strategy,O=void 0===T?o.STRATEGY_MERGE:T,D=E.hardDelete,h=void 0!==D&&D,p=E.limit,A=u.default.factory(c),C=(0,f.default)(v.payload,A),I=C.data,L=C.id;if(!A||!M)return s;if(M===o.METHOD_DELETE&&h&&L)return s.deleteItem(A,L);if(Array.isArray(I))return s.setCollection(A,M===o.METHOD_COLLECTION&&p?I.slice(0,p):I,O);if((0,n.default)(I))return s.setItem(A,I,O);return s};var t=s(r(d[0])),u=s(r(d[1])),l=s(r(d[2])),n=s(r(d[3])),f=s(r(d[4])),o=r(d[5]);function s(t){return t&&t.__esModule?t:{default:t}}}),"e75cca",["a823ed","117207","b231f4","43d22e","03b7cd","7f79f6"]);
__d((function(g,r,i,a,m,e,d){'use strict';var n='',t=[];m.exports=function(o,l,c){if(!o||!g.document)return null;if(arguments.length>1&&(null==l||'[object Object]'!==Object.prototype.toString.call(l))){var u=c||{},p=u.expires,f=u.path,s=u.domain,v=u.secure,S=null==l?-1:p;if('number'==typeof S){var x=new Date;x.setDate(x.getDate()+S),S=x}var C=[String(encodeURIComponent(o))+'='+String(encodeURIComponent(l)),!!S&&'expires='+String(S.toUTCString()),!!f&&'path='+String(f),!!s&&'domain='+String(s),!!v&&'secure'].filter(Boolean).join('; ');return g.document.cookie=C,C}var U=g.document.cookie;if(null==U)return null;U!==n&&(n=U,t=U.split('; '));for(var b=0;b<t.length;b+=1){var h=t[b].indexOf('='),j=decodeURIComponent(t[b].slice(0,h));if(o===j){var I=t[b].indexOf('=',h+1),O=-1===I?void 0:I;return decodeURIComponent(t[b].slice(h+1,O))}}return null}}),"e8c6ea",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:t,meta:n,payload:o,error:o instanceof Error}}}),"ec6d91",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.default)(t,n.ACTION_SUCCESS,u,o)};var t,u=r(d[0]),l=(t=u)&&t.__esModule?t:{default:t},n=r(d[1])}),"f3f34c",["3e6a2b","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,l=arguments[1],T=l.meta||{},h=T.resourceName,p=T.actionType,A=T.entityName,_=void 0===A?'':A,R=T.apiMethod,v=void 0===R?'':R,N=T.page,C=T.limit,S=T.strategy,I=void 0===S?c.STRATEGY_MERGE:S,O=T.hardDelete,F=void 0!==O&&O;if((0,s.default)(l)&&v===c.METHOD_DELETE&&F){var U=n.default.factory(_),D=(0,u.default)(l.payload,U),L=D.id;if(L)return t.resetResourcesWithEntity(_,L)}if(!(0,o.default)(l)||!h||!p)return t;switch(p){default:case c.ACTION_REQUEST:return t.setResource(h,{actionType:c.ACTION_REQUEST,isFetching:!0,error:null,entityName:_},I);case c.ACTION_FAILURE:return t.setResource(h,{actionType:c.ACTION_FAILURE,isFetching:!1,hasFetched:!0,error:l.payload instanceof Error?l.payload:null,entityName:_},I);case c.ACTION_RESET:return t.setResource(h,{actionType:c.ACTION_RESET,isFetching:!1,hasFetched:!1,error:null,entityName:_},I);case c.ACTION_SUCCESS:var M=n.default.factory(_),G=(0,u.default)(l.payload,M),P=G.metadata,b=G.data,j=G.id,w=t.getResource(h),Q={metadata:P,item:null,items:[],pages:w.pages,pagination:w.pagination};if(M&&b&&(Array.isArray(b)?Q.items=b.map((function(t){return M.getStateID(t)})):j&&(Q.item=j)),N&&C){var Y=!1;Q.items.length?(Y=E(Q.items,C),Q.items=Q.items.slice(0,C),Q.pages[N]=[].concat(f(Q.items))):(Y=E(Q.pages[N+1]),Q.items=[].concat(f(Q.pages[N]||[]))),Q.pagination={page:N,hasNext:Y,hasPrev:N>1}}return t.setResource(h,Object.assign({},w,{actionType:c.ACTION_SUCCESS,isFetching:!1,hasFetched:!0,entityName:_},Q),c.STRATEGY_REPLACE);case c.ACTION_DELETE:return t.deleteResource(h)}};var t=l(r(d[0])),n=l(r(d[1])),s=l(r(d[2])),o=l(r(d[3])),u=l(r(d[4])),c=r(d[5]);function l(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var n=0,s=Array(t.length);n<t.length;n++)s[n]=t[n];return s}return Array.from(t)}var y=new t.default;function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.isArray(t)&&t.length>n}}),"f6cd0f",["6099b0","117207","b231f4","3223e4","03b7cd","7f79f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";m.exports=r(d[0])}),"f8e8b1",["0a5aa7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(f,l){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c='';if('string'==typeof f)c=f;else{var v=u.default.factory(f);v&&(c=v.getEntityName())}return(0,n.default)((0,t.default)('entity',c,l),Object.assign({},s,{entityName:c,apiMethod:l}),o)};var t=f(r(d[0])),n=f(r(d[1])),u=(f(r(d[2])),f(r(d[3])));r(d[4]);function f(t){return t&&t.__esModule?t:{default:t}}}),"f9015e",["b5cb90","ec6d91","6bc1f5","117207","7f79f6"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/4754.710bd0e92f.js.map